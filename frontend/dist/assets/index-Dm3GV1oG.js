var $s=Object.defineProperty;var Rs=(n,e,t)=>e in n?$s(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var wt=(n,e,t)=>Rs(n,typeof e!="symbol"?e+"":e,t);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))s(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&s(l)}).observe(document,{childList:!0,subtree:!0});function t(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerPolicy&&(o.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?o.credentials="include":r.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function s(r){if(r.ep)return;r.ep=!0;const o=t(r);fetch(r.href,o)}})();function L(){}const gt=n=>n;function Ae(n,e){for(const t in e)n[t]=e[t];return n}function is(n){return n()}function tn(){return Object.create(null)}function ie(n){n.forEach(is)}function je(n){return typeof n=="function"}function X(n,e){return n!=n?e==e:n!==e||n&&typeof n=="object"||typeof n=="function"}function Fs(n){return Object.keys(n).length===0}function Ut(n,...e){if(n==null){for(const s of e)s(void 0);return L}const t=n.subscribe(...e);return t.unsubscribe?()=>t.unsubscribe():t}function $e(n){let e;return Ut(n,t=>e=t)(),e}function ae(n,e,t){n.$$.on_destroy.push(Ut(e,t))}function mt(n,e,t,s){if(n){const r=ls(n,e,t,s);return n[0](r)}}function ls(n,e,t,s){return n[1]&&s?Ae(t.ctx.slice(),n[1](s(e))):t.ctx}function ht(n,e,t,s){if(n[2]&&s){const r=n[2](s(t));if(e.dirty===void 0)return r;if(typeof r=="object"){const o=[],l=Math.max(e.dirty.length,r.length);for(let i=0;i<l;i+=1)o[i]=e.dirty[i]|r[i];return o}return e.dirty|r}return e.dirty}function vt(n,e,t,s,r,o){if(r){const l=ls(e,t,s,o);n.p(l,r)}}function bt(n){if(n.ctx.length>32){const e=[],t=n.ctx.length/32;for(let s=0;s<t;s++)e[s]=-1;return e}return-1}function Ls(n){const e={};for(const t in n)t[0]!=="$"&&(e[t]=n[t]);return e}function nn(n,e){const t={};e=new Set(e);for(const s in n)!e.has(s)&&s[0]!=="$"&&(t[s]=n[s]);return t}function sn(n){const e=typeof n=="string"&&n.match(/^\s*(-?[\d.]+)([^\s]*)\s*$/);return e?[parseFloat(e[1]),e[2]||"px"]:[n,"px"]}const as=typeof window<"u";let zt=as?()=>window.performance.now():()=>Date.now(),Bt=as?n=>requestAnimationFrame(n):L;const qe=new Set;function cs(n){qe.forEach(e=>{e.c(n)||(qe.delete(e),e.f())}),qe.size!==0&&Bt(cs)}function Vt(n){let e;return qe.size===0&&Bt(cs),{promise:new Promise(t=>{qe.add(e={c:n,f:t})}),abort(){qe.delete(e)}}}function m(n,e){n.appendChild(e)}function us(n){if(!n)return document;const e=n.getRootNode?n.getRootNode():n.ownerDocument;return e&&e.host?e:n.ownerDocument}function Ps(n){const e=v("style");return e.textContent="/* empty */",Ms(us(n),e),e.sheet}function Ms(n,e){return m(n.head||n,e),e.sheet}function C(n,e,t){n.insertBefore(e,t||null)}function T(n){n.parentNode&&n.parentNode.removeChild(n)}function qt(n,e){for(let t=0;t<n.length;t+=1)n[t]&&n[t].d(e)}function v(n){return document.createElement(n)}function j(n){return document.createTextNode(n)}function $(){return j(" ")}function pe(){return j("")}function q(n,e,t,s){return n.addEventListener(e,t,s),()=>n.removeEventListener(e,t,s)}function js(n){return function(e){e.target===this&&n.call(this,e)}}function p(n,e,t){t==null?n.removeAttribute(e):n.getAttribute(e)!==t&&n.setAttribute(e,t)}const Ns=["width","height"];function rn(n,e){const t=Object.getOwnPropertyDescriptors(n.__proto__);for(const s in e)e[s]==null?n.removeAttribute(s):s==="style"?n.style.cssText=e[s]:s==="__value"?n.value=n[s]=e[s]:t[s]&&t[s].set&&Ns.indexOf(s)===-1?n[s]=e[s]:p(n,s,e[s])}function Ds(n){return Array.from(n.childNodes)}function Y(n,e){e=""+e,n.data!==e&&(n.data=e)}function le(n,e){n.value=e??""}function on(n,e,t,s){t==null?n.style.removeProperty(e):n.style.setProperty(e,t,"")}function ln(n,e,t){for(let s=0;s<n.options.length;s+=1){const r=n.options[s];if(r.__value===e){r.selected=!0;return}}(!t||e!==void 0)&&(n.selectedIndex=-1)}function Us(n){const e=n.querySelector(":checked");return e&&e.__value}function B(n,e,t){n.classList.toggle(e,!!t)}function fs(n,e,{bubbles:t=!1,cancelable:s=!1}={}){return new CustomEvent(n,{detail:e,bubbles:t,cancelable:s})}function at(n,e){return new n(e)}const ct=new Map;let ut=0;function zs(n){let e=5381,t=n.length;for(;t--;)e=(e<<5)-e^n.charCodeAt(t);return e>>>0}function Bs(n,e){const t={stylesheet:Ps(e),rules:{}};return ct.set(n,t),t}function ft(n,e,t,s,r,o,l,i=0){const a=16.666/s;let c=`{
`;for(let k=0;k<=1;k+=a){const b=e+(t-e)*o(k);c+=k*100+`%{${l(b,1-b)}}
`}const u=c+`100% {${l(t,1-t)}}
}`,f=`__svelte_${zs(u)}_${i}`,d=us(n),{stylesheet:h,rules:g}=ct.get(d)||Bs(d,n);g[f]||(g[f]=!0,h.insertRule(`@keyframes ${f} ${u}`,h.cssRules.length));const _=n.style.animation||"";return n.style.animation=`${_?`${_}, `:""}${f} ${s}ms linear ${r}ms 1 both`,ut+=1,f}function dt(n,e){const t=(n.style.animation||"").split(", "),s=t.filter(e?o=>o.indexOf(e)<0:o=>o.indexOf("__svelte")===-1),r=t.length-s.length;r&&(n.style.animation=s.join(", "),ut-=r,ut||Vs())}function Vs(){Bt(()=>{ut||(ct.forEach(n=>{const{ownerNode:e}=n.stylesheet;e&&T(e)}),ct.clear())})}let Ze;function Xe(n){Ze=n}function _t(){if(!Ze)throw new Error("Function called outside component initialization");return Ze}function Ie(n){_t().$$.on_mount.push(n)}function qs(n){_t().$$.after_update.push(n)}function Wt(n){_t().$$.on_destroy.push(n)}function _e(){const n=_t();return(e,t,{cancelable:s=!1}={})=>{const r=n.$$.callbacks[e];if(r){const o=fs(e,t,{cancelable:s});return r.slice().forEach(l=>{l.call(n,o)}),!o.defaultPrevented}return!0}}function At(n,e){const t=n.$$.callbacks[e.type];t&&t.slice().forEach(s=>s.call(this,e))}const Be=[],Le=[];let We=[];const It=[],ds=Promise.resolve();let Ot=!1;function ps(){Ot||(Ot=!0,ds.then(ms))}function gs(){return ps(),ds}function W(n){We.push(n)}function $t(n){It.push(n)}const yt=new Set;let Ne=0;function ms(){if(Ne!==0)return;const n=Ze;do{try{for(;Ne<Be.length;){const e=Be[Ne];Ne++,Xe(e),Ws(e.$$)}}catch(e){throw Be.length=0,Ne=0,e}for(Xe(null),Be.length=0,Ne=0;Le.length;)Le.pop()();for(let e=0;e<We.length;e+=1){const t=We[e];yt.has(t)||(yt.add(t),t())}We.length=0}while(Be.length);for(;It.length;)It.pop()();Ot=!1,yt.clear(),Xe(n)}function Ws(n){if(n.fragment!==null){n.update(),ie(n.before_update);const e=n.dirty;n.dirty=[-1],n.fragment&&n.fragment.p(n.ctx,e),n.after_update.forEach(W)}}function Ks(n){const e=[],t=[];We.forEach(s=>n.indexOf(s)===-1?e.push(s):t.push(s)),t.forEach(s=>s()),We=e}let Ge;function Kt(){return Ge||(Ge=Promise.resolve(),Ge.then(()=>{Ge=null})),Ge}function Re(n,e,t){n.dispatchEvent(fs(`${e?"intro":"outro"}${t}`))}const ot=new Set;let ye;function G(){ye={r:0,c:[],p:ye}}function H(){ye.r||ie(ye.c),ye=ye.p}function E(n,e){n&&n.i&&(ot.delete(n),n.i(e))}function I(n,e,t,s){if(n&&n.o){if(ot.has(n))return;ot.add(n),ye.c.push(()=>{ot.delete(n),s&&(t&&n.d(1),s())}),n.o(e)}else s&&s()}const Gt={duration:0};function se(n,e,t){const s={direction:"in"};let r=e(n,t,s),o=!1,l,i,a=0;function c(){l&&dt(n,l)}function u(){const{delay:d=0,duration:h=300,easing:g=gt,tick:_=L,css:k}=r||Gt;k&&(l=ft(n,0,1,h,d,g,k,a++)),_(0,1);const b=zt()+d,w=b+h;i&&i.abort(),o=!0,W(()=>Re(n,!0,"start")),i=Vt(S=>{if(o){if(S>=w)return _(1,0),Re(n,!0,"end"),c(),o=!1;if(S>=b){const y=g((S-b)/h);_(y,1-y)}}return o})}let f=!1;return{start(){f||(f=!0,dt(n),je(r)?(r=r(s),Kt().then(u)):u())},invalidate(){f=!1},end(){o&&(c(),o=!1)}}}function Gs(n,e,t){const s={direction:"out"};let r=e(n,t,s),o=!0,l;const i=ye;i.r+=1;let a;function c(){const{delay:u=0,duration:f=300,easing:d=gt,tick:h=L,css:g}=r||Gt;g&&(l=ft(n,1,0,f,u,d,g));const _=zt()+u,k=_+f;W(()=>Re(n,!1,"start")),"inert"in n&&(a=n.inert,n.inert=!0),Vt(b=>{if(o){if(b>=k)return h(0,1),Re(n,!1,"end"),--i.r||ie(i.c),!1;if(b>=_){const w=d((b-_)/f);h(1-w,w)}}return o})}return je(r)?Kt().then(()=>{r=r(s),c()}):c(),{end(u){u&&"inert"in n&&(n.inert=a),u&&r.tick&&r.tick(1,0),o&&(l&&dt(n,l),o=!1)}}}function oe(n,e,t,s){let o=e(n,t,{direction:"both"}),l=s?0:1,i=null,a=null,c=null,u;function f(){c&&dt(n,c)}function d(g,_){const k=g.b-l;return _*=Math.abs(k),{a:l,b:g.b,d:k,duration:_,start:g.start,end:g.start+_,group:g.group}}function h(g){const{delay:_=0,duration:k=300,easing:b=gt,tick:w=L,css:S}=o||Gt,y={start:zt()+_,b:g};g||(y.group=ye,ye.r+=1),"inert"in n&&(g?u!==void 0&&(n.inert=u):(u=n.inert,n.inert=!0)),i||a?a=y:(S&&(f(),c=ft(n,l,g,k,_,b,S)),g&&w(0,1),i=d(y,k),W(()=>Re(n,g,"start")),Vt(A=>{if(a&&A>a.start&&(i=d(a,k),a=null,Re(n,i.b,"start"),S&&(f(),c=ft(n,l,i.b,i.duration,0,b,o.css))),i){if(A>=i.end)w(l=i.b,1-l),Re(n,i.b,"end"),a||(i.b?f():--i.group.r||ie(i.group.c)),i=null;else if(A>=i.start){const R=A-i.start;l=i.a+i.d*b(R/i.duration),w(l,1-l)}}return!!(i||a)}))}return{run(g){je(o)?Kt().then(()=>{o=o({direction:g?"in":"out"}),h(g)}):h(g)},end(){f(),i=a=null}}}function ke(n){return(n==null?void 0:n.length)!==void 0?n:Array.from(n)}function hs(n,e){I(n,1,1,()=>{e.delete(n.key)})}function vs(n,e,t,s,r,o,l,i,a,c,u,f){let d=n.length,h=o.length,g=d;const _={};for(;g--;)_[n[g].key]=g;const k=[],b=new Map,w=new Map,S=[];for(g=h;g--;){const O=f(r,o,g),F=t(O);let M=l.get(F);M?S.push(()=>M.p(O,e)):(M=c(F,O),M.c()),b.set(F,k[g]=M),F in _&&w.set(F,Math.abs(g-_[F]))}const y=new Set,A=new Set;function R(O){E(O,1),O.m(i,u),l.set(O.key,O),u=O.first,h--}for(;d&&h;){const O=k[h-1],F=n[d-1],M=O.key,re=F.key;O===F?(u=O.first,d--,h--):b.has(re)?!l.has(M)||y.has(M)?R(O):A.has(re)?d--:w.get(M)>w.get(re)?(A.add(M),R(O)):(y.add(re),d--):(a(F,l),d--)}for(;d--;){const O=n[d];b.has(O.key)||a(O,l)}for(;h;)R(k[h-1]);return ie(S),k}function Je(n,e){const t={},s={},r={$$scope:1};let o=n.length;for(;o--;){const l=n[o],i=e[o];if(i){for(const a in l)a in i||(s[a]=1);for(const a in i)r[a]||(t[a]=i[a],r[a]=1);n[o]=i}else for(const a in l)r[a]=1}for(const l in s)l in t||(t[l]=void 0);return t}function pt(n){return typeof n=="object"&&n!==null?n:{}}function Rt(n,e,t){const s=n.$$.props[e];s!==void 0&&(n.$$.bound[s]=t,t(n.$$.ctx[s]))}function z(n){n&&n.c()}function D(n,e,t){const{fragment:s,after_update:r}=n.$$;s&&s.m(e,t),W(()=>{const o=n.$$.on_mount.map(is).filter(je);n.$$.on_destroy?n.$$.on_destroy.push(...o):ie(o),n.$$.on_mount=[]}),r.forEach(W)}function U(n,e){const t=n.$$;t.fragment!==null&&(Ks(t.after_update),ie(t.on_destroy),t.fragment&&t.fragment.d(e),t.on_destroy=t.fragment=null,t.ctx=[])}function Hs(n,e){n.$$.dirty[0]===-1&&(Be.push(n),ps(),n.$$.dirty.fill(0)),n.$$.dirty[e/31|0]|=1<<e%31}function Z(n,e,t,s,r,o,l=null,i=[-1]){const a=Ze;Xe(n);const c=n.$$={fragment:null,ctx:[],props:o,update:L,not_equal:r,bound:tn(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(a?a.$$.context:[])),callbacks:tn(),dirty:i,skip_bound:!1,root:e.target||a.$$.root};l&&l(c.root);let u=!1;if(c.ctx=t?t(n,e.props||{},(f,d,...h)=>{const g=h.length?h[0]:d;return c.ctx&&r(c.ctx[f],c.ctx[f]=g)&&(!c.skip_bound&&c.bound[f]&&c.bound[f](g),u&&Hs(n,f)),d}):[],c.update(),u=!0,ie(c.before_update),c.fragment=s?s(c.ctx):!1,e.target){if(e.hydrate){const f=Ds(e.target);c.fragment&&c.fragment.l(f),f.forEach(T)}else c.fragment&&c.fragment.c();e.intro&&E(n.$$.fragment),D(n,e.target,e.anchor),ms()}Xe(a)}class J{constructor(){wt(this,"$$");wt(this,"$$set")}$destroy(){U(this,1),this.$destroy=L}$on(e,t){if(!je(t))return L;const s=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return s.push(t),()=>{const r=s.indexOf(t);r!==-1&&s.splice(r,1)}}$set(e){this.$$set&&!Fs(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const Ys="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(Ys);const De=[];function bs(n,e){return{subscribe:we(n,e).subscribe}}function we(n,e=L){let t;const s=new Set;function r(i){if(X(n,i)&&(n=i,t)){const a=!De.length;for(const c of s)c[1](),De.push(c,n);if(a){for(let c=0;c<De.length;c+=2)De[c][0](De[c+1]);De.length=0}}}function o(i){r(i(n))}function l(i,a=L){const c=[i,a];return s.add(c),s.size===1&&(t=e(r,o)||L),i(n),()=>{s.delete(c),s.size===0&&t&&(t(),t=null)}}return{set:r,update:o,subscribe:l}}function ge(n,e,t){const s=!Array.isArray(n),r=s?[n]:n;if(!r.every(Boolean))throw new Error("derived() expects stores as input, got a falsy value");const o=e.length<2;return bs(t,(l,i)=>{let a=!1;const c=[];let u=0,f=L;const d=()=>{if(u)return;f();const g=e(s?c[0]:c,l,i);o?l(g):f=je(g)?g:L},h=r.map((g,_)=>Ut(g,k=>{c[_]=k,u&=~(1<<_),a&&d()},()=>{u|=1<<_}));return a=!0,d(),function(){ie(h),f(),a=!1}})}function Xs(n,e){if(n instanceof RegExp)return{keys:!1,pattern:n};var t,s,r,o,l=[],i="",a=n.split("/");for(a[0]||a.shift();r=a.shift();)t=r[0],t==="*"?(l.push("wild"),i+="/(.*)"):t===":"?(s=r.indexOf("?",1),o=r.indexOf(".",1),l.push(r.substring(1,~s?s:~o?o:r.length)),i+=~s&&!~o?"(?:/([^/]+?))?":"/([^/]+?)",~o&&(i+=(~s?"?":"")+"\\"+r.substring(o))):i+="/"+r;return{keys:l,pattern:new RegExp("^"+i+"/?$","i")}}function Qs(n){let e,t,s;const r=[n[2]];var o=n[0];function l(i,a){let c={};for(let u=0;u<r.length;u+=1)c=Ae(c,r[u]);return a!==void 0&&a&4&&(c=Ae(c,Je(r,[pt(i[2])]))),{props:c}}return o&&(e=at(o,l(n)),e.$on("routeEvent",n[7])),{c(){e&&z(e.$$.fragment),t=pe()},m(i,a){e&&D(e,i,a),C(i,t,a),s=!0},p(i,a){if(a&1&&o!==(o=i[0])){if(e){G();const c=e;I(c.$$.fragment,1,0,()=>{U(c,1)}),H()}o?(e=at(o,l(i,a)),e.$on("routeEvent",i[7]),z(e.$$.fragment),E(e.$$.fragment,1),D(e,t.parentNode,t)):e=null}else if(o){const c=a&4?Je(r,[pt(i[2])]):{};e.$set(c)}},i(i){s||(e&&E(e.$$.fragment,i),s=!0)},o(i){e&&I(e.$$.fragment,i),s=!1},d(i){i&&T(t),e&&U(e,i)}}}function Zs(n){let e,t,s;const r=[{params:n[1]},n[2]];var o=n[0];function l(i,a){let c={};for(let u=0;u<r.length;u+=1)c=Ae(c,r[u]);return a!==void 0&&a&6&&(c=Ae(c,Je(r,[a&2&&{params:i[1]},a&4&&pt(i[2])]))),{props:c}}return o&&(e=at(o,l(n)),e.$on("routeEvent",n[6])),{c(){e&&z(e.$$.fragment),t=pe()},m(i,a){e&&D(e,i,a),C(i,t,a),s=!0},p(i,a){if(a&1&&o!==(o=i[0])){if(e){G();const c=e;I(c.$$.fragment,1,0,()=>{U(c,1)}),H()}o?(e=at(o,l(i,a)),e.$on("routeEvent",i[6]),z(e.$$.fragment),E(e.$$.fragment,1),D(e,t.parentNode,t)):e=null}else if(o){const c=a&6?Je(r,[a&2&&{params:i[1]},a&4&&pt(i[2])]):{};e.$set(c)}},i(i){s||(e&&E(e.$$.fragment,i),s=!0)},o(i){e&&I(e.$$.fragment,i),s=!1},d(i){i&&T(t),e&&U(e,i)}}}function Js(n){let e,t,s,r;const o=[Zs,Qs],l=[];function i(a,c){return a[1]?0:1}return e=i(n),t=l[e]=o[e](n),{c(){t.c(),s=pe()},m(a,c){l[e].m(a,c),C(a,s,c),r=!0},p(a,[c]){let u=e;e=i(a),e===u?l[e].p(a,c):(G(),I(l[u],1,1,()=>{l[u]=null}),H(),t=l[e],t?t.p(a,c):(t=l[e]=o[e](a),t.c()),E(t,1),t.m(s.parentNode,s))},i(a){r||(E(t),r=!0)},o(a){I(t),r=!1},d(a){a&&T(s),l[e].d(a)}}}function an(){const n=window.location.href.indexOf("#/");let e=n>-1?window.location.href.substr(n+1):"/";const t=e.indexOf("?");let s="";return t>-1&&(s=e.substr(t+1),e=e.substr(0,t)),{location:e,querystring:s}}const Ht=bs(null,function(e){e(an());const t=()=>{e(an())};return window.addEventListener("hashchange",t,!1),function(){window.removeEventListener("hashchange",t,!1)}}),xs=ge(Ht,n=>n.location);ge(Ht,n=>n.querystring);const cn=we(void 0);async function Ft(n){if(!n||n.length<1||n.charAt(0)!="/"&&n.indexOf("#/")!==0)throw Error("Invalid parameter location");await gs(),history.replaceState({...history.state,__svelte_spa_router_scrollX:window.scrollX,__svelte_spa_router_scrollY:window.scrollY},void 0),window.location.hash=(n.charAt(0)=="#"?"":"#")+n}function er(n){n?window.scrollTo(n.__svelte_spa_router_scrollX,n.__svelte_spa_router_scrollY):window.scrollTo(0,0)}function tr(n,e,t){let{routes:s={}}=e,{prefix:r=""}=e,{restoreScrollState:o=!1}=e;class l{constructor(A,R){if(!R||typeof R!="function"&&(typeof R!="object"||R._sveltesparouter!==!0))throw Error("Invalid component object");if(!A||typeof A=="string"&&(A.length<1||A.charAt(0)!="/"&&A.charAt(0)!="*")||typeof A=="object"&&!(A instanceof RegExp))throw Error('Invalid value for "path" argument - strings must start with / or *');const{pattern:O,keys:F}=Xs(A);this.path=A,typeof R=="object"&&R._sveltesparouter===!0?(this.component=R.component,this.conditions=R.conditions||[],this.userData=R.userData,this.props=R.props||{}):(this.component=()=>Promise.resolve(R),this.conditions=[],this.props={}),this._pattern=O,this._keys=F}match(A){if(r){if(typeof r=="string")if(A.startsWith(r))A=A.substr(r.length)||"/";else return null;else if(r instanceof RegExp){const M=A.match(r);if(M&&M[0])A=A.substr(M[0].length)||"/";else return null}}const R=this._pattern.exec(A);if(R===null)return null;if(this._keys===!1)return R;const O={};let F=0;for(;F<this._keys.length;){try{O[this._keys[F]]=decodeURIComponent(R[F+1]||"")||null}catch{O[this._keys[F]]=null}F++}return O}async checkConditions(A){for(let R=0;R<this.conditions.length;R++)if(!await this.conditions[R](A))return!1;return!0}}const i=[];s instanceof Map?s.forEach((y,A)=>{i.push(new l(A,y))}):Object.keys(s).forEach(y=>{i.push(new l(y,s[y]))});let a=null,c=null,u={};const f=_e();async function d(y,A){await gs(),f(y,A)}let h=null,g=null;o&&(g=y=>{y.state&&(y.state.__svelte_spa_router_scrollY||y.state.__svelte_spa_router_scrollX)?h=y.state:h=null},window.addEventListener("popstate",g),qs(()=>{er(h)}));let _=null,k=null;const b=Ht.subscribe(async y=>{_=y;let A=0;for(;A<i.length;){const R=i[A].match(y.location);if(!R){A++;continue}const O={route:i[A].path,location:y.location,querystring:y.querystring,userData:i[A].userData,params:R&&typeof R=="object"&&Object.keys(R).length?R:null};if(!await i[A].checkConditions(O)){t(0,a=null),k=null,d("conditionsFailed",O);return}d("routeLoading",Object.assign({},O));const F=i[A].component;if(k!=F){F.loading?(t(0,a=F.loading),k=F,t(1,c=F.loadingParams),t(2,u={}),d("routeLoaded",Object.assign({},O,{component:a,name:a.name,params:c}))):(t(0,a=null),k=null);const M=await F();if(y!=_)return;t(0,a=M&&M.default||M),k=F}R&&typeof R=="object"&&Object.keys(R).length?t(1,c=R):t(1,c=null),t(2,u=i[A].props),d("routeLoaded",Object.assign({},O,{component:a,name:a.name,params:c})).then(()=>{cn.set(c)});return}t(0,a=null),k=null,cn.set(void 0)});Wt(()=>{b(),g&&window.removeEventListener("popstate",g)});function w(y){At.call(this,n,y)}function S(y){At.call(this,n,y)}return n.$$set=y=>{"routes"in y&&t(3,s=y.routes),"prefix"in y&&t(4,r=y.prefix),"restoreScrollState"in y&&t(5,o=y.restoreScrollState)},n.$$.update=()=>{n.$$.dirty&32&&(history.scrollRestoration=o?"manual":"auto")},[a,c,u,s,r,o,w,S]}class nr extends J{constructor(e){super(),Z(this,e,tr,Js,X,{routes:3,prefix:4,restoreScrollState:5})}}function sr(n){return--n*n*((1.70158+1)*n+1.70158)+1}function Yt(n){const e=n-1;return e*e*e+1}function un(n){return Math.sin(-13*(n+1)*Math.PI/2)*Math.pow(2,-10*n)+1}function te(n,{delay:e=0,duration:t=400,easing:s=gt}={}){const r=+getComputedStyle(n).opacity;return{delay:e,duration:t,easing:s,css:o=>`opacity: ${o*r}`}}function Pe(n,{delay:e=0,duration:t=400,easing:s=Yt,x:r=0,y:o=0,opacity:l=0}={}){const i=getComputedStyle(n),a=+i.opacity,c=i.transform==="none"?"":i.transform,u=a*(1-l),[f,d]=sn(r),[h,g]=sn(o);return{delay:e,duration:t,easing:s,css:(_,k)=>`
			transform: ${c} translate(${(1-_)*f}${d}, ${(1-_)*h}${g});
			opacity: ${a-u*k}`}}function Me(n,{delay:e=0,duration:t=400,easing:s=Yt,axis:r="y"}={}){const o=getComputedStyle(n),l=+o.opacity,i=r==="y"?"height":"width",a=parseFloat(o[i]),c=r==="y"?["top","bottom"]:["left","right"],u=c.map(b=>`${b[0].toUpperCase()}${b.slice(1)}`),f=parseFloat(o[`padding${u[0]}`]),d=parseFloat(o[`padding${u[1]}`]),h=parseFloat(o[`margin${u[0]}`]),g=parseFloat(o[`margin${u[1]}`]),_=parseFloat(o[`border${u[0]}Width`]),k=parseFloat(o[`border${u[1]}Width`]);return{delay:e,duration:t,easing:s,css:b=>`overflow: hidden;opacity: ${Math.min(b*20,1)*l};${i}: ${b*a}px;padding-${c[0]}: ${b*f}px;padding-${c[1]}: ${b*d}px;margin-${c[0]}: ${b*h}px;margin-${c[1]}: ${b*g}px;border-${c[0]}-width: ${b*_}px;border-${c[1]}-width: ${b*k}px;`}}function _s(n,{delay:e=0,duration:t=400,easing:s=Yt,start:r=0,opacity:o=0}={}){const l=getComputedStyle(n),i=+l.opacity,a=l.transform==="none"?"":l.transform,c=1-r,u=i*(1-o);return{delay:e,duration:t,easing:s,css:(f,d)=>`
			transform: ${a} scale(${1-c*d});
			opacity: ${i-u*d}
		`}}function fn(n){let e,t,s;return{c(){e=v("div"),t=j(n[1]),p(e,"class","name svelte-1bgtg35")},m(r,o){C(r,e,o),m(e,t)},p(r,o){n=r,o&2&&Y(t,n[1])},i(r){r&&(s||W(()=>{s=se(e,Me,{delay:n[3]+100,duration:200}),s.start()}))},o:L,d(r){r&&T(e)}}}function dn(n){let e,t;return{c(){e=v("div"),e.innerHTML='<span class="dot svelte-1bgtg35"></span> <span class="dot svelte-1bgtg35"></span> <span class="dot svelte-1bgtg35"></span>',p(e,"class","typing-indicator svelte-1bgtg35")},m(s,r){C(s,e,r)},i(s){s&&(t||W(()=>{t=se(e,te,{duration:200}),t.start()}))},o:L,d(s){s&&T(e)}}}function pn(n){let e,t;return{c(){e=v("div"),p(e,"class","message svelte-1bgtg35")},m(s,r){C(s,e,r),e.innerHTML=n[2]},p(s,r){r&4&&(e.innerHTML=s[2])},i(s){s&&(t||W(()=>{t=se(e,Me,{delay:100,duration:200,axis:"y"}),t.start()}))},o:L,d(s){s&&T(e)}}}function rr(n){let e,t,s,r,o,l,i,a,c,u,f,d,h,g,_=n[5]&&fn(n),k=n[6]&&dn(),b=n[7]&&pn(n);return{c(){e=v("div"),t=v("div"),s=v("div"),_&&_.c(),r=$(),k&&k.c(),o=$(),b&&b.c(),i=$(),a=v("div"),c=v("span"),u=j(n[0]),f=$(),d=v("div"),p(s,"class","message-content svelte-1bgtg35"),p(t,"class","chat-bubble svelte-1bgtg35"),B(t,"bubble-left",n[4]==="left"),B(t,"bubble-right",n[4]==="right"),p(c,"class","avatar svelte-1bgtg35"),p(d,"class","avatar-glow svelte-1bgtg35"),p(a,"class","avatar-bubble svelte-1bgtg35"),B(a,"avatar-left",n[4]==="left"),B(a,"avatar-right",n[4]==="right"),p(e,"class","chat-bubble-container svelte-1bgtg35"),B(e,"container-right",n[4]==="right")},m(w,S){C(w,e,S),m(e,t),m(t,s),_&&_.m(s,null),m(s,r),k&&k.m(s,null),m(s,o),b&&b.m(s,null),m(e,i),m(e,a),m(a,c),m(c,u),m(a,f),m(a,d)},p(w,[S]){n=w,n[5]?_?(_.p(n,S),S&32&&E(_,1)):(_=fn(n),_.c(),E(_,1),_.m(s,r)):_&&(_.d(1),_=null),n[6]?k?S&64&&E(k,1):(k=dn(),k.c(),E(k,1),k.m(s,o)):k&&(k.d(1),k=null),n[7]?b?(b.p(n,S),S&128&&E(b,1)):(b=pn(n),b.c(),E(b,1),b.m(s,null)):b&&(b.d(1),b=null),S&16&&B(t,"bubble-left",n[4]==="left"),S&16&&B(t,"bubble-right",n[4]==="right"),S&1&&Y(u,n[0]),S&16&&B(a,"avatar-left",n[4]==="left"),S&16&&B(a,"avatar-right",n[4]==="right"),S&16&&B(e,"container-right",n[4]==="right")},i(w){E(_),E(k),E(b),w&&(l||W(()=>{l=se(t,Pe,{delay:n[3],duration:400,y:20}),l.start()})),w&&(h||W(()=>{h=se(a,Pe,{delay:n[3],duration:400,x:n[4]==="left"?-20:20}),h.start()})),w&&(g||W(()=>{g=se(e,te,{delay:n[3],duration:300}),g.start()}))},o:L,d(w){w&&T(e),_&&_.d(),k&&k.d(),b&&b.d()}}}function or(n,e,t){let{avatar:s=""}=e,{name:r=""}=e,{message:o=""}=e,{delay:l=0}=e,{avatarPosition:i="left"}=e,{showName:a=!0}=e,{isTyping:c=!1}=e,{showMessage:u=!0}=e;return n.$$set=f=>{"avatar"in f&&t(0,s=f.avatar),"name"in f&&t(1,r=f.name),"message"in f&&t(2,o=f.message),"delay"in f&&t(3,l=f.delay),"avatarPosition"in f&&t(4,i=f.avatarPosition),"showName"in f&&t(5,a=f.showName),"isTyping"in f&&t(6,c=f.isTyping),"showMessage"in f&&t(7,u=f.showMessage)},[s,r,o,l,i,a,c,u]}class tt extends J{constructor(e){super(),Z(this,e,or,rr,X,{avatar:0,name:1,message:2,delay:3,avatarPosition:4,showName:5,isTyping:6,showMessage:7})}}function ir(n){let e,t,s,r,o;const l=n[8].default,i=mt(l,n,n[7],null);let a=[{type:n[1]},{disabled:n[2]},{class:t="button "+n[0]+" "+n[4]+" "+(n[5].class||"")},n[5]],c={};for(let u=0;u<a.length;u+=1)c=Ae(c,a[u]);return{c(){e=v("button"),i&&i.c(),rn(e,c),B(e,"full-width",n[3]),B(e,"svelte-5vqws4",!0)},m(u,f){C(u,e,f),i&&i.m(e,null),e.autofocus&&e.focus(),s=!0,r||(o=q(e,"click",n[9]),r=!0)},p(u,[f]){i&&i.p&&(!s||f&128)&&vt(i,l,u,u[7],s?ht(l,u[7],f,null):bt(u[7]),null),rn(e,c=Je(a,[(!s||f&2)&&{type:u[1]},(!s||f&4)&&{disabled:u[2]},(!s||f&49&&t!==(t="button "+u[0]+" "+u[4]+" "+(u[5].class||"")))&&{class:t},f&32&&u[5]])),B(e,"full-width",u[3]),B(e,"svelte-5vqws4",!0)},i(u){s||(E(i,u),s=!0)},o(u){I(i,u),s=!1},d(u){u&&T(e),i&&i.d(u),r=!1,o()}}}function lr(n,e,t){const s=["variant","type","disabled","fullWidth","size","$$restProps"];let r=nn(e,s),{$$slots:o={},$$scope:l}=e,{variant:i="primary"}=e,{type:a="button"}=e,{disabled:c=!1}=e,{fullWidth:u=!1}=e,{size:f="medium"}=e,{$$restProps:d={}}=e;function h(g){At.call(this,n,g)}return n.$$set=g=>{e=Ae(Ae({},e),Ls(g)),t(5,r=nn(e,s)),"variant"in g&&t(0,i=g.variant),"type"in g&&t(1,a=g.type),"disabled"in g&&t(2,c=g.disabled),"fullWidth"in g&&t(3,u=g.fullWidth),"size"in g&&t(4,f=g.size),"$$restProps"in g&&t(6,d=g.$$restProps),"$$scope"in g&&t(7,l=g.$$scope)},[i,a,c,u,f,r,d,l,o,h]}class Se extends J{constructor(e){super(),Z(this,e,lr,ir,X,{variant:0,type:1,disabled:2,fullWidth:3,size:4,$$restProps:6})}}const Xt=typeof window<"u",kt="1.0.0",me={WELCOME:"welcome",UPDATE:"update",ANNOUNCEMENT:"announcement"},ar={hasSeenWelcome:!1,lastSeenVersion:null,seenMessageTypes:{},isInitialized:!1,error:null},ve=we(ar);async function cr(){if(Xt){if(!(window!=null&&window.electron)){console.warn("Electron API not available, using default welcome state"),ve.update(n=>({...n,isInitialized:!0,error:"Electron API not available"}));return}try{window.electron.onReady(async()=>{try{const n=await window.electron.getSetting("welcomeState");ve.update(e=>({...n||e,isInitialized:!0,error:null}))}catch(n){console.error("Error reading welcome state from settings:",n),ve.update(e=>({...e,isInitialized:!0,error:n.message}))}})}catch(n){console.error("Error reading welcome state from settings:",n),ve.update(e=>({...e,isInitialized:!0,error:n.message}))}}}const He=we(!1);async function Et(n){if(!(!Xt||!(window!=null&&window.electron)))try{const{isInitialized:e,error:t,...s}=n;await window.electron.setSetting("welcomeState",s)}catch(e){console.error("Error saving welcome state to settings:",e),ve.update(t=>({...t,error:e.message}))}}Xt&&cr();const Ve={subscribe:ve.subscribe,shouldShowWelcome:()=>{let n=!1;return ve.update(e=>(n=!e.hasSeenWelcome||e.lastSeenVersion!==kt,e)),n&&!He},shouldShowMessageType:n=>{let e=!1;return ve.update(t=>(e=!t.seenMessageTypes[n],t)),e&&!He},markAsSeen:()=>{He.set(!0),ve.update(n=>{const e={...n,hasSeenWelcome:!0,lastSeenVersion:kt};return Et(e),e})},markMessageTypeSeen:n=>{ve.update(e=>{const t={...e,seenMessageTypes:{...e.seenMessageTypes,[n]:!0}};return Et(t),t})},reset:()=>{He.set(!1),ve.update(()=>{const n={hasSeenWelcome:!1,lastSeenVersion:null,seenMessageTypes:{}};return Et(n),n})},resetSession:()=>{He.set(!1)},getCurrentVersion:()=>kt},Qt=typeof window<"u",ur={keys:{openai:"",mistral:""},isInitialized:!1,error:null},be=we(ur);async function fr(){if(Qt)try{if(!(window!=null&&window.electron)){be.update(n=>({...n,isInitialized:!0,error:"Electron API not available"}));return}window.electron.onReady(async()=>{try{const[n,e]=await Promise.all([window.electron.checkApiKeyExists("openai"),window.electron.checkApiKeyExists("mistral")]),t={openai:n.exists&&(await window.electron.getApiKey("openai")).key||"",mistral:e.exists&&(await window.electron.getApiKey("mistral")).key||""};be.update(s=>({...s,keys:t,isInitialized:!0,error:null}))}catch(n){console.error("Failed to load API keys:",n),be.update(e=>({...e,isInitialized:!0,error:n.message}))}})}catch(n){console.error("Failed to initialize API key store:",n),be.update(e=>({...e,isInitialized:!0,error:n.message}))}}Qt&&fr();async function dr(n="openai"){return $e(be).keys[n]||""}async function it(n,e="openai"){if(!(!Qt||!(window!=null&&window.electron)))try{await window.electron.saveApiKey(n,e),be.update(t=>({...t,keys:{...t.keys,[e]:n},error:null}))}catch(t){console.error("Failed to save API key:",t),be.update(s=>({...s,error:t.message}))}}ge(be,n=>n.isInitialized);ge(be,n=>n.error);const Zt={subscribe:n=>be.subscribe(e=>n(e.keys.openai||"")),set:n=>it(n,"openai")};function gn(n,e,t){const s=n.slice();return s[15]=e[t],s[17]=t,s}function mn(n){let e,t,s,r,o,l,i,a,c,u=[],f=new Map,d,h,g,_,k,b,w,S,y,A;function R(V,ne){return V[0]===me.WELCOME?hr:V[0]===me.UPDATE?mr:V[0]===me.ANNOUNCEMENT?gr:pr}let O=R(n),F=O(n),M=ke(n[2]);const re=V=>V[17];for(let V=0;V<M.length;V+=1){let ne=gn(n,M,V),Oe=re(ne);f.set(Oe,u[V]=hn(Oe,ne))}let N=n[2].length===n[5].length&&vn(n);return{c(){e=v("div"),t=v("div"),s=v("div"),r=v("h3"),F.c(),o=$(),l=v("button"),l.textContent="√ó",i=$(),a=v("div"),c=v("div");for(let V=0;V<u.length;V+=1)u[V].c();d=$(),h=v("div"),g=v("div"),_=v("div"),k=$(),N&&N.c(),p(r,"class","svelte-138tt65"),p(l,"class","close-button svelte-138tt65"),p(s,"class","modal-header svelte-138tt65"),p(c,"class","chat-messages svelte-138tt65"),p(_,"class","progress-fill svelte-138tt65"),on(_,"width",Math.min(100,n[2].length/n[5].length*100)+"%"),p(g,"class","progress-track svelte-138tt65"),p(h,"class","progress-indicator svelte-138tt65"),p(a,"class","modal-content svelte-138tt65"),p(t,"class","chat-modal svelte-138tt65"),p(e,"class","modal-overlay svelte-138tt65")},m(V,ne){C(V,e,ne),m(e,t),m(t,s),m(s,r),F.m(r,null),m(s,o),m(s,l),m(t,i),m(t,a),m(a,c);for(let Oe=0;Oe<u.length;Oe+=1)u[Oe]&&u[Oe].m(c,null);m(a,d),m(a,h),m(h,g),m(g,_),m(a,k),N&&N.m(a,null),S=!0,y||(A=[q(l,"click",n[6]),q(e,"click",js(n[6]))],y=!0)},p(V,ne){O!==(O=R(V))&&(F.d(1),F=O(V),F&&(F.c(),F.m(r,null))),ne&4&&(M=ke(V[2]),G(),u=vs(u,ne,re,1,V,M,f,c,hs,hn,null,gn),H()),(!S||ne&36)&&on(_,"width",Math.min(100,V[2].length/V[5].length*100)+"%"),V[2].length===V[5].length?N?(N.p(V,ne),ne&36&&E(N,1)):(N=vn(V),N.c(),E(N,1),N.m(a,null)):N&&(G(),I(N,1,1,()=>{N=null}),H())},i(V){if(!S){for(let ne=0;ne<M.length;ne+=1)E(u[ne]);E(N),V&&W(()=>{S&&(b||(b=oe(t,Pe,{y:50,duration:400,easing:un},!0)),b.run(1))}),V&&W(()=>{S&&(w||(w=oe(e,te,{duration:300},!0)),w.run(1))}),S=!0}},o(V){for(let ne=0;ne<u.length;ne+=1)I(u[ne]);I(N),V&&(b||(b=oe(t,Pe,{y:50,duration:400,easing:un},!1)),b.run(0)),V&&(w||(w=oe(e,te,{duration:300},!1)),w.run(0)),S=!1},d(V){V&&T(e),F.d();for(let ne=0;ne<u.length;ne+=1)u[ne].d();N&&N.d(),V&&b&&b.end(),V&&w&&w.end(),y=!1,ie(A)}}}function pr(n){let e;return{c(){e=j("codex.md")},m(t,s){C(t,e,s)},d(t){t&&T(e)}}}function gr(n){let e;return{c(){e=j("Announcement")},m(t,s){C(t,e,s)},d(t){t&&T(e)}}}function mr(n){let e;return{c(){e=j("codex.md Update")},m(t,s){C(t,e,s)},d(t){t&&T(e)}}}function hr(n){let e;return{c(){e=j("Welcome to codex.md!")},m(t,s){C(t,e,s)},d(t){t&&T(e)}}}function hn(n,e){let t,s,r,o,l;return s=new tt({props:{avatar:e[15].avatar,name:e[15].name,message:e[15].text,delay:0,avatarPosition:e[15].name.includes("codex.md")?"right":"left",showName:!1}}),{key:n,first:null,c(){t=v("div"),z(s.$$.fragment),r=$(),p(t,"class","message-wrapper svelte-138tt65"),this.first=t},m(i,a){C(i,t,a),D(s,t,null),m(t,r),l=!0},p(i,a){e=i;const c={};a&4&&(c.avatar=e[15].avatar),a&4&&(c.name=e[15].name),a&4&&(c.message=e[15].text),a&4&&(c.avatarPosition=e[15].name.includes("codex.md")?"right":"left"),s.$set(c)},i(i){l||(E(s.$$.fragment,i),i&&(o||W(()=>{o=se(t,Pe,{y:30,duration:500,delay:100,easing:sr}),o.start()})),l=!0)},o(i){I(s.$$.fragment,i),l=!1},d(i){i&&T(t),U(s)}}}function vn(n){let e,t,s,r,o;const l=[br,vr],i=[];function a(c,u){return c[0]===me.WELCOME?0:1}return t=a(n),s=i[t]=l[t](n),{c(){e=v("div"),s.c(),p(e,"class","action-buttons svelte-138tt65")},m(c,u){C(c,e,u),i[t].m(e,null),o=!0},p(c,u){let f=t;t=a(c),t===f?i[t].p(c,u):(G(),I(i[f],1,1,()=>{i[f]=null}),H(),s=i[t],s?s.p(c,u):(s=i[t]=l[t](c),s.c()),E(s,1),s.m(e,null))},i(c){o||(E(s),c&&(r||W(()=>{r=se(e,Pe,{y:20,duration:400,delay:300}),r.start()})),o=!0)},o(c){I(s),o=!1},d(c){c&&T(e),i[t].d()}}}function vr(n){let e,t;return e=new Se({props:{variant:"primary",size:"medium",$$slots:{default:[_r]},$$scope:{ctx:n}}}),e.$on("click",n[9]),{c(){z(e.$$.fragment)},m(s,r){D(e,s,r),t=!0},p(s,r){const o={};r&262144&&(o.$$scope={dirty:r,ctx:s}),e.$set(o)},i(s){t||(E(e.$$.fragment,s),t=!0)},o(s){I(e.$$.fragment,s),t=!1},d(s){U(e,s)}}}function br(n){let e,t,s,r,o,l;e=new Se({props:{variant:"secondary",size:"medium",$$slots:{default:[wr]},$$scope:{ctx:n}}}),e.$on("click",n[7]),s=new Se({props:{variant:"primary",size:"medium",$$slots:{default:[yr]},$$scope:{ctx:n}}}),s.$on("click",n[9]);let i=!n[3]&&bn(n);return{c(){z(e.$$.fragment),t=$(),z(s.$$.fragment),r=$(),i&&i.c(),o=pe()},m(a,c){D(e,a,c),C(a,t,c),D(s,a,c),C(a,r,c),i&&i.m(a,c),C(a,o,c),l=!0},p(a,c){const u={};c&262144&&(u.$$scope={dirty:c,ctx:a}),e.$set(u);const f={};c&262144&&(f.$$scope={dirty:c,ctx:a}),s.$set(f),a[3]?i&&(i.d(1),i=null):i?(i.p(a,c),c&8&&E(i,1)):(i=bn(a),i.c(),E(i,1),i.m(o.parentNode,o))},i(a){l||(E(e.$$.fragment,a),E(s.$$.fragment,a),E(i),l=!0)},o(a){I(e.$$.fragment,a),I(s.$$.fragment,a),l=!1},d(a){a&&(T(t),T(r),T(o)),U(e,a),U(s,a),i&&i.d(a)}}}function _r(n){let e;return{c(){e=j("Continue")},m(t,s){C(t,e,s)},d(t){t&&T(e)}}}function wr(n){let e;return{c(){e=j("Help Guide")},m(t,s){C(t,e,s)},d(t){t&&T(e)}}}function yr(n){let e;return{c(){e=j("I'm Ready")},m(t,s){C(t,e,s)},d(t){t&&T(e)}}}function bn(n){let e,t,s,r,o,l,i;return{c(){e=v("div"),t=j("Don't forget to "),s=v("button"),s.textContent="set up your API key",r=j(" for advanced features!"),p(s,"class","link-button svelte-138tt65"),p(e,"class","api-key-notice svelte-138tt65")},m(a,c){C(a,e,c),m(e,t),m(e,s),m(e,r),l||(i=q(s,"click",n[8]),l=!0)},p:L,i(a){a&&(o||W(()=>{o=se(e,te,{duration:300,delay:500}),o.start()}))},o:L,d(a){a&&T(e),l=!1,i()}}}function kr(n){let e,t,s=n[1]&&n[4]&&mn(n);return{c(){e=v("div"),s&&s.c(),p(e,"class","welcome-chat svelte-138tt65")},m(r,o){C(r,e,o),s&&s.m(e,null),t=!0},p(r,[o]){r[1]&&r[4]?s?(s.p(r,o),o&18&&E(s,1)):(s=mn(r),s.c(),E(s,1),s.m(e,null)):s&&(G(),I(s,1,1,()=>{s=null}),H())},i(r){t||(E(s),t=!0)},o(r){I(s),t=!1},d(r){r&&T(e),s&&s.d()}}}function Er(n,e,t){let s;const r=_e();let{messageType:o=me.WELCOME}=e,{showOnMount:l=!0}=e,i=!0,a=[],c,u=!1;const f=Zt.subscribe(w=>{t(3,c=w)});Wt(()=>{f()}),Ie(()=>{o===me.WELCOME?t(4,u=Ve.shouldShowWelcome()):t(4,u=Ve.shouldShowMessageType(o)),u&&l&&b()});const d={[me.WELCOME]:[{type:"received",name:"Professor Synapse",avatar:"üßôüèæ‚Äç‚ôÇÔ∏è",text:`Let me introduce you to <span class="codex-md-brand">codex.md</span>, a powerful tool that transforms your digital content into Markdown format. It's perfect for building your personal knowledge base!`},{type:"received",name:'<span class="codex-md-brand">codex.md</span>',avatar:"üìñ",text:`
          <p>Hi there! I can help you convert your content in several ways:</p>
          <ul class="feature-list">
            <li><strong>Drag and drop</strong> your files below or <strong>click</strong> to browse</li>
            <li><strong>Convert web content</strong> by adding a URL (single page or entire website)</li>
          </ul>
          <p>Let's get started with your conversion!</p>
        `}],[me.UPDATE]:[{type:"received",name:'<span class="codex-md-brand">codex.md</span>',avatar:"üìñ",text:`
          <p>We've updated codex.md with new features!</p>
          <ul class="feature-list">
            <li><strong>Enhanced PDF conversion</strong> with better image extraction</li>
            <li><strong>Improved web scraping</strong> for more accurate content extraction</li>
            <li><strong>Better performance</strong> for large file conversions</li>
          </ul>
          <p>Enjoy the improvements!</p>
        `}],[me.ANNOUNCEMENT]:[{type:"received",name:'<span class="codex-md-brand">codex.md</span>',avatar:"üìñ",text:`
          <p>Important announcement from the codex.md team:</p>
          <p>We're constantly working to improve your experience. If you have feedback or suggestions, please let us know!</p>
        `}]};function h(){t(1,i=!1),o===me.WELCOME?Ve.markAsSeen():Ve.markMessageTypeSeen(o),r("closed")}function g(){h(),Ft("/help")}function _(){h(),Ft("/settings")}function k(){h(),r("continue")}async function b(){t(2,a=[]);for(const w of s)await new Promise(S=>setTimeout(S,800)),t(2,a=[...a,w])}return n.$$set=w=>{"messageType"in w&&t(0,o=w.messageType),"showOnMount"in w&&t(10,l=w.showOnMount)},n.$$.update=()=>{n.$$.dirty&1&&t(5,s=d[o]||d[me.WELCOME])},[o,i,a,c,u,s,h,g,_,k,l]}class Sr extends J{constructor(e){super(),Z(this,e,Er,kr,X,{messageType:0,showOnMount:10})}}const ce=[];for(let n=0;n<256;++n)ce.push((n+256).toString(16).slice(1));function Tr(n,e=0){return(ce[n[e+0]]+ce[n[e+1]]+ce[n[e+2]]+ce[n[e+3]]+"-"+ce[n[e+4]]+ce[n[e+5]]+"-"+ce[n[e+6]]+ce[n[e+7]]+"-"+ce[n[e+8]]+ce[n[e+9]]+"-"+ce[n[e+10]]+ce[n[e+11]]+ce[n[e+12]]+ce[n[e+13]]+ce[n[e+14]]+ce[n[e+15]]).toLowerCase()}let St;const Cr=new Uint8Array(16);function Ar(){if(!St){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");St=crypto.getRandomValues.bind(crypto)}return St(Cr)}const Ir=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),_n={randomUUID:Ir};function Or(n,e,t){var r;if(_n.randomUUID&&!n)return _n.randomUUID();n=n||{};const s=n.random??((r=n.rng)==null?void 0:r.call(n))??Ar();if(s.length<16)throw new Error("Random bytes length must be >= 16");return s[6]=s[6]&15|64,s[8]=s[8]&63|128,Tr(s)}const Jt={documents:["pdf","docx","pptx","rtf","txt","md"],audio:["mp3","wav","ogg","m4a","aac","wma"],video:["mp4","mov","avi","mkv","webm"],data:["csv","xlsx","xls","json","yaml"],web:["url","parenturl"]},de={BINARY:"binary",TEXT:"text",URL:"url"},xt={docx:{handling:de.BINARY,converter:"text",requiresOcr:!1},pptx:{handling:de.BINARY,converter:"text",requiresOcr:!1},pdf:{handling:de.BINARY,converter:"pdf",requiresOcr:!0},xlsx:{handling:de.BINARY,converter:"data",requiresOcr:!1},csv:{handling:de.TEXT,converter:"data",requiresOcr:!1},mp3:{handling:de.BINARY,converter:"audio",requiresOcr:!1},wav:{handling:de.BINARY,converter:"audio",requiresOcr:!1},mp4:{handling:de.BINARY,converter:"video",requiresOcr:!1}},en=["mp3","wav","ogg","m4a","mpga","mp4","webm","avi","mov","mpeg"];function nt(n){const e=typeof n=="string"?n:n.name||n.originalFileName||"unknown",t=e.split(".").pop().toLowerCase();if(typeof n=="object"&&n.type&&["url","parenturl"].includes(n.type))return{fileName:e,fileType:n.type,category:"web",handling:de.URL,converter:n.type,requiresOcr:!1,isWeb:!0,isBinary:!1};let s="unknown";for(const[o,l]of Object.entries(Jt))if(l.includes(t)){s=o;break}const r=xt[t]||{handling:de.TEXT,converter:"text",requiresOcr:!1};return{fileName:e,fileType:t,category:s,...r,isWeb:s==="web",isBinary:r.handling===de.BINARY,requiresApiKey:en.includes(t)}}async function ws(n){return nt(n).isBinary?await n.arrayBuffer():await n.text()}function ys(n){return nt(n).category}function ks(n){return nt(n).requiresApiKey}const $r={FILE_CATEGORIES:Jt,HANDLING_TYPES:de,CONVERTER_CONFIG:xt,API_REQUIRED_TYPES:en,getFileHandlingInfo:nt,getFileContent:ws,getFileType:ys,requiresApiKey:ks},Rr=Object.freeze(Object.defineProperty({__proto__:null,API_REQUIRED_TYPES:en,CONVERTER_CONFIG:xt,FILE_CATEGORIES:Jt,HANDLING_TYPES:de,default:$r,getFileContent:ws,getFileHandlingInfo:nt,getFileType:ys,requiresApiKey:ks},Symbol.toStringTag,{value:"Module"})),{FILE_CATEGORIES:Fr,getFileHandlingInfo:Es,requiresApiKey:Lt}=Rr;function Lr(n){return Object.values(Fr).flat().includes(n.toLowerCase())}const Pt=typeof window<"u",ue=Mr();Pt&&(localStorage.removeItem("codex_md_files"),sessionStorage.removeItem("codex_md_files"));ge(ue,n=>{const e=n[0];return e?e.name.split(".").pop().toLowerCase():null});const Pr={READY:"ready"},he={createResult(n,e,t=null){return{success:n,message:e,file:t}},createFileObject(n){var r;const e=typeof n=="string",t=e?n.split(/[/\\]/).pop():n.name,s=(r=t==null?void 0:t.split(".").pop())==null?void 0:r.toLowerCase();return{id:Or(),name:t,type:n.type||s||"unknown",size:e?0:n.size||0,url:n.url||null,file:e?null:n.file||n,path:e?n:n.path||null,status:Pr.READY,progress:0,error:null,selected:!1,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),requiresApiKey:Lt(e?{type:s}:n),isNative:e,...n}},isDuplicate(n,e){return n.some(t=>t.url&&e.url?t.url===e.url&&t.type===e.type:t.path&&e.path?t.path===e.path:t.name&&e.name&&t.name===e.name&&t.type===e.type)},withTimestamp(n){return{...n,updatedAt:new Date().toISOString()}}};function st(n,e){return(...t)=>{try{return e(...t)}catch(s){return console.error(`üìÅ Error in ${n}:`,s),he.createResult(!1,s.message)}}}function Mr(){const{subscribe:n,update:e,set:t}=we([],r=>()=>{r([]),Pt&&(localStorage.removeItem("codex_md_files"),sessionStorage.removeItem("codex_md_files"))});function s(r,o){let l;return e(i=>{const a=r(i);return l=a.result,console.log("Files updated:",a.files),a.files}),l}return{subscribe:n,addFile:st("addFile",r=>{const o=he.createFileObject(r);return console.log("[filesStore] Attempting to add file:",o),s(l=>{if(l.length>0&&console.log("[filesStore] Clearing existing files before adding new one"),o.type==="parent"){const i=l.find(a=>a.url===o.url&&a.type==="url");if(i)return console.log("[filesStore] Converting single URL to parent:",i.name),{files:[{...i,type:"parent",name:`${i.name} (Parent)`}],result:he.createResult(!0,"URL converted to parent successfully")}}return he.isDuplicate(l,o)?(console.log("[filesStore] Duplicate URL detected - ignoring:",o.name),{files:l,result:he.createResult(!0,"URL processed successfully")}):(console.log("[filesStore] Adding file:",o),{files:[o],result:he.createResult(!0,`Added "${o.name}" successfully`,o)})})}),updateFile:st("updateFile",(r,o)=>(console.log("[filesStore] Updating file with ID:",r,"Data:",o),s(l=>{const i=l.findIndex(u=>u.id===r);if(i===-1)return console.log("[filesStore] File not found for update:",r),{files:l,result:he.createResult(!1,"File not found")};const a=he.withTimestamp({...l[i],...o}),c=[...l];return c[i]=a,console.log("[filesStore] Updated file:",a),{files:c,result:he.createResult(!0,"File updated successfully",a)}}))),removeFile:st("removeFile",r=>(console.log("[filesStore] Removing file with ID:",r),s(o=>{const l=o.find(i=>i.id===r);return l?(console.log("[filesStore] Removing file:",l),{files:o.filter(i=>i.id!==r),result:he.createResult(!0,`Removed "${l.name}" successfully`,l)}):(console.log("[filesStore] File not found for removal:",r),{files:o,result:he.createResult(!1,`File with ID "${r}" not found`)})}))),clearFiles:st("clearFiles",()=>{console.log("[filesStore] Clearing all files");let r=0;return Pt&&(localStorage.removeItem("codex_md_files"),sessionStorage.removeItem("codex_md_files")),s(o=>(r=o.length,console.log("[filesStore] Clearing",r,"files"),{files:[],result:{success:!0,message:`Cleared ${r} files`,count:r}}))})}}const jr=typeof window<"u";function Nr(){jr&&console.log("üßπ Clearing upload store on page load");const{subscribe:n,update:e,set:t}=we({activeTab:"single",dragOver:!1,urlInput:"",errorMessage:"",message:"",messageType:"",feedbackTimeout:null});return{subscribe:n,setActiveTab:s=>e(r=>({...r,activeTab:s})),setDragOver:s=>e(r=>({...r,dragOver:s})),setUrlInput:s=>e(r=>({...r,urlInput:s})),setError:s=>e(r=>({...r,errorMessage:s})),clearError:()=>e(s=>({...s,errorMessage:""})),setMessage:(s,r="info")=>e(o=>({...o,message:s,messageType:r})),clearMessage:()=>e(s=>({...s,message:"",messageType:""})),reset:()=>t({activeTab:"single",dragOver:!1,urlInput:"",errorMessage:"",message:"",messageType:"",feedbackTimeout:null})}}const fe=Nr();let Dr=class extends Error{constructor(e,t={}){super(e),this.name="ConversionError",this.type=t.type||"CONVERSION_ERROR",this.details=t.details||{},this.originalError=t.originalError}};class Ur{async convertFile(e,t,s){if(console.log("üîÑ [VERBOSE] ElectronClient.convertFile called"),console.time("üïí [VERBOSE] Total frontend conversion time"),!window.electron)throw console.error("‚ùå [VERBOSE] Electron API not available"),new Error("Electron API not available");console.log("üì• [VERBOSE] Conversion input:",{type:typeof e,isFile:e instanceof File,isArrayBuffer:e instanceof ArrayBuffer,isString:typeof e=="string",length:e instanceof ArrayBuffer?e.byteLength:typeof e=="string"?e.length:e instanceof File?e.size:"unknown",options:{...t,apiKey:t.apiKey?"‚úì":"‚úó",mistralApiKey:t.mistralApiKey?"‚úì":"‚úó"}}),s&&(console.log("üîÑ [VERBOSE] Setting up progress tracking"),window.electron.onConversionProgress(r=>{console.log("üìä [VERBOSE] Progress update:",r),s(r)}));try{console.log("üîç [VERBOSE] Getting file handling info");const r=Es({name:t.originalFileName,type:t.type,path:typeof e=="string"?e:void 0});console.log("üîç [VERBOSE] File handling info:",r);const o={...t,isBinary:r.isBinary};if(r.isWeb||(o.type=r.converter),(r.converter==="csv"||t.originalFileName&&t.originalFileName.toLowerCase().endsWith(".csv"))&&(console.log("üìä Detected CSV file, setting isContent flag to trigger special handling"),o.isContent=!0,o.type="csv"),e instanceof File){const i=await e.arrayBuffer();r.converter==="pdf"&&t.useOcr?(console.log(`Converting PDF with OCR: ${r.fileName}`),o.buffer=i,o.originalFileName=e.name,o.mimeType=e.type,o.size=e.size,o.useOcr=!0):o.buffer=i,e="buffer-in-options"}else e instanceof ArrayBuffer&&t.isTemporary?(console.log(`Converting binary file as ${r.converter}: ${r.fileName}`),o.buffer=e):typeof e=="string"&&r.isWeb?(console.log(`Converting URL: ${e} with type: ${t.type} (${r.isWeb?"web":"non-web"})`),o.content=e):typeof e=="string"&&t.originalFileName&&(console.log(`Converting text content from: ${r.fileName}`),o.content=e);console.log("üöÄ Sending conversion request with options:",{type:o.type,isWeb:r.isWeb,originalType:t.type,finalType:o.type}),console.time("üïí [VERBOSE] Electron IPC conversion call");const l=await window.electron.convert(e,o);return console.timeEnd("üïí [VERBOSE] Electron IPC conversion call"),console.log("‚úÖ [VERBOSE] Conversion completed successfully:",{success:l.success,hasContent:!!l.content,contentLength:l.content?l.content.length:0,hasOutputPath:!!l.outputPath,hasImages:Array.isArray(l.images)&&l.images.length>0,imageCount:Array.isArray(l.images)?l.images.length:0}),console.timeEnd("üïí [VERBOSE] Total frontend conversion time"),l}catch(r){throw console.timeEnd("üïí [VERBOSE] Electron IPC conversion call"),console.timeEnd("üïí [VERBOSE] Total frontend conversion time"),console.error("‚ùå [VERBOSE] Conversion error caught in ElectronClient.convertFile:",r),console.log("üîç [VERBOSE] Error details:",{name:r.name,message:r.message,stack:r.stack,isConversionError:r instanceof Dr,details:r.details||"none",fileType:t.type||"unknown",fileName:t.originalFileName||"unknown"}),r}}async selectOutputDirectory(){if(!window.electron)throw new Error("Electron API not available");return await window.electron.selectDirectory()}async cancelRequests(){if(!window.electron)throw new Error("Electron API not available");await window.electron.cancelRequests()}async getOfflineStatus(){if(!window.electron)throw new Error("Electron API not available");return await window.electron.getOfflineStatus()}async getQueuedOperations(){if(!window.electron)throw new Error("Electron API not available");return await window.electron.getQueuedOperations()}async clearCache(){if(!window.electron)throw new Error("Electron API not available");return await window.electron.clearCache()}onOfflineEvent(e){if(!window.electron)throw new Error("Electron API not available");return window.electron.onOfflineEvent(e)}async getSetting(e){if(!window.electron)throw new Error("Electron API not available");return await window.electron.getSetting(e)}async setSetting(e,t){if(!window.electron)throw new Error("Electron API not available");return await window.electron.setSetting(e,t)}onFileDropped(e){if(!window.electron)throw new Error("Electron API not available");return window.electron.onFileDropped(e)}}const Ce=new Ur,P={STATUS:{IDLE:"idle",INITIALIZING:"initializing",PREPARING:"preparing",CONVERTING:"converting",COMPLETED:"completed",ERROR:"error",CANCELLED:"cancelled",CLEANING_UP:"cleaning_up"},TYPE:{FILE:"file",BATCH:"batch",WEBSITE:"website"}},Ye={status:P.STATUS.IDLE,progress:0,error:null,startTime:null,completionTime:null,elapsedSeconds:0,currentFile:null,totalCount:0,type:null};function zr(){const{subscribe:n,set:e,update:t}=we(Ye);let s=[],r=null;return{subscribe:n,setStatus:o=>t(l=>({...l,status:o})),setProgress:o=>t(l=>({...l,progress:Math.min(o,100)})),setError:o=>t(l=>({...l,error:o,status:o?P.STATUS.ERROR:l.status})),reset:()=>e(Ye),startTimer:()=>{r&&clearInterval(r);const o=Date.now();t(l=>({...l,startTime:o,elapsedSeconds:0})),r=setInterval(()=>{t(l=>{const i=Date.now()-l.startTime,a=Math.floor(i/1e3);return{...l,elapsedSeconds:a}})},1e3)},stopTimer:()=>{r&&(clearInterval(r),r=null)},formatElapsedTime:o=>{const l=Math.floor(o/3600),i=Math.floor(o%3600/60),a=o%60;return[l,i,a].map(c=>c.toString().padStart(2,"0")).join(":")},startFileConversion:async o=>{e({...Ye,status:P.STATUS.CONVERTING,type:P.TYPE.FILE,currentFile:o,startTime:Date.now()}),K.startTimer()},startBatchConversion:async o=>{e({...Ye,status:P.STATUS.CONVERTING,type:P.TYPE.BATCH,totalCount:o.length,startTime:Date.now()}),K.startTimer()},startWebsiteConversion:async o=>{e({...Ye,status:P.STATUS.CONVERTING,type:P.TYPE.WEBSITE,currentFile:o,startTime:Date.now()}),K.startTimer()},setCurrentFile:o=>t(l=>({...l,currentFile:o})),completeConversion:()=>{K.stopTimer(),t(o=>({...o,status:P.STATUS.COMPLETED,progress:100,completionTime:Date.now()})),s.forEach(o=>o())},onComplete:o=>{s.push(o)},batchUpdate:o=>{t(l=>({...l,...o}))}}}const K=zr();ge(K,n=>n.progress);ge(K,n=>n.currentFile);ge(K,n=>n.error);ge(K,n=>n.type);ge(K,n=>n.status);ge(K,n=>n.status===P.STATUS.COMPLETED);class x extends Error{constructor(e,t={}){super(e),this.name="ConversionError",this.options=t,this.details=t.details||null,this.type=t.type||"generic",this.retryable=t.retryable!==!1}}class Br{async selectFiles(e={}){try{return await window.electron.selectFiles(e)}catch(t){throw t instanceof x?t:new x(t.message||"File selection failed")}}async selectInputDirectory(e={}){try{return await window.electron.selectInputDirectory(e)}catch(t){throw t instanceof x?t:new x(t.message||"Directory selection failed")}}async selectOutputDirectory(e={}){try{return await window.electron.selectOutput(e)}catch(t){throw t instanceof x?t:new x(t.message||"Directory selection failed")}}async listDirectory(e,t={}){try{return await window.electron.listDirectoryDetailed(e,t)}catch(s){throw s instanceof x?s:new x(s.message||"Directory listing failed")}}async showItemInFolder(e){try{await window.electron.showItemInFolder(e)}catch(t){throw t instanceof x?t:new x(t.message||"Failed to show item in folder")}}async getStats(e){try{return await window.electron.getStats(e)}catch(t){throw t instanceof x?t:new x(t.message||"Failed to get file stats")}}async readFile(e){try{return await window.electron.readFile(e)}catch(t){throw t instanceof x?t:new x(t.message||"Failed to read file")}}async writeFile(e,t){try{return await window.electron.writeFile(e,t)}catch(s){throw s instanceof x?s:new x(s.message||"Failed to write file")}}async createDirectory(e){try{return await window.electron.createDirectory(e)}catch(t){throw t instanceof x?t:new x(t.message||"Failed to create directory")}}async moveItem(e,t){try{return await window.electron.moveItem(e,t)}catch(s){throw s instanceof x?s:new x(s.message||"Failed to move item")}}async deleteItem(e,t=!1){try{return await window.electron.deleteItem(e,t)}catch(s){throw s instanceof x?s:new x(s.message||"Failed to delete item")}}async openFile(e){try{await window.electron.openExternal(`file://${e}`)}catch(t){throw t instanceof x?t:new x(t.message||"Failed to open file")}}async openFolder(e){try{await window.electron.openExternal(`file://${e}`)}catch(t){throw t instanceof x?t:new x(t.message||"Failed to open folder")}}}const Ue=new Br;function Ss(n=""){try{const e=crypto.randomUUID();return n?`${n}-${e}`:e}catch{const t=`${Date.now()}-${Math.random().toString(36).substr(2,9)}`;return n?`${n}-${t}`:t}}function Mt(n){try{const e=new URL(n),t=e.pathname.replace(/\/+$/,"").toLowerCase();return e.pathname=t,e.href.toLowerCase()}catch(e){return console.error("URL normalization error:",e),n.toLowerCase()}}const Ke={documents:["pdf","docx","pptx","html","htm"],audio:["mp3","wav","m4a","flac","ogg"],video:["mp4","webm","avi","mov","mkv"],data:["csv","xlsx"]};function Ts(n){if(!n)return!1;const e=n.toLowerCase();return Object.values(Ke).some(t=>t.includes(e))}function Vr(n){return n&&Ke.audio.includes(n.toLowerCase())}function qr(n){return n&&Ke.video.includes(n.toLowerCase())}function Wr(n){if(!n)return null;const e=n.toLowerCase();for(const[t,s]of Object.entries(Ke))if(s.includes(e))return t;return null}function Kr(n,e=["url","parent","youtube","document","audio","video","data"]){var l,i,a;if(!(n!=null&&n.type))throw new Error("Invalid item: missing type");const t=n.type.toLowerCase(),s=Object.values(Ke).flat();if(!e.includes(t)&&!s.includes(t))throw new Error(`Unsupported type: ${t}`);if(t==="parent"&&!n.url)throw new Error("Parent URL is required");const r=n.url?Mt(n.url):null,o=n.content&&typeof n.content=="string"?Mt(n.content):n.content;if(n.file instanceof File){const c=n.file.name.split(".").pop().toLowerCase();if(!Ts(c))throw new Error(`Unsupported file type: ${c}`)}return{id:n.id||Ss(),type:t,name:((l=n.name)==null?void 0:l.trim())||"Untitled",url:r,content:o,file:n.file,options:{includeImages:!0,includeMeta:!0,convertLinks:!0,...t==="parent"&&{depth:((i=n.options)==null?void 0:i.depth)||1,maxPages:((a=n.options)==null?void 0:a.maxPages)||10},...n.options}}}const Cs=Object.freeze(Object.defineProperty({__proto__:null,fileCategories:Ke,generateId:Ss,getFileCategory:Wr,isAudioType:Vr,isSupportedFileType:Ts,isVideoType:qr,normalizeUrl:Mt,validateAndNormalizeItem:Kr},Symbol.toStringTag,{value:"Module"})),{generateId:Gr}=Cs,{fileCategories:Hr}=Cs;function Yr(n){let e,t,s;const r=n[2].default,o=mt(r,n,n[1],null);return{c(){e=v("div"),o&&o.c(),p(e,"class",t="container "+n[0]+" svelte-1fpo5pf")},m(l,i){C(l,e,i),o&&o.m(e,null),s=!0},p(l,[i]){o&&o.p&&(!s||i&2)&&vt(o,r,l,l[1],s?ht(r,l[1],i,null):bt(l[1]),null),(!s||i&1&&t!==(t="container "+l[0]+" svelte-1fpo5pf"))&&p(e,"class",t)},i(l){s||(E(o,l),s=!0)},o(l){I(o,l),s=!1},d(l){l&&T(e),o&&o.d(l)}}}function Xr(n,e,t){let{$$slots:s={},$$scope:r}=e,{className:o=""}=e;return n.$$set=l=>{"className"in l&&t(0,o=l.className),"$$scope"in l&&t(1,r=l.$$scope)},[o,r,s]}class xe extends J{constructor(e){super(),Z(this,e,Xr,Yr,X,{className:0})}}function wn(n,e,t){const s=n.slice();return s[3]=e[t],s}function yn(n){let e,t,s,r,o,l,i,a,c,u;function f(){return n[2](n[3])}return{c(){e=v("button"),t=v("div"),s=v("span"),s.textContent=`${n[3].icon}`,r=$(),o=v("span"),o.textContent=`${n[3].label}`,i=$(),p(s,"class","tab-icon svelte-9pd084"),p(s,"aria-hidden","true"),p(o,"class","tab-label svelte-9pd084"),p(t,"class","tab-content svelte-9pd084"),p(e,"class","tab-button svelte-9pd084"),p(e,"aria-selected",a=n[0].activeTab===n[3].id),p(e,"role","tab"),p(e,"aria-controls","tab-content-"+n[3].id),p(e,"title",n[3].description),B(e,"active",n[0].activeTab===n[3].id)},m(d,h){C(d,e,h),m(e,t),m(t,s),m(t,r),m(t,o),m(e,i),c||(u=q(e,"click",f),c=!0)},p(d,h){n=d,h&1&&a!==(a=n[0].activeTab===n[3].id)&&p(e,"aria-selected",a),h&3&&B(e,"active",n[0].activeTab===n[3].id)},i(d){d&&(l||W(()=>{l=se(t,te,{duration:200}),l.start()}))},o:L,d(d){d&&T(e),c=!1,u()}}}function Qr(n){let e,t,s=ke(n[1]),r=[];for(let o=0;o<s.length;o+=1)r[o]=yn(wn(n,s,o));return{c(){e=v("div"),t=v("div");for(let o=0;o<r.length;o+=1)r[o].c();p(t,"class","tabs-container svelte-9pd084"),p(e,"class","tabs-nav svelte-9pd084"),p(e,"role","tablist")},m(o,l){C(o,e,l),m(e,t);for(let i=0;i<r.length;i+=1)r[i]&&r[i].m(t,null)},p(o,[l]){if(l&3){s=ke(o[1]);let i;for(i=0;i<s.length;i+=1){const a=wn(o,s,i);r[i]?(r[i].p(a,l),E(r[i],1)):(r[i]=yn(a),r[i].c(),E(r[i],1),r[i].m(t,null))}for(;i<r.length;i+=1)r[i].d(1);r.length=s.length}},i(o){for(let l=0;l<s.length;l+=1)E(r[l])},o:L,d(o){o&&T(e),qt(r,o)}}}function Zr(n,e,t){let s;return ae(n,fe,l=>t(0,s=l)),[s,[{id:"single",icon:"üîó",label:"Single Page",description:"Convert a single webpage"},{id:"parent",icon:"üó∫Ô∏è",label:"Full Website",description:"Convert parent and children URLs"}],l=>fe.setActiveTab(l.id)]}class Jr extends J{constructor(e){super(),Z(this,e,Zr,Qr,X,{})}}function kn(n){let e,t,s;return{c(){e=v("div"),e.textContent="Add to queue",p(e,"class","tooltip svelte-pb31e4")},m(r,o){C(r,e,o),s=!0},i(r){s||(r&&W(()=>{s&&(t||(t=oe(e,te,{duration:150},!0)),t.run(1))}),s=!0)},o(r){r&&(t||(t=oe(e,te,{duration:150},!1)),t.run(0)),s=!1},d(r){r&&T(e),r&&t&&t.end()}}}function En(n){let e,t,s;return{c(){e=v("div"),t=j(n[2]),p(e,"id","url-error"),p(e,"class","error-message svelte-pb31e4"),p(e,"role","alert")},m(r,o){C(r,e,o),m(e,t)},p(r,o){o&4&&Y(t,r[2])},i(r){r&&(s||W(()=>{s=se(e,te,{duration:200}),s.start()}))},o:L,d(r){r&&T(e)}}}function Sn(n){let e,t;return{c(){e=v("div"),e.textContent="The URL format looks incorrect.",p(e,"id","url-format-warning"),p(e,"class","error-message svelte-pb31e4"),p(e,"role","alert")},m(s,r){C(s,e,r)},i(s){s&&(t||W(()=>{t=se(e,te,{duration:200}),t.start()}))},o:L,d(s){s&&T(e)}}}function Tn(n){let e,t;return{c(){e=v("div"),e.textContent="Remove the file first to add a URL instead.",p(e,"class","info-message svelte-pb31e4"),p(e,"role","status")},m(s,r){C(s,e,r)},i(s){s&&(t||W(()=>{t=se(e,te,{duration:200}),t.start()}))},o:L,d(s){s&&T(e)}}}function xr(n){let e,t,s,r,o,l,i,a,c,u,f,d,h,g,_,k,b=n[3]&&kn(),w=n[2]&&En(n),S=n[0]&&!n[4]&&!n[2]&&Sn(),y=n[1]&&Tn();return{c(){e=v("div"),t=v("div"),s=v("input"),l=$(),i=v("button"),a=v("span"),a.textContent="‚ûï",c=$(),b&&b.c(),f=$(),w&&w.c(),d=$(),S&&S.c(),h=$(),y&&y.c(),p(s,"type","text"),p(s,"class","url-input svelte-pb31e4"),p(s,"placeholder",r=n[1]?"Please remove file to add URL":n[5].placeholder),s.disabled=n[6],p(s,"aria-label",o=n[1]?"URL input disabled while file is present":n[5].placeholder),p(s,"aria-describedby","url-error"),p(a,"class","icon svelte-pb31e4"),p(i,"class","submit-button svelte-pb31e4"),i.disabled=u=!n[4]||n[6],p(i,"aria-label","Add URL to queue"),p(t,"class","input-container svelte-pb31e4"),p(e,"class","url-input-section svelte-pb31e4")},m(A,R){C(A,e,R),m(e,t),m(t,s),le(s,n[0]),m(t,l),m(t,i),m(i,a),m(i,c),b&&b.m(i,null),m(e,f),w&&w.m(e,null),m(e,d),S&&S.m(e,null),m(e,h),y&&y.m(e,null),_||(k=[q(s,"input",n[13]),q(s,"input",n[7]),q(s,"keypress",n[9]),q(s,"paste",so),q(i,"click",n[8]),q(i,"mouseenter",n[14]),q(i,"mouseleave",n[15])],_=!0)},p(A,[R]){R&34&&r!==(r=A[1]?"Please remove file to add URL":A[5].placeholder)&&p(s,"placeholder",r),R&64&&(s.disabled=A[6]),R&34&&o!==(o=A[1]?"URL input disabled while file is present":A[5].placeholder)&&p(s,"aria-label",o),R&1&&s.value!==A[0]&&le(s,A[0]),A[3]?b?R&8&&E(b,1):(b=kn(),b.c(),E(b,1),b.m(i,null)):b&&(G(),I(b,1,1,()=>{b=null}),H()),R&80&&u!==(u=!A[4]||A[6])&&(i.disabled=u),A[2]?w?(w.p(A,R),R&4&&E(w,1)):(w=En(A),w.c(),E(w,1),w.m(e,d)):w&&(w.d(1),w=null),A[0]&&!A[4]&&!A[2]?S?R&21&&E(S,1):(S=Sn(),S.c(),E(S,1),S.m(e,h)):S&&(S.d(1),S=null),A[1]?y?R&2&&E(y,1):(y=Tn(),y.c(),E(y,1),y.m(e,null)):y&&(y.d(1),y=null)},i(A){E(b),E(w),E(S),E(y),A&&(g||W(()=>{g=se(e,te,{duration:200}),g.start()}))},o(A){I(b)},d(A){A&&T(e),b&&b.d(),w&&w.d(),S&&S.d(),y&&y.d(),_=!1,ie(k)}}}let eo=!1;function to(n){try{const e=n.trim();return/^(https?:\/\/)?([\w-]+(\.[\w-]+)+|localhost)(:\d+)?(\/\S*)?$/.test(e)}catch{return!1}}function no(n){if(!n)throw new Error("URL is required");let e=n.trim().replace(/\s+/g,"");/^https?:\/\//i.test(e)||(e=`https://${e}`);try{return new URL(e),e}catch{throw new Error("Invalid URL format")}}function so(){const n=document.querySelector(".url-input");n.classList.add("pasted"),setTimeout(()=>n.classList.remove("pasted"),300)}function ro(n,e,t){let s,r,o,l,i,a,c;ae(n,ue,A=>t(11,a=A)),ae(n,fe,A=>t(12,c=A));const u=_e();let f="",d="",h=!1;const g={parent:{icon:"üó∫Ô∏è",placeholder:"Enter parent URL to convert all linked pages",type:"parenturl"},single:{icon:"üîó",placeholder:"Enter URL to convert to Markdown",type:"url"}};function _(A){const R=A.target.value;t(0,f=R),fe.setUrlInput(R),t(2,d="")}async function k(){try{if(!f.trim())throw new Error("Please enter a URL");const A=no(f),R=new URL(A),O={url:A,name:`${R.hostname}${R.pathname}`,type:r.type,options:{...r.type==="parenturl"&&{maxDepth:3,maxPages:100,includeImages:!0,includeMeta:!0}}},F=ue.addFile(O);F.success?(t(0,f=""),fe.setUrlInput(""),u("submitUrl",{url:A,type:r.type})):!F.success&&F.message&&t(2,d=F.message)}catch(A){console.error("URL submission error:",A),t(2,d=A.message)}}function b(A){A.key==="Enter"&&o&&k()}function w(){f=this.value,t(0,f)}const S=()=>t(3,h=!0),y=()=>t(3,h=!1);return n.$$.update=()=>{n.$$.dirty&4096&&t(10,s=c.activeTab),n.$$.dirty&1024&&t(5,r=g[s]||g.single),n.$$.dirty&1&&t(4,o=f&&to(f)),n.$$.dirty&2048&&t(1,l=a.length>0&&!a[0].url),n.$$.dirty&2&&t(6,i=l||eo)},[f,l,d,h,o,r,i,_,k,b,s,a,c,w,S,y]}class oo extends J{constructor(e){super(),Z(this,e,ro,xr,X,{})}}function io(n){let e,t,s,r;return{c(){e=v("div"),e.innerHTML='<span class="icon svelte-yotdhp">üì•</span>',s=$(),r=v("p"),r.textContent="Drop file to convert!",p(e,"class","icon-container svelte-yotdhp"),p(r,"class","primary-text svelte-yotdhp")},m(o,l){C(o,e,l),C(o,s,l),C(o,r,l)},p:L,i(o){o&&(t||W(()=>{t=se(e,_s,{duration:200}),t.start()}))},o:L,d(o){o&&(T(e),T(s),T(r))}}}function lo(n){let e,t,s,r,o,l,i,a,c,u,f;return{c(){e=v("div"),e.innerHTML='<span class="icon svelte-yotdhp">üìÇ</span>',t=$(),s=v("div"),r=v("p"),r.textContent="Drag and drop a file here",o=$(),l=v("p"),l.textContent="or click to browse your computer",i=$(),a=v("p"),c=v("b"),c.textContent="Supported formats:",u=$(),f=j(n[3]),p(e,"class","icon-container svelte-yotdhp"),p(r,"class","primary-text svelte-yotdhp"),p(l,"class","secondary-text svelte-yotdhp"),p(a,"class","file-types svelte-yotdhp"),p(s,"class","text-content svelte-yotdhp")},m(d,h){C(d,e,h),C(d,t,h),C(d,s,h),m(s,r),m(s,o),m(s,l),m(s,i),m(s,a),m(a,c),m(a,u),m(a,f)},p(d,h){h&8&&Y(f,d[3])},i:L,o:L,d(d){d&&(T(e),T(t),T(s))}}}function ao(n){let e,t,s,r,o,l,i,a;function c(d,h){return d[4].dragOver?io:lo}let u=c(n),f=u(n);return{c(){e=v("div"),t=v("input"),r=$(),o=v("div"),f.c(),p(t,"type","file"),p(t,"accept",s=n[0].map(Cn).join(",")),p(t,"class","file-input svelte-yotdhp"),p(o,"class","drop-zone-content svelte-yotdhp"),p(e,"class","drop-zone svelte-yotdhp"),p(e,"role","button"),p(e,"tabindex","0"),B(e,"drag-over",n[4].dragOver),B(e,"disabled",n[1])},m(d,h){C(d,e,h),m(e,t),n[10](t),m(e,r),m(e,o),f.m(o,null),i||(a=[q(t,"change",n[9]),q(e,"dragenter",n[6]),q(e,"dragleave",n[7]),q(e,"dragover",n[8]),q(e,"drop",n[5]),q(e,"click",n[11]),q(e,"keydown",n[12])],i=!0)},p(d,[h]){h&1&&s!==(s=d[0].map(Cn).join(","))&&p(t,"accept",s),u===(u=c(d))&&f?f.p(d,h):(f.d(1),f=u(d),f&&(f.c(),E(f,1),f.m(o,null))),h&16&&B(e,"drag-over",d[4].dragOver),h&2&&B(e,"disabled",d[1])},i(d){E(f),d&&(l||W(()=>{l=se(o,_s,{duration:200}),l.start()}))},o:L,d(d){d&&T(e),n[10](null),f.d(),i=!1,ie(a)}}}const Cn=n=>`.${n}`;function co(n,e,t){let s,r;ae(n,fe,w=>t(4,r=w));let{acceptedTypes:o=[]}=e,{disabled:l=!1}=e,i,a=0;const c=_e();function u(w){if(w.preventDefault(),l)return;fe.setDragOver(!1),a=0,console.log("Drop event triggered");const S=Array.from(w.dataTransfer.files),y=S.length>0?[S[0]]:[];c("filesDropped",{files:y})}function f(w){w.preventDefault(),!l&&(a++,fe.setDragOver(!0),console.log("DragEnter event triggered, dragCounter:",a))}function d(w){w.preventDefault(),!l&&(a--,a===0&&fe.setDragOver(!1),console.log("DragLeave event triggered, dragCounter:",a))}function h(w){w.preventDefault()}function g(w){if(l)return;const S=Array.from(w.target.files),y=S.length>0?[S[0]]:[];c("filesSelected",{files:y}),w.target.value=""}function _(w){Le[w?"unshift":"push"](()=>{i=w,t(2,i)})}const k=()=>i.click(),b=w=>{(w.key==="Enter"||w.key===" ")&&i.click()};return n.$$set=w=>{"acceptedTypes"in w&&t(0,o=w.acceptedTypes),"disabled"in w&&t(1,l=w.disabled)},n.$$.update=()=>{n.$$.dirty&1&&t(3,s=o.map(w=>w.toUpperCase()).join(", "))},[o,l,i,s,r,u,f,d,h,g,_,k,b]}class uo extends J{constructor(e){super(),Z(this,e,co,ao,X,{acceptedTypes:0,disabled:1})}}function An(n){let e,t,s,r,o=n[0].message+"",l,i,a;function c(d,h){return d[0].messageType==="error"?go:d[0].messageType==="success"?po:fo}let u=c(n),f=u(n);return{c(){e=v("div"),t=v("span"),f.c(),s=$(),r=v("span"),l=j(o),p(t,"class","icon svelte-7zf6ka"),p(r,"class","text svelte-7zf6ka"),p(e,"class",i="message "+n[0].messageType+" svelte-7zf6ka"),p(e,"role","alert")},m(d,h){C(d,e,h),m(e,t),f.m(t,null),m(e,s),m(e,r),m(r,l)},p(d,h){u!==(u=c(d))&&(f.d(1),f=u(d),f&&(f.c(),f.m(t,null))),h&1&&o!==(o=d[0].message+"")&&Y(l,o),h&1&&i!==(i="message "+d[0].messageType+" svelte-7zf6ka")&&p(e,"class",i)},i(d){d&&(a||W(()=>{a=se(e,Pe,{y:10,duration:200}),a.start()}))},o:L,d(d){d&&T(e),f.d()}}}function fo(n){let e;return{c(){e=j("‚ÑπÔ∏è")},m(t,s){C(t,e,s)},d(t){t&&T(e)}}}function po(n){let e;return{c(){e=j("‚úÖ")},m(t,s){C(t,e,s)},d(t){t&&T(e)}}}function go(n){let e;return{c(){e=j("‚ö†Ô∏è")},m(t,s){C(t,e,s)},d(t){t&&T(e)}}}function mo(n){let e,t=n[0].message&&An(n);return{c(){t&&t.c(),e=pe()},m(s,r){t&&t.m(s,r),C(s,e,r)},p(s,[r]){s[0].message?t?(t.p(s,r),r&1&&E(t,1)):(t=An(s),t.c(),E(t,1),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i(s){E(t)},o:L,d(s){s&&T(e),t&&t.d(s)}}}function ho(n,e,t){let s;return ae(n,fe,r=>t(0,s=r)),[s]}class As extends J{constructor(e){super(),Z(this,e,ho,mo,X,{})}}const Te={txt:{icon:"üìÑ",color:"#4A90E2",label:"Text Document"},pdf:{icon:"üìï",color:"#E24A4A",label:"PDF Document"},doc:{icon:"üìò",color:"#4A90E2",label:"Word Document"},docx:{icon:"üìò",color:"#4A90E2",label:"Word Document"},csv:{icon:"üìä",color:"#4AE266",label:"CSV File"},xlsx:{icon:"üìà",color:"#4AE266",label:"Excel Spreadsheet"},pptx:{icon:"üìä",color:"#E24A4A",label:"PowerPoint Presentation"},audio:{icon:"üéµ",color:"#9E4AE2",label:"Audio File"},mp3:{icon:"üéµ",color:"#9E4AE2",label:"Audio File"},wav:{icon:"üéµ",color:"#9E4AE2",label:"Audio File"},ogg:{icon:"üéµ",color:"#9E4AE2",label:"Audio File"},m4a:{icon:"üéµ",color:"#9E4AE2",label:"Audio File"},aac:{icon:"üéµ",color:"#9E4AE2",label:"Audio File"},wma:{icon:"üéµ",color:"#9E4AE2",label:"Audio File"},mpga:{icon:"üéµ",color:"#9E4AE2",label:"Audio File"},video:{icon:"üé•",color:"#E24A4A",label:"Video File"},mp4:{icon:"üé•",color:"#E24A4A",label:"Video File"},webm:{icon:"üé•",color:"#E24A4A",label:"Video File"},avi:{icon:"üé•",color:"#E24A4A",label:"Video File"},mov:{icon:"üé•",color:"#E24A4A",label:"Video File"},mpeg:{icon:"üé•",color:"#E24A4A",label:"Video File"},mkv:{icon:"üé•",color:"#E24A4A",label:"Video File"},url:{icon:"üîó",color:"#4AE2B5",label:"URL Link"},parenturl:{icon:"üó∫Ô∏è",color:"#9E4AE2",label:"Parent URL"},default:{icon:"üóé",color:"#B8B8B8",label:"File"}},In={"audio/mpeg":"mp3","audio/mp3":"mp3","audio/wav":"wav","audio/ogg":"ogg","audio/x-m4a":"m4a","audio/aac":"aac","audio/x-ms-wma":"wma","audio/mpa":"mpga","video/mp4":"mp4","video/webm":"webm","video/x-msvideo":"avi","video/quicktime":"mov","video/mpeg":"mpeg","video/x-matroska":"mkv","application/vnd.openxmlformats-officedocument.wordprocessingml.document":"docx","application/pdf":"pdf","application/vnd.ms-excel":"xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":"xlsx","text/csv":"csv","application/csv":"csv"};function vo(n){if(console.log("Getting icon config for type:",n),!n)return console.log("No type provided, using default"),Te.default;let e=n.toLowerCase();if(console.log("Normalized type:",e),In[e]&&(e=In[e],console.log("Mapped MIME type to:",e)),e=e.replace(/^\.*/,""),Te[e])return console.log("Found direct icon match:",Te[e].icon),Te[e];const t=bo(e);return t&&Te[t]?(console.log("Found base type match:",Te[t].icon),Te[t]):(console.log("No match found, using default"),Te.default)}function bo(n){const e={audio:["mp3","wav","ogg","m4a","aac","wma","mpga"],video:["mp4","webm","avi","mov","mpeg","mkv"],data:["csv","xlsx","xls","json","yaml","yml"]};n=n.toLowerCase();for(const[t,s]of Object.entries(e))if(s.includes(n))return t;return null}function _o(n){return vo(n).icon}function wo(n){let e,t,s,r,o,l,i=n[0].name+"",a,c,u,f,d,h,g,_;return{c(){e=v("div"),t=v("div"),s=v("span"),r=j(n[1]),o=$(),l=v("span"),a=j(i),u=$(),f=v("button"),d=j("üóëÔ∏è"),p(s,"class","icon svelte-1jd8k4n"),p(s,"aria-hidden","true"),p(l,"class","file-name svelte-1jd8k4n"),p(l,"title",c=n[0].name),p(t,"class","file-info svelte-1jd8k4n"),p(f,"class","delete-button svelte-1jd8k4n"),p(f,"aria-label",h=`Remove ${n[0].name}`),p(f,"title","Remove file"),p(e,"class","file-card svelte-1jd8k4n")},m(k,b){C(k,e,b),m(e,t),m(t,s),m(s,r),m(t,o),m(t,l),m(l,a),m(e,u),m(e,f),m(f,d),g||(_=q(f,"click",n[2]),g=!0)},p(k,[b]){b&2&&Y(r,k[1]),b&1&&i!==(i=k[0].name+"")&&Y(a,i),b&1&&c!==(c=k[0].name)&&p(l,"title",c),b&1&&h!==(h=`Remove ${k[0].name}`)&&p(f,"aria-label",h)},i:L,o:L,d(k){k&&T(e),g=!1,_()}}}function yo(n,e,t){let s,{file:r}=e;const o=_e();function l(){o("remove",{id:r.id})}return n.$$set=i=>{"file"in i&&t(0,r=i.file)},n.$$.update=()=>{n.$$.dirty&1&&t(1,s=_o(r.type))},[r,s,l]}class ko extends J{constructor(e){super(),Z(this,e,yo,wo,X,{file:0})}}const Eo=n=>({}),On=n=>({});function $n(n,e,t){const s=n.slice();return s[7]=e[t],s}function So(n){let e,t;return{c(){e=v("div"),e.innerHTML="<p>No files added yet.</p>",p(e,"class","empty-state svelte-1ja9u35")},m(s,r){C(s,e,r)},p:L,i(s){s&&(t||W(()=>{t=se(e,te,{}),t.start()}))},o:L,d(s){s&&T(e)}}}function To(n){let e,t,s=[],r=new Map,o,l,i,a=ke(n[1]);const c=f=>f[7].id;for(let f=0;f<a.length;f+=1){let d=$n(n,a,f),h=c(d);r.set(h,s[f]=Rn(h,d))}let u=n[0]&&Fn(n);return{c(){e=v("div"),t=v("div");for(let f=0;f<s.length;f+=1)s[f].c();o=$(),u&&u.c(),p(t,"class","file-list svelte-1ja9u35"),p(e,"class","file-list-container svelte-1ja9u35")},m(f,d){C(f,e,d),m(e,t);for(let h=0;h<s.length;h+=1)s[h]&&s[h].m(t,null);m(e,o),u&&u.m(e,null),i=!0},p(f,d){d&10&&(a=ke(f[1]),G(),s=vs(s,d,c,1,f,a,r,t,hs,Rn,null,$n),H()),f[0]?u?(u.p(f,d),d&1&&E(u,1)):(u=Fn(f),u.c(),E(u,1),u.m(e,null)):u&&(G(),I(u,1,1,()=>{u=null}),H())},i(f){if(!i){for(let d=0;d<a.length;d+=1)E(s[d]);E(u),f&&(l||W(()=>{l=se(e,Me,{}),l.start()})),i=!0}},o(f){for(let d=0;d<s.length;d+=1)I(s[d]);I(u),i=!1},d(f){f&&T(e);for(let d=0;d<s.length;d+=1)s[d].d();u&&u.d()}}}function Rn(n,e){let t,s,r,o,l,i;return s=new ko({props:{file:e[7]}}),s.$on("remove",e[3]),{key:n,first:null,c(){t=v("div"),z(s.$$.fragment),r=$(),p(t,"class","file-item svelte-1ja9u35"),this.first=t},m(a,c){C(a,t,c),D(s,t,null),m(t,r),i=!0},p(a,c){e=a;const u={};c&2&&(u.file=e[7]),s.$set(u)},i(a){i||(E(s.$$.fragment,a),a&&W(()=>{i&&(l&&l.end(1),o=se(t,te,{duration:200}),o.start())}),i=!0)},o(a){I(s.$$.fragment,a),o&&o.invalidate(),a&&(l=Gs(t,te,{duration:150})),i=!1},d(a){a&&T(t),U(s),a&&l&&l.end()}}}function Fn(n){let e,t;const s=n[5]["conversion-button"],r=mt(s,n,n[4],On);return{c(){e=v("div"),r&&r.c(),p(e,"class","conversion-button-container svelte-1ja9u35")},m(o,l){C(o,e,l),r&&r.m(e,null),t=!0},p(o,l){r&&r.p&&(!t||l&16)&&vt(r,s,o,o[4],t?ht(s,o[4],l,Eo):bt(o[4]),On)},i(o){t||(E(r,o),t=!0)},o(o){I(r,o),t=!1},d(o){o&&T(e),r&&r.d(o)}}}function Co(n){let e,t,s,r;const o=[To,So],l=[];function i(a,c){return a[2]?0:1}return e=i(n),t=l[e]=o[e](n),{c(){t.c(),s=pe()},m(a,c){l[e].m(a,c),C(a,s,c),r=!0},p(a,[c]){let u=e;e=i(a),e===u?l[e].p(a,c):(G(),I(l[u],1,1,()=>{l[u]=null}),H(),t=l[e],t?t.p(a,c):(t=l[e]=o[e](a),t.c()),E(t,1),t.m(s.parentNode,s))},i(a){r||(E(t),r=!0)},o(a){I(t),r=!1},d(a){a&&T(s),l[e].d(a)}}}function Ao(n,e,t){let s,r;ae(n,ue,u=>t(1,r=u));let{$$slots:o={},$$scope:l}=e;const i=_e();let{showConversionButton:a=!1}=e;function c(u){const{id:f}=u.detail;if(!f)return;const d=ue.removeFile(f);d.success?(i("fileRemoved",{id:f,file:d.file}),r.length===0&&ue.clearFiles()):console.error("Error removing file:",d.message)}return n.$$set=u=>{"showConversionButton"in u&&t(0,a=u.showConversionButton),"$$scope"in u&&t(4,l=u.$$scope)},n.$$.update=()=>{n.$$.dirty&2&&t(2,s=r&&r.length>0)},[a,r,s,c,l,o]}class Io extends J{constructor(e){super(),Z(this,e,Ao,Co,X,{showConversionButton:0})}}function Oo(n){let e,t,s,r,o=n[10].exists&&Ln(n);return{c(){e=v("div"),t=v("h3"),s=j(n[1]),r=$(),o&&o.c(),p(t,"class","svelte-1jo17cj"),p(e,"class","api-key-header svelte-1jo17cj")},m(l,i){C(l,e,i),m(e,t),m(t,s),m(e,r),o&&o.m(e,null)},p(l,i){i&2&&Y(s,l[1]),l[10].exists?o?o.p(l,i):(o=Ln(l),o.c(),o.m(e,null)):o&&(o.d(1),o=null)},d(l){l&&T(e),o&&o.d()}}}function $o(n){let e,t,s,r,o,l;return{c(){e=v("div"),t=v("h3"),s=j(n[1]),r=$(),o=v("div"),l=j(n[9]),p(t,"class","svelte-1jo17cj"),p(o,"class","error-message svelte-1jo17cj"),p(e,"class","api-key-header error svelte-1jo17cj")},m(i,a){C(i,e,a),m(e,t),m(t,s),m(e,r),m(e,o),m(o,l)},p(i,a){a&2&&Y(s,i[1]),a&512&&Y(l,i[9])},d(i){i&&T(e)}}}function Ro(n){let e;return{c(){e=v("div"),e.innerHTML='<h3 class="svelte-1jo17cj">Loading...</h3>',p(e,"class","api-key-header svelte-1jo17cj")},m(t,s){C(t,e,s)},p:L,d(t){t&&T(e)}}}function Ln(n){let e,t,s,r,o,l;return{c(){e=v("div"),t=v("span"),t.textContent="‚úì API key is configured",s=$(),r=v("button"),r.textContent="Remove",p(r,"class","delete-btn svelte-1jo17cj"),p(e,"class","key-status success svelte-1jo17cj")},m(i,a){C(i,e,a),m(e,t),m(e,s),m(e,r),o||(l=q(r,"click",n[16]),o=!0)},p:L,d(i){i&&T(e),o=!1,l()}}}function Pn(n){let e,t,s,r=n[7]?"üëÅÔ∏è":"üôà",o,l,i,a,c,u,f;function d(_,k){return _[7]?Lo:Fo}let h=d(n),g=h(n);return a=new Se({props:{disabled:n[8]||!n[6],variant:"primary",size:"small",$$slots:{default:[jo]},$$scope:{ctx:n}}}),a.$on("click",n[15]),{c(){e=v("div"),g.c(),t=$(),s=v("button"),o=j(r),i=$(),z(a.$$.fragment),p(s,"type","button"),p(s,"class","toggle-button svelte-1jo17cj"),p(s,"aria-label",l=n[7]?"Hide API Key":"Show API Key"),p(e,"class","input-container svelte-1jo17cj")},m(_,k){C(_,e,k),g.m(e,null),m(e,t),m(e,s),m(s,o),m(e,i),D(a,e,null),c=!0,u||(f=q(s,"click",n[14]),u=!0)},p(_,k){h===(h=d(_))&&g?g.p(_,k):(g.d(1),g=h(_),g&&(g.c(),g.m(e,t))),(!c||k&128)&&r!==(r=_[7]?"üëÅÔ∏è":"üôà")&&Y(o,r),(!c||k&128&&l!==(l=_[7]?"Hide API Key":"Show API Key"))&&p(s,"aria-label",l);const b={};k&320&&(b.disabled=_[8]||!_[6]),k&1048832&&(b.$$scope={dirty:k,ctx:_}),a.$set(b)},i(_){c||(E(a.$$.fragment,_),c=!0)},o(_){I(a.$$.fragment,_),c=!1},d(_){_&&T(e),g.d(),U(a),u=!1,f()}}}function Fo(n){let e,t,s;return{c(){e=v("input"),p(e,"type","password"),p(e,"class","api-key-input svelte-1jo17cj"),p(e,"placeholder",n[2]),B(e,"error",!!n[9])},m(r,o){C(r,e,o),le(e,n[6]),t||(s=[q(e,"input",n[18]),q(e,"input",n[13])],t=!0)},p(r,o){o&4&&p(e,"placeholder",r[2]),o&64&&e.value!==r[6]&&le(e,r[6]),o&512&&B(e,"error",!!r[9])},d(r){r&&T(e),t=!1,ie(s)}}}function Lo(n){let e,t,s;return{c(){e=v("input"),p(e,"type","text"),p(e,"class","api-key-input svelte-1jo17cj"),p(e,"placeholder",n[2]),B(e,"error",!!n[9])},m(r,o){C(r,e,o),le(e,n[6]),t||(s=[q(e,"input",n[17]),q(e,"input",n[13])],t=!0)},p(r,o){o&4&&p(e,"placeholder",r[2]),o&64&&e.value!==r[6]&&le(e,r[6]),o&512&&B(e,"error",!!r[9])},d(r){r&&T(e),t=!1,ie(s)}}}function Po(n){let e;return{c(){e=j("Save")},m(t,s){C(t,e,s)},d(t){t&&T(e)}}}function Mo(n){let e;return{c(){e=j("Saving...")},m(t,s){C(t,e,s)},d(t){t&&T(e)}}}function jo(n){let e;function t(o,l){return o[8]?Mo:Po}let s=t(n),r=s(n);return{c(){r.c(),e=pe()},m(o,l){r.m(o,l),C(o,e,l)},p(o,l){s!==(s=t(o))&&(r.d(1),r=s(o),r&&(r.c(),r.m(e.parentNode,e)))},d(o){o&&T(e),r.d(o)}}}function Mn(n){let e,t,s,r;return{c(){e=v("div"),t=j(n[9]),p(e,"class","error-message svelte-1jo17cj")},m(o,l){C(o,e,l),m(e,t),r=!0},p(o,l){(!r||l&512)&&Y(t,o[9])},i(o){r||(o&&W(()=>{r&&(s||(s=oe(e,te,{duration:200},!0)),s.run(1))}),r=!0)},o(o){o&&(s||(s=oe(e,te,{duration:200},!1)),s.run(0)),r=!1},d(o){o&&T(e),o&&s&&s.end()}}}function No(n){let e,t,s,r,o,l,i,a,c,u,f,d,h,g;function _(y,A){return y[12]?y[9]?$o:Oo:Ro}let k=_(n),b=k(n),w=!n[10].exists&&Pn(n),S=n[9]&&Mn(n);return{c(){e=v("div"),b.c(),t=$(),w&&w.c(),s=$(),S&&S.c(),r=$(),o=v("div"),l=v("p"),i=j(n[3]),a=j(" Your key is stored securely on your device."),c=$(),u=v("a"),f=j(n[5]),p(l,"class","svelte-1jo17cj"),p(u,"href",n[4]),p(u,"target",d=n[0]!=="openai"?"_blank":void 0),p(u,"rel",h=n[0]!=="openai"?"noopener noreferrer":void 0),p(u,"class","help-link svelte-1jo17cj"),p(o,"class","api-key-info svelte-1jo17cj"),p(e,"class","api-key-wrapper api-key-input-section svelte-1jo17cj"),B(e,"loading",!n[11])},m(y,A){C(y,e,A),b.m(e,null),m(e,t),w&&w.m(e,null),m(e,s),S&&S.m(e,null),m(e,r),m(e,o),m(o,l),m(l,i),m(l,a),m(o,c),m(o,u),m(u,f),g=!0},p(y,[A]){k===(k=_(y))&&b?b.p(y,A):(b.d(1),b=k(y),b&&(b.c(),b.m(e,t))),y[10].exists?w&&(G(),I(w,1,1,()=>{w=null}),H()):w?(w.p(y,A),A&1024&&E(w,1)):(w=Pn(y),w.c(),E(w,1),w.m(e,s)),y[9]?S?(S.p(y,A),A&512&&E(S,1)):(S=Mn(y),S.c(),E(S,1),S.m(e,r)):S&&(G(),I(S,1,1,()=>{S=null}),H()),(!g||A&8)&&Y(i,y[3]),(!g||A&32)&&Y(f,y[5]),(!g||A&16)&&p(u,"href",y[4]),(!g||A&1&&d!==(d=y[0]!=="openai"?"_blank":void 0))&&p(u,"target",d),(!g||A&1&&h!==(h=y[0]!=="openai"?"noopener noreferrer":void 0))&&p(u,"rel",h),(!g||A&2048)&&B(e,"loading",!y[11])},i(y){g||(E(w),E(S),g=!0)},o(y){I(w),I(S),g=!1},d(y){y&&T(e),b.d(),w&&w.d(),S&&S.d()}}}function Do(n,e,t){let{provider:s="openai"}=e,{title:r=s==="openai"?"OpenAI API Key":"Mistral API Key"}=e,{placeholder:o=s==="openai"?"Enter your OpenAI API Key":"Enter your Mistral API Key"}=e,{infoText:l=s==="openai"?"Required for audio/video transcription.":"Required for advanced OCR processing."}=e,{helpLink:i=s==="openai"?"/help#api-keys":"https://console.mistral.ai/"}=e,{helpText:a=s==="openai"?"Learn more about API keys":"Get a Mistral API key"}=e,c="",u=!1,f=!1,d="",h={exists:!1,valid:!1},g=!1,_=!1;Ie(()=>{window!=null&&window.electron?window.electron.onReady(async()=>{try{t(12,_=!0),await k()}catch(O){console.error("Failed to initialize API key component:",O),t(9,d="Failed to initialize: "+(O.message||"Unknown error"))}}):t(9,d="Electron API not available")});async function k(){try{t(6,c=await dr(s)||"");const O=await window.electron.checkApiKeyExists(s);if(t(10,h={exists:O.exists,valid:!0}),O.exists){const F=await window.electron.getApiKey(s);F.success&&F.key&&(t(6,c=F.key),await it(F.key,s))}t(11,g=!0)}catch(O){console.error(`Error initializing ${s} API key:`,O),t(9,d=O.message||`Failed to initialize ${s} API key`)}}function b(O){t(6,c=O.target.value),it(c,s),t(9,d="")}function w(){t(7,u=!u)}async function S(){if(c){t(8,f=!0),t(9,d="");try{const O=await window.electron.saveApiKey(c,s);if(!O.success)throw new Error(O.error||"Failed to save API key");t(10,h={exists:!0,valid:!0})}catch(O){t(9,d=O.message)}finally{t(8,f=!1)}}}async function y(){try{await window.electron.deleteApiKey(s),t(10,h={exists:!1,valid:!1}),t(6,c=""),it("",s)}catch(O){t(9,d=O.message)}}function A(){c=this.value,t(6,c)}function R(){c=this.value,t(6,c)}return n.$$set=O=>{"provider"in O&&t(0,s=O.provider),"title"in O&&t(1,r=O.title),"placeholder"in O&&t(2,o=O.placeholder),"infoText"in O&&t(3,l=O.infoText),"helpLink"in O&&t(4,i=O.helpLink),"helpText"in O&&t(5,a=O.helpText)},[s,r,o,l,i,a,c,u,f,d,h,g,_,b,w,S,y,A,R]}class jt extends J{constructor(e){super(),Z(this,e,Do,No,X,{provider:0,title:1,placeholder:2,infoText:3,helpLink:4,helpText:5})}}function jn(n){let e,t,s,r,o,l,i,a,c,u,f,d,h;t=new Jr({}),r=new oo({}),u=new uo({props:{acceptedTypes:n[6],disabled:n[2]}}),u.$on("filesDropped",n[10]),u.$on("filesSelected",n[11]);let g=n[5].message&&Nn();return{c(){e=v("div"),z(t.$$.fragment),s=$(),z(r.$$.fragment),o=$(),l=v("div"),i=$(),a=v("div"),c=v("div"),z(u.$$.fragment),f=$(),g&&g.c(),d=pe(),p(e,"class","section svelte-1pnnf18"),p(l,"class","section-divider svelte-1pnnf18"),p(a,"class","section svelte-1pnnf18")},m(_,k){C(_,e,k),D(t,e,null),m(e,s),D(r,e,null),C(_,o,k),C(_,l,k),C(_,i,k),C(_,a,k),m(a,c),D(u,c,null),C(_,f,k),g&&g.m(_,k),C(_,d,k),h=!0},p(_,k){const b={};k&4&&(b.disabled=_[2]),u.$set(b),_[5].message?g?k&32&&E(g,1):(g=Nn(),g.c(),E(g,1),g.m(d.parentNode,d)):g&&(G(),I(g,1,1,()=>{g=null}),H())},i(_){h||(E(t.$$.fragment,_),E(r.$$.fragment,_),E(u.$$.fragment,_),E(g),h=!0)},o(_){I(t.$$.fragment,_),I(r.$$.fragment,_),I(u.$$.fragment,_),I(g),h=!1},d(_){_&&(T(e),T(o),T(l),T(i),T(a),T(f),T(d)),U(t),U(r),U(u),g&&g.d(_)}}}function Nn(n){let e,t,s;return t=new As({}),{c(){e=v("div"),z(t.$$.fragment),p(e,"class","section svelte-1pnnf18")},m(r,o){C(r,e,o),D(t,e,null),s=!0},i(r){s||(E(t.$$.fragment,r),s=!0)},o(r){I(t.$$.fragment,r),s=!1},d(r){r&&T(e),U(t)}}}function Dn(n){let e,t,s;return t=new As({}),{c(){e=v("div"),z(t.$$.fragment),p(e,"class","section svelte-1pnnf18")},m(r,o){C(r,e,o),D(t,e,null),s=!0},i(r){s||(E(t.$$.fragment,r),s=!0)},o(r){I(t.$$.fragment,r),s=!1},d(r){r&&T(e),U(t)}}}function Un(n){let e,t,s;return t=new Io({props:{showConversionButton:n[0],$$slots:{"conversion-button":[zo]},$$scope:{ctx:n}}}),t.$on("fileRemoved",qo),{c(){e=v("div"),z(t.$$.fragment),p(e,"class","section svelte-1pnnf18")},m(r,o){C(r,e,o),D(t,e,null),s=!0},p(r,o){const l={};o&1&&(l.showConversionButton=r[0]),o&8388610&&(l.$$scope={dirty:o,ctx:r}),t.$set(l)},i(r){s||(E(t.$$.fragment,r),s=!0)},o(r){I(t.$$.fragment,r),s=!1},d(r){r&&T(e),U(t)}}}function Uo(n){let e;return{c(){e=j("Start Conversion")},m(t,s){C(t,e,s)},d(t){t&&T(e)}}}function zo(n){let e,t,s;return t=new Se({props:{variant:"primary",size:"large",fullWidth:!0,$$slots:{default:[Uo]},$$scope:{ctx:n}}}),t.$on("click",function(){je(n[1])&&n[1].apply(this,arguments)}),{c(){e=v("div"),z(t.$$.fragment),p(e,"slot","conversion-button")},m(r,o){C(r,e,o),D(t,e,null),s=!0},p(r,o){n=r;const l={};o&8388608&&(l.$$scope={dirty:o,ctx:n}),t.$set(l)},i(r){s||(E(t.$$.fragment,r),s=!0)},o(r){I(t.$$.fragment,r),s=!1},d(r){r&&T(e),U(t)}}}function zn(n){let e,t,s;return t=new jt({}),{c(){e=v("div"),z(t.$$.fragment),p(e,"class","section svelte-1pnnf18")},m(r,o){C(r,e,o),D(t,e,null),s=!0},i(r){s||(E(t.$$.fragment,r),s=!0)},o(r){I(t.$$.fragment,r),s=!1},d(r){r&&T(e),U(t)}}}function Bo(n){let e,t,s,r,o,l=!n[4]&&jn(n),i=n[5].message&&Dn(),a=n[4]&&Un(n),c=n[3]&&zn();return{c(){e=v("div"),l&&l.c(),t=$(),i&&i.c(),s=$(),a&&a.c(),r=$(),c&&c.c(),p(e,"class","uploader-content svelte-1pnnf18")},m(u,f){C(u,e,f),l&&l.m(e,null),m(e,t),i&&i.m(e,null),m(e,s),a&&a.m(e,null),m(e,r),c&&c.m(e,null),o=!0},p(u,f){u[4]?l&&(G(),I(l,1,1,()=>{l=null}),H()):l?(l.p(u,f),f&16&&E(l,1)):(l=jn(u),l.c(),E(l,1),l.m(e,t)),u[5].message?i?f&32&&E(i,1):(i=Dn(),i.c(),E(i,1),i.m(e,s)):i&&(G(),I(i,1,1,()=>{i=null}),H()),u[4]?a?(a.p(u,f),f&16&&E(a,1)):(a=Un(u),a.c(),E(a,1),a.m(e,r)):a&&(G(),I(a,1,1,()=>{a=null}),H()),u[3]?c?f&8&&E(c,1):(c=zn(),c.c(),E(c,1),c.m(e,null)):c&&(G(),I(c,1,1,()=>{c=null}),H())},i(u){o||(E(l),E(i),E(a),E(c),o=!0)},o(u){I(l),I(i),I(a),I(c),o=!1},d(u){u&&T(e),l&&l.d(),i&&i.d(),a&&a.d(),c&&c.d()}}}function Vo(n){let e,t,s,r;return t=new xe({props:{$$slots:{default:[Bo]},$$scope:{ctx:n}}}),{c(){e=v("div"),z(t.$$.fragment),p(e,"class","file-uploader svelte-1pnnf18")},m(o,l){C(o,e,l),D(t,e,null),r=!0},p(o,[l]){const i={};l&8388671&&(i.$$scope={dirty:l,ctx:o}),t.$set(i)},i(o){r||(E(t.$$.fragment,o),o&&(s||W(()=>{s=se(e,te,{duration:200}),s.start()})),r=!0)},o(o){I(t.$$.fragment,o),r=!1},d(o){o&&T(e),U(t)}}}const qo=()=>{};function Wo(n,e,t){let s,r,o,l,i,a;ae(n,Zt,S=>t(12,S)),ae(n,ue,S=>t(9,i=S)),ae(n,fe,S=>t(5,a=S));let{showConversionButton:c=!1}=e,{onStartConversion:u=()=>{}}=e;const f=_e(),h=Object.values(Hr).flat();function g(S,y="info"){if(y!=="success")return fe.setMessage(S,y),setTimeout(()=>fe.clearMessage(),5e3)}function _(S){const A=typeof S=="string"?S.split(/[/\\]/).pop():S.name,R=A.split(".").pop().toLowerCase();return Lr(R)?{valid:!0}:{valid:!1,message:`Unsupported file type: ${A}`}}function k(S){if(fe.clearMessage(),S.length===0)return;const y=S[0],A=_(y);if(!A.valid){g(A.message,"error");return}const R=typeof y=="string",O=R?y.split(/[/\\]/).pop():y.name,F=O.split(".").pop().toLowerCase(),M=Lt(R?{type:F}:y),re={id:Gr(),name:O,file:y,path:R?y:null,type:F,status:"Ready",progress:0,selected:!1,requiresApiKey:M,isNative:R},N=ue.addFile(re);N.success?f("filesAdded",{files:[re]}):g(N.message,"error")}const b=S=>{console.log("Files dropped event received:",S.detail),k(S.detail.files)},w=S=>{console.log("Files selected event received:",S.detail),k(S.detail.files)};return n.$$set=S=>{"showConversionButton"in S&&t(0,c=S.showConversionButton),"onStartConversion"in S&&t(1,u=S.onStartConversion)},n.$$.update=()=>{n.$$.dirty&512&&t(4,s=i.length>0),n.$$.dirty&512&&t(3,r=i.some(S=>Lt(S))),n.$$.dirty&512&&t(8,o=i.length>0&&i[0].url),n.$$.dirty&256&&t(2,l=o),n.$$.dirty&256&&t(2,l=o),n.$$.dirty&516&&l&&console.log("DropZone disabled because hasUrl is true:",i)},[c,u,l,r,s,a,h,k,o,i,b,w]}class Ko extends J{constructor(e){super(),Z(this,e,Wo,Vo,X,{showConversionButton:0,onStartConversion:1})}}function Go(){const n={success:!1,outputPath:null,items:[],isNative:!0,message:null,error:null},{subscribe:e,set:t,update:s}=we(null);return{subscribe:e,setResult:r=>{r.outputPath?t({success:!0,outputPath:r.outputPath,items:r.items||[],isNative:!0,message:r.message||"Conversion completed successfully",error:null}):r.error?t({success:!1,error:r.error,message:r.message||"Conversion failed",isNative:!0}):t({...n,...r,success:r.success!==!1,isNative:!0})},setNativeResult:(r,o=[],l={})=>{const{message:i=null,isBatch:a=!1,totalCount:c=o.length}=l;t({success:!0,outputPath:r,items:o,isNative:!0,isBatch:a,totalCount:c,message:i||"Conversion completed successfully",error:null})},setError:(r,o=null)=>{t({success:!1,error:r,message:o||r,isNative:!0})},clearResult:()=>t(null),hasResult:()=>{let r=null;return e(o=>{r=o})(),r!==null&&r.success===!0},hasError:()=>{let r=null;return e(o=>{r=o})(),r!==null&&r.success===!1}}}const Fe=Go(),Q={IDLE:"idle",INITIALIZING:"initializing",PREPARING:"preparing",SELECTING_OUTPUT:"selecting_output",CONVERTING:"converting",PROCESSING:"processing",COMPLETED:"completed",ERROR:"error",CANCELLED:"cancelled"},Ho={PARENT:"parent"},ze={RETRY_COUNT:3,RETRY_DELAY:500,CLEANUP_DELAY:1e3,SIZE_THRESHOLD:100*1024*1024,MAX_AGE:30*60*1e3},Yo=["pdf","pptx","docx","xlsx","jpg","jpeg","png","gif","mp3","mp4","wav","webm","avi"],Xo={[Q.IDLE]:P.STATUS.IDLE,[Q.INITIALIZING]:P.STATUS.INITIALIZING,[Q.PREPARING]:P.STATUS.PREPARING,[Q.SELECTING_OUTPUT]:P.STATUS.PREPARING,[Q.CONVERTING]:P.STATUS.CONVERTING,[Q.PROCESSING]:P.STATUS.CONVERTING,[Q.COMPLETED]:P.STATUS.COMPLETED,[Q.ERROR]:P.STATUS.ERROR,[Q.CANCELLED]:P.STATUS.CANCELLED},Qo={prepare:P.STATUS.PREPARING,converting:P.STATUS.CONVERTING,complete:P.STATUS.COMPLETED};class Zo{updateConversionStatus(e,t){if(!Object.values(Q).includes(e)){console.warn(`Invalid conversion status: ${e}`);return}const s=Xo[e]||e;K.setStatus(s),typeof t=="number"&&K.setProgress(t)}updateCurrentFile(e){if(!e){console.warn("No filename provided for current file update");return}K.setCurrentFile(e)}setError(e){K.stopTimer();const t=(e==null?void 0:e.message)||e||"An unknown error occurred";K.setError(t),console.error("[StoreManager] Error:",t)}updateWebsiteProgress(e,t){const s=Qo[e]||e;if(!s){console.warn(`Invalid website conversion phase: ${e}`);return}K.setStatus(s),t&&K.batchUpdate({message:t})}updateFileStatus(e,t,s=null){if(!e){console.warn("No fileId provided for status update");return}if(!$e(ue).some(l=>l.id===e)){console.warn(`File with id ${e} not found`);return}ue.updateFile(e,{status:t,...s?{outputPath:s}:{}})}setConversionResult(e,t,s={}){if(!e){console.warn("No result provided to setConversionResult");return}e.outputPath?Fe.setNativeResult(e.outputPath,t,s):e.blob?Fe.setWebResult(e.blob,t,s):console.warn("Invalid result format - missing outputPath or blob")}updateBatchProgress(e,t){if(typeof e!="number"||typeof t!="number"){console.warn("Invalid batch progress values");return}const s=Math.min(Math.round(e/t*100),100);this.updateConversionStatus(Q.CONVERTING,s)}completeConversion(){K.stopTimer(),K.completeConversion()}cancelConversion(){K.stopTimer(),K.setStatus(P.STATUS.CANCELLED),K.setProgress(0);const e=$e(ue);e.forEach(s=>{s.status===Q.CONVERTING&&this.updateFileStatus(s.id,Q.CANCELLED)});const t=e[0];(t==null?void 0:t.type)===Ho.PARENT&&(K.setStatus(P.STATUS.CANCELLED),K.batchUpdate({message:"Website conversion cancelled"}))}resetStores(){K.stopTimer(),K.reset(),Fe.clearResult(),ue.clearFiles()}hasProcessingFiles(){return $e(ue).some(t=>t.status===Q.CONVERTING||t.status===Q.PROCESSING)}}const ee=new Zo;class Jo{async startConversion(){console.log("üîÑ [VERBOSE] ConversionHandler.startConversion called"),console.time("üïí [VERBOSE] Total conversion handler time");const e=$e(ue),t=$e(Zt);if(console.log("üîç [VERBOSE] Conversion starting with:",{fileCount:e.length,hasApiKey:!!t,files:e.map(s=>({id:s.id,name:s.name,type:s.type,size:s.size,hasUrl:!!s.url}))}),e.length===0){const s=new Error("No files available for conversion.");ee.setError(s.message),console.error("‚ùå [VERBOSE] No files available for conversion"),console.timeEnd("üïí [VERBOSE] Total conversion handler time");return}console.log("üîÑ [VERBOSE] Resetting and starting unified conversion timer"),K.reset(),K.startTimer(),ee.updateConversionStatus(Q.INITIALIZING,0),await new Promise(s=>setTimeout(s,1e3));try{console.log("üîÑ [VERBOSE] Initializing conversion"),ee.updateConversionStatus(Q.INITIALIZING,0),console.log("üîÑ [VERBOSE] Starting Electron conversion for file:",e[0].name),await this.handleElectronConversion(e[0],t),console.log("‚úÖ [VERBOSE] Electron conversion completed successfully"),ee.updateConversionStatus(Q.PROCESSING,50),this.showFeedback("‚ú® Processing started! You will be notified when the conversion is complete.","success"),console.timeEnd("üïí [VERBOSE] Total conversion handler time")}catch(s){console.timeEnd("üïí [VERBOSE] Total conversion handler time"),console.error("‚ùå [VERBOSE] Conversion error in startConversion:",s);const r=s.message||"";if(r.includes("Unauthorized")||r.includes("401")||r.includes("API key")){const o="OCR conversion failed: Invalid or missing Mistral API key. Please check your API key in Settings.";ee.setError(o),this.showFeedback(o,"error")}else ee.setError(r||"An unexpected error occurred during conversion"),this.showFeedback(r,"error")}}async handleElectronConversion(e,t){console.log("üîÑ [VERBOSE] handleElectronConversion called with item:",{id:e.id,name:e.name,type:e.type,size:e.size,hasUrl:!!e.url,hasPath:!!e.path,hasFile:!!e.file,hasApiKey:!!t}),console.time("üïí [VERBOSE] Electron conversion time");try{console.log("üîÑ [VERBOSE] Prompting for output directory"),ee.updateConversionStatus(Q.SELECTING_OUTPUT,0);const s=await Ce.selectOutputDirectory();if(console.log("üîç [VERBOSE] Output directory selection result:",{success:s.success,path:s.path?s.path.substring(0,50)+"...":"none"}),!s.success){console.log("‚ÑπÔ∏è [VERBOSE] Conversion cancelled: No output directory selected"),ee.updateConversionStatus(Q.CANCELLED,0),this.showFeedback("Conversion cancelled: No output directory selected","info"),console.timeEnd("üïí [VERBOSE] Electron conversion time");return}console.log("üîÑ [VERBOSE] Getting OCR settings");const r=await window.electron.getSetting("ocr.enabled");console.log("üîç [VERBOSE] OCR enabled:",r);const l=$e(be).keys.mistral||"";console.log(`Using API keys - OpenAI: ${t?"‚úì (set)":"‚úó (not set)"}, Mistral: ${l?"‚úì (set)":"‚úó (not set)"}`);const i={outputDir:s.path,createSubdirectory:!1,...t?{apiKey:t}:{},useOcr:r,mistralApiKey:l};console.log("üîç [VERBOSE] Conversion options prepared:",{outputDir:i.outputDir?i.outputDir.substring(0,50)+"...":"none",createSubdirectory:i.createSubdirectory,hasApiKey:!!i.apiKey,useOcr:i.useOcr,hasMistralApiKey:!!i.mistralApiKey}),console.log("üîÑ [VERBOSE] Starting single item conversion"),await this.handleSingleItemConversion(e,i),console.log("‚úÖ [VERBOSE] Single item conversion completed"),console.timeEnd("üïí [VERBOSE] Electron conversion time")}catch(s){throw console.timeEnd("üïí [VERBOSE] Electron conversion time"),console.error("‚ùå [VERBOSE] Electron conversion error:",s),console.log("üîç [VERBOSE] Error details:",{name:s.name,message:s.message,stack:s.stack}),ee.setError(s.message),s}}async handleSingleItemConversion(e,t){var s,r,o,l;console.log("üîÑ [VERBOSE] handleSingleItemConversion called with item:",{id:e.id,name:e.name,type:e.type,size:e.size,hasUrl:!!e.url,hasPath:!!e.path,hasFile:!!e.file}),console.time("üïí [VERBOSE] Single item conversion time"),ee.updateCurrentFile(e.name||e.url||"File"),ee.updateConversionStatus(Q.CONVERTING,0);try{console.log("üîç [VERBOSE] Getting file handling info");const i=Es(e.file||e);console.log("üîç [VERBOSE] File handling info:",i);let a;const c={...t,fileType:i.fileType,category:i.category,handling:i.handling,isTemporary:i.isBinary,originalFileName:i.fileName},u=i.isWeb?{...c,type:e.type,...e.options,...e.type==="parenturl"&&{maxDepth:((s=e.options)==null?void 0:s.maxDepth)||3,maxPages:((r=e.options)==null?void 0:r.maxPages)||100,includeImages:((o=e.options)==null?void 0:o.includeImages)??!0,includeMeta:((l=e.options)==null?void 0:l.includeMeta)??!0}}:{...c,type:i.converter};if(i.isWeb&&console.log("üåê Web conversion details:",{originalType:e.type,fileType:u.fileType,originalOptions:e.options,finalType:u.type,isParentUrl:e.type==="parenturl",finalOptions:u}),e.isNative&&e.path)a=await Ce.convertFile(e.path,u,f=>{ee.updateConversionStatus(Q.CONVERTING,f)});else if(e.file instanceof File){let f;i.isBinary?f=await e.file.arrayBuffer():i.converter==="data"&&i.fileType==="csv"?(f=await e.file.text(),u.isContent=!0,u.content=f):f=await e.file.text(),a=await Ce.convertFile(f,u,d=>{ee.updateConversionStatus(Q.CONVERTING,d)})}else if(i.isWeb&&e.url)a=await Ce.convertFile(e.url,u,f=>{ee.updateConversionStatus(Q.CONVERTING,f)}),console.log("üîÑ URL conversion options:",{type:u.type,isParentUrl:u.type==="parenturl",options:u});else throw new Error(`Unsupported item type: ${e.type||"unknown"}`);if(!a)throw console.error("‚ùå [conversionHandler] No result returned from conversion"),new Error("Conversion failed: No result returned");if(console.log("üîç [conversionHandler] Conversion result structure:",{success:a.success,hasOutputPath:!!a.outputPath,hasContent:!!a.content,hasError:!!a.error,type:a.type,fileType:a.fileType,category:i.category,handlingType:i.handling}),a.success===!1)throw console.error("‚ùå [conversionHandler] Conversion failed with error:",a.error),new Error(`Conversion failed: ${a.error||"Unknown error"}`);if(!a.outputPath)throw console.error("‚ùå [conversionHandler] Result missing outputPath:",a),new Error("Conversion failed: No output path returned");return ee.updateConversionStatus(Q.COMPLETED,100),ee.setConversionResult(a,[e]),ee.updateFileStatus(e.id,Q.COMPLETED,a.outputPath),a}catch(i){console.error(`Error converting ${e.name||e.url}:`,{error:i.message,stack:i.stack,item:{id:e.id,type:e.type,name:e.name,url:e.url}});const a=i.message||"";if(a.includes("Unauthorized")||a.includes("401")||a.includes("API key")){const c="OCR conversion failed: Invalid or missing Mistral API key. Please check your API key in Settings.";throw ee.setError(c),ee.updateFileStatus(e.id,Q.ERROR),new Error(c)}else throw ee.setError(a),ee.updateFileStatus(e.id,Q.ERROR),i}}cancelConversion(){Ce.cancelRequests(),ee.cancelConversion(),this.showFeedback("Conversion cancelled by user","info")}showFeedback(e,t="info"){console.log(`${t.toUpperCase()}: ${e}`)}}const Bn=new Jo;class xo{clearFiles(){ee.clearFiles()}openFile(e){if(!e){console.error("No file path provided to open");return}window.electron.openFile(e).then(t=>{t.success||console.error(`Failed to open file: ${t.error}`)}).catch(t=>{console.error("Error opening file:",t)})}showInFolder(e){if(!e){console.error("No file path provided to show in folder");return}window.electron.showItemInFolder(e).then(t=>{t.success||console.error(`Failed to show item in folder: ${t.error}`)}).catch(t=>{console.error("Error showing item in folder:",t)})}}const lt=new xo,Ee=new Map;class ei{async saveTempFile(e,t){if(!e)throw new Error("No file provided to save");console.log(`üìä [TempFileManager] Starting file transfer for: ${e.name}`),console.log(`üìä [TempFileManager] File size: ${e.size} bytes, Type: ${e.type}`);const s=e.name.split(".").pop().toLowerCase(),r=`temp_${Date.now()}_${e.name}`,o="temp";await Ue.createDirectory(o);const l=`${o}/${r}`,i=Yo.includes(s.toLowerCase()),a=e.size>ze.SIZE_THRESHOLD,c=["mp4","webm","avi"].includes(s.toLowerCase());try{return c&&a?await this.handleLargeVideoFile(e,l,t):i?await this.handleBinaryFile(e,l):await this.handleTextFile(e,l),this.registerFile(l,{originalName:e.name,originalSize:e.size,originalType:e.type,isBinaryFile:i,isVideoFile:c,isLargeFile:a}),l}catch(u){throw console.error("‚ùå [TempFileManager] Error saving temp file:",u),new Error(`Failed to save temporary file: ${u.message}`)}}async handleLargeVideoFile(e,t,s){console.log(`üìä [TempFileManager] Handling large video file (${Math.round(e.size/(1024*1024))}MB)`);const r={originalName:e.name,originalSize:e.size,originalType:e.type,timestamp:Date.now(),needsStreamProcessing:!0},o=`LARGE_FILE:${JSON.stringify(r)}`,l=await Ue.writeFile(t,o);if(!l.success)throw new Error(`Failed to write temporary file metadata: ${l.error}`);try{const i=await window.electron.initLargeFileTransfer({tempFilePath:t,fileName:e.name,fileSize:e.size,fileType:e.type,chunkSize:8388608});if(!i.success)throw new Error(`Failed to initialize large file transfer: ${i.error}`);const a=i.transferId,c=8*1024*1024,u=Math.ceil(e.size/c);console.log(`üìä [TempFileManager] Transfer initialized with ID: ${a}, total chunks: ${u}`);for(let d=0;d<u;d++){const h=d*c,g=Math.min(h+c,e.size),_=e.slice(h,g),k=await this.readFileAsBase64(_),b=await window.electron.transferFileChunk({transferId:a,chunkIndex:d,data:k,size:_.size});if(!b.success)throw new Error(`Failed to transfer chunk ${d+1}/${u}: ${b.error}`);const w=(d+1)/u*100;console.log(`üìä [TempFileManager] Transfer progress: ${Math.round(w)}%`),s==null||s(w)}const f=await window.electron.finalizeLargeFileTransfer({transferId:a});if(!f.success)throw new Error(`Failed to finalize large file transfer: ${f.error}`);return console.log(`‚úÖ [TempFileManager] Transfer completed in ${f.transferTime.toFixed(2)}s (${f.transferSpeed}MB/s)`),f.finalPath}catch(i){throw console.error("‚ùå [TempFileManager] Large file transfer failed:",i),i}}async handleBinaryFile(e,t){console.log("üìä [TempFileManager] Handling binary file");const s=await this.readFileAsBase64(e);if(!s)throw new Error(`Failed to convert file to base64: ${e.name}`);const r=`BASE64:${s}`,o=await Ue.writeFile(t,r);if(!o.success)throw new Error(`Failed to write temporary binary file: ${o.error}`);await this.verifyFileWrite(t,e.size)}async handleTextFile(e,t){console.log("üìä [TempFileManager] Handling text file");const s=await e.text(),r=await Ue.writeFile(t,s);if(!r.success)throw new Error(`Failed to write temporary text file: ${r.error}`)}readFileAsBase64(e){return new Promise((t,s)=>{const r=new FileReader;r.readAsDataURL(e),r.onload=()=>t(r.result.split(",")[1]),r.onerror=o=>s(o)})}async verifyFileWrite(e,t){const s=await Ue.getStats(e);s.success&&s.stats.size<t*.9&&console.warn(`‚ö†Ô∏è [TempFileManager] File size mismatch! Expected: ${t}, Written: ${s.stats.size}`)}registerFile(e,t={}){e&&(Ee.set(e,{path:e,created:Date.now(),inUse:!0,metadata:t}),console.log(`üìù [TempFileManager] Registered temporary file: ${e}`))}markForCleanup(e){if(!e||!Ee.has(e))return;const t=Ee.get(e);t.inUse=!1,t.readyForCleanup=Date.now(),console.log(`üèÅ [TempFileManager] Marked file as ready for cleanup: ${e}`)}async cleanup(e,t={}){const{force:s=!1,retryCount:r=ze.RETRY_COUNT,retryDelay:o=ze.RETRY_DELAY}=t;if(!e){console.warn("‚ö†Ô∏è [TempFileManager] Invalid file path for cleanup");return}if(Ee.has(e)&&Ee.get(e).inUse&&!s){console.warn(`‚ö†Ô∏è [TempFileManager] File still in use, scheduling cleanup for later: ${e}`),setTimeout(()=>{this.cleanup(e,{...t,force:!0})},ze.CLEANUP_DELAY*2);return}let l=0;for(;l<=r;){try{if((await Ue.deleteItem(e,!1)).success){Ee.delete(e),console.log(`‚úÖ [TempFileManager] Cleaned up temporary file: ${e}`);return}l<r&&await new Promise(a=>setTimeout(a,o*(l+1)))}catch(i){console.warn(`‚ùå [TempFileManager] Cleanup attempt ${l+1} failed:`,i),l<r&&await new Promise(a=>setTimeout(a,o*(l+1)))}l++}console.warn(`‚ö†Ô∏è [TempFileManager] Could not clean up file after ${r} attempts: ${e}`),this.scheduleForceCleanup(e)}scheduleForceCleanup(e){e&&(console.log(`üìÖ [TempFileManager] Scheduling forced cleanup for: ${e}`),setTimeout(()=>{this.cleanup(e,{force:!0,retryCount:5})},ze.CLEANUP_DELAY*5))}async cleanupAllUnusedFiles(){console.log("üßπ [TempFileManager] Running cleanup for all unused temporary files");const e=[],t=Date.now();for(const[s,r]of Ee.entries())(!r.inUse||t-r.created>ze.MAX_AGE)&&e.push(s);if(e.length===0){console.log("‚úÖ [TempFileManager] No unused temporary files to clean up");return}console.log(`üßπ [TempFileManager] Cleaning up ${e.length} unused temporary files`);for(const s of e)await this.cleanup(s,{force:!0})}getFileInfo(e){return Ee.get(e)}isFileInUse(e){const t=Ee.get(e);return(t==null?void 0:t.inUse)||!1}}const ti=new ei,ni=5*60*1e3;setInterval(()=>{ti.cleanupAllUnusedFiles()},ni);class si{async startConversion(){try{await Bn.startConversion()}catch(e){console.error("Error in conversion process:",e),ee.setError(e.message||"An unexpected error occurred")}}cancelConversion(){try{Bn.cancelConversion()}catch(e){console.error("Error cancelling conversion:",e)}}clearFiles(){try{lt.clearFiles()}catch(e){console.error("Error clearing files:",e)}}openFile(e){try{lt.openFile(e)}catch(t){console.error("Error opening file:",t)}}showInFolder(e){try{lt.showInFolder(e)}catch(t){console.error("Error showing file in folder:",t)}}cleanupTempFiles(){}}const ri=new si,{startConversion:oi,cancelConversion:Fl,clearFiles:Ll,openFile:Pl,showInFolder:Ml}=ri;function ii(n){let e,t,s,r,o,l,i,a,c,u,f,d,h;return{c(){e=v("div"),t=v("span"),s=j(n[1]),r=$(),o=v("span"),o.textContent=":",l=$(),i=v("span"),a=j(n[2]),c=$(),u=v("span"),u.textContent=":",f=$(),d=v("span"),h=j(n[3]),p(t,"class","time-segment svelte-igwggm"),p(o,"class","separator svelte-igwggm"),p(i,"class","time-segment svelte-igwggm"),p(u,"class","separator svelte-igwggm"),p(d,"class","time-segment svelte-igwggm"),p(e,"class","timer-display svelte-igwggm"),p(e,"role","timer"),p(e,"aria-label",n[0])},m(g,_){C(g,e,_),m(e,t),m(t,s),m(e,r),m(e,o),m(e,l),m(e,i),m(i,a),m(e,c),m(e,u),m(e,f),m(e,d),m(d,h)},p(g,[_]){_&2&&Y(s,g[1]),_&4&&Y(a,g[2]),_&8&&Y(h,g[3]),_&1&&p(e,"aria-label",g[0])},i:L,o:L,d(g){g&&T(e)}}}function li(n,e,t){let s,r;ae(n,K,u=>t(6,r=u));let{time:o="00:00:00"}=e,{label:l="Time elapsed"}=e,i="00",a="00",c="00";return n.$$set=u=>{"time"in u&&t(4,o=u.time),"label"in u&&t(0,l=u.label)},n.$$.update=()=>{n.$$.dirty&64&&t(5,s=K.formatElapsedTime(r.elapsedSeconds)),n.$$.dirty&32&&t(1,[i,a,c]=s.split(":"),i,(t(2,a),t(5,s),t(6,r)),(t(3,c),t(5,s),t(6,r)))},[l,i,a,c,o,s,r]}class ai extends J{constructor(e){super(),Z(this,e,li,ii,X,{time:4,label:0})}}function ci(n){return n.replace(/^# (.+)$/gm,"<h3>$1</h3>").replace(/\*\*([^*]+)\*\*/g,"<strong>$1</strong>").replace(/\*([^*]+)\*/g,"<em>$1</em>").replace(/\[([^\]]+)\]\(([^)]+)\)/g,'<a href="$2" class="help-link" target="_blank" rel="noopener noreferrer">$1</a>').split(`
`).map(e=>e.trim()?`<p>${e}</p>`:"").join("")}let Nt;const ui=["Converting digital knowledge to *markdown*... üöÄ","Transforming content into **readable** format... ‚ú®","Extracting the *essence* of your files... üí°","Translating digital content to *markdown*... üîÑ","Processing your content with **care**... üß†","Organizing information for better **readability**... üìä","Converting bytes to *beautiful* markdown... üí´","Distilling **knowledge** from your files... üîç","Teaching robots to read your content... ü§ñ","Turning complex data into **simple** markdown... üß©","Weaving words into *markdown magic*... ‚ú®","Crafting the **perfect** markdown output... üõ†Ô∏è","Polishing pixels into *perfect prose*... üåü","Decoding digital documents... üîë","Translating tech to text... üåê","Converting content at the *speed of light*... ‚ö°","Turning information into **insight**... üí≠","Making your content more *accessible*... üåà","Preparing your **perfect** markdown files... üìù","Transforming files with *markdown magic*... ‚úÖ",`# Quick Markdown Facts
Markdown is a *lightweight* markup language for creating **formatted text**! üìÑ`,`# History Time
Markdown was created by **John Gruber** and **Aaron Swartz** in 2004! üìú`,`# File Facts
Markdown files use the *.md* extension and are **plain text** files! üìã`,`# Design Philosophy
Markdown is designed to be **readable** even in its *raw text* form! üëÄ`,`# Wide Adoption
Markdown is widely used for **documentation**, *notes*, and web content! üåê`,`# Markdown Tips
Create headings with # symbols - more # means *smaller* headings! üìù`,`# Styling Text
Make text *italic* using single asterisks! üñãÔ∏è`,`# Text Formatting
Make text **bold** using double asterisks! üñäÔ∏è`,`# List Making
Create lists using - or * symbols at the start of lines! üìã`,`# Adding Links
Create links using [text](URL) syntax! üîó`,`# Image Support
Add images using ![alt text](image-url) syntax! üñºÔ∏è`,`# Quote Blocks
Create blockquotes using the > symbol! üí¨`,`# Code Formatting
Create code blocks using triple backticks! üíª`,`# Obsidian Links
Obsidian uses **[[double brackets]]** for *internal links* between notes! üîÑ`,`# Note Embedding
Embed notes within notes using **![[note name]]** syntax! üìë`,`# Knowledge Graph
Obsidian can display your notes as a *visual knowledge graph*! üï∏Ô∏è`,`# Using Tags
Obsidian supports tags using the **#tag** syntax! üè∑Ô∏è`,`# Plugin Support
Obsidian has a **thriving** community of *open-source* plugins! üîå`,`# Future-Proof Notes
Markdown files are **future-proof** because they're just *plain text*! üîÆ`,`# Perfect for Notes
Markdown is **perfect** for note-taking because it's *quick to write* and *easy to read*! üìí`,`# Universal Support
Markdown is supported by **thousands** of applications across all platforms! üåç`,`# Focus on Content
Markdown helps you focus on **content** instead of *formatting*! üß†`,`# Space Efficient
Markdown files are typically *much smaller* than formatted document files! üì¶`,`# PARA Method
Using the **PARA** method (*Projects, Areas, Resources, Archives*) helps organize notes! üìÅ`,`# Map of Content
Creating **MOCs** (*Maps of Content*) helps navigate complex knowledge structures! üó∫Ô∏è`,`# Progressive Learning
**Progressive summarization** helps distill knowledge into *actionable insights*! üìù`,`# Atomic Notes
**Atomic notes** (one idea per note) make knowledge more *reusable*! ‚öõÔ∏è`,`# Connected Thinking
**Bidirectional linking** creates a *network of connected thoughts*! üï∏Ô∏è`,`# Metadata Magic
**Consistent metadata** helps track and organize your knowledge over time! üè∑Ô∏è`,`# Regular Reviews
**Regular knowledge reviews** help *strengthen* your understanding! üîÑ`,`# Natural Growth
Topic hierarchies can evolve *naturally* through **linked notes**! üìö`,`# Power of Dataview
**Obsidian Dataview** lets you create *dynamic content views*! üìä`,`# Visual Thinking
**Obsidian Canvas** helps *visualize* complex relationships! üé®`,`# Custom Styling
Use **CSS snippets** to *customize* your Obsidian workspace! üíÖ`,`# Template Power
**Obsidian templates** can *automate* note creation! ü§ñ`,`# Structured Data
**Properties** help add *structured metadata* to your notes! üìã`,`# Stay in Sync
**Obsidian sync** keeps your knowledge base *consistent* across devices! üîÑ`,`# Share Knowledge
Publish your notes as a **beautiful website** with [Obsidian Publish](https://obsidian.md/publish)! üåê`,`# AI Analysis
**AI** can help *analyze patterns* in your knowledge base! ü§ñ`,`# Smart Summaries
**LLMs** can generate *structured summaries* from your notes! üìä`,`# Semantic Search
**Knowledge graphs** enable *semantic search* of your notes! üîç`,`# Smart Connections
**Machine learning** can suggest *relevant note connections*! üß†`,`# AI Assistance
**AI assistants** can help *maintain* your knowledge base! ü§ù`,`# Vector Search
**Vector embeddings** enable *semantic similarity search*! üéØ`,`# Gap Analysis
**AI** can help identify *knowledge gaps* in your notes! üîç`,`# Enhanced Learning
**Modern PKM tools** integrate with *AI* for enhanced learning! üöÄ`,`# Flow Products
Synaptic Labs offers [Flow products](https://www.synapticlabs.ai/flows) for **guided knowledge workflows**! üîÑ`,`# Optimize Your Workflow
Streamline your process with our [Flow system](https://www.synapticlabs.ai/flows) for *enhanced productivity*! üîÑ`,`# Join Our Community
Join our [Discord community](https://discord.gg/z5DgD5ZHNJ) for **PKM tips** and *discussions*! üí¨`,`# Connect with Peers
Share ideas in our [Discord space](https://discord.gg/z5DgD5ZHNJ) with fellow **knowledge enthusiasts**! üí¨`,`# AI Agents
Learn about our [AI agents](https://www.synapticlabs.ai/agents) and **automations**! ü§ñ`,`# Smart Automation
Discover how our [AI assistants](https://www.synapticlabs.ai/agents) can *transform* your workflow! ü§ñ`,`# Level Up
Level up your skills with our [bootcamps](https://www.synapticlabs.ai/bootcamps)! üéì`,`# Skill Building
Accelerate your learning through our intensive [training programs](https://www.synapticlabs.ai/bootcamps)! üéì`,`# Latest Insights
Read our latest insights at [our blog](https://blog.synapticlabs.ai)! üìñ`,`# Knowledge Hub
Stay updated with fresh perspectives on our [blog](https://blog.synapticlabs.ai)! üìñ`,`# Tutorials & Tips
Get tutorials and tips at our [YouTube channel](https://www.youtube.com/@SynapticLabs)! üé•`,`# Video Resources
Learn visually through our [YouTube content](https://www.youtube.com/@SynapticLabs)! üé•`,`# About Us
Learn more at [Synaptic Labs](https://www.synapticlabs.ai/about)! üè¢`,`# Our Story
Discover what drives us at [Synaptic Labs](https://www.synapticlabs.ai/about)! üè¢`,`# Contact Us
Have questions? [Reach out](https://www.synapticlabs.ai/contact-us) to us! üìß`,`# Get In Touch
Need assistance? [Contact our team](https://www.synapticlabs.ai/contact-us) for support! üìß`];function fi(){Nt=ui.map(n=>ci(n))}function di(){const n=Math.floor(Math.random()*Nt.length);return Nt[n]}fi();function Vn(n){let e,t,s,r,o,l;const i=[hi,mi,gi,pi],a=[];function c(f,d){return f[4]===P.STATUS.COMPLETED||f[2]?0:f[4]===P.STATUS.ERROR?1:f[4]==="stopped"||f[4]===P.STATUS.CANCELLED?2:3}s=c(n),r=a[s]=i[s](n);let u=!n[2]&&n[4]!==P.STATUS.COMPLETED&&n[4]!==P.STATUS.ERROR&&n[4]!==P.STATUS.CANCELLED&&qn(n);return{c(){e=v("div"),t=v("div"),r.c(),o=$(),u&&u.c(),p(t,"class","chat-container svelte-et9v1e"),p(e,"class","conversion-progress svelte-et9v1e"),B(e,"fade-in",n[4]!==P.STATUS.IDLE)},m(f,d){C(f,e,d),m(e,t),a[s].m(t,null),m(e,o),u&&u.m(e,null),l=!0},p(f,d){let h=s;s=c(f),s===h?a[s].p(f,d):(G(),I(a[h],1,1,()=>{a[h]=null}),H(),r=a[s],r?r.p(f,d):(r=a[s]=i[s](f),r.c()),E(r,1),r.m(t,null)),!f[2]&&f[4]!==P.STATUS.COMPLETED&&f[4]!==P.STATUS.ERROR&&f[4]!==P.STATUS.CANCELLED?u?(u.p(f,d),d&20&&E(u,1)):(u=qn(f),u.c(),E(u,1),u.m(e,null)):u&&(G(),I(u,1,1,()=>{u=null}),H()),(!l||d&16)&&B(e,"fade-in",f[4]!==P.STATUS.IDLE)},i(f){l||(E(r),E(u),l=!0)},o(f){I(r),I(u),l=!1},d(f){f&&T(e),a[s].d(),u&&u.d()}}}function pi(n){let e,t;return e=new tt({props:{name:"Codex",avatar:"üìñ",message:n[0],avatarPosition:n[8](),isTyping:n[1]}}),{c(){z(e.$$.fragment)},m(s,r){D(e,s,r),t=!0},p(s,r){const o={};r&1&&(o.message=s[0]),r&2&&(o.isTyping=s[1]),e.$set(o)},i(s){t||(E(e.$$.fragment,s),t=!0)},o(s){I(e.$$.fragment,s),t=!1},d(s){U(e,s)}}}function gi(n){let e,t;return e=new tt({props:{name:"Codex",avatar:"üìñ",message:`Conversion ${n[4]===P.STATUS.CANCELLED?"cancelled":"stopped"}. ${n[5]>0?`Processed some of ${n[5]} files.`:""}`,avatarPosition:n[8]()}}),{c(){z(e.$$.fragment)},m(s,r){D(e,s,r),t=!0},p(s,r){const o={};r&48&&(o.message=`Conversion ${s[4]===P.STATUS.CANCELLED?"cancelled":"stopped"}. ${s[5]>0?`Processed some of ${s[5]} files.`:""}`),e.$set(o)},i(s){t||(E(e.$$.fragment,s),t=!0)},o(s){I(e.$$.fragment,s),t=!1},d(s){U(e,s)}}}function mi(n){let e,t;return e=new tt({props:{name:"Codex",avatar:"üìñ",message:`Encountered an error during conversion: ${n[6]||"Unknown error"}. Please try again.`,avatarPosition:n[8]()}}),{c(){z(e.$$.fragment)},m(s,r){D(e,s,r),t=!0},p(s,r){const o={};r&64&&(o.message=`Encountered an error during conversion: ${s[6]||"Unknown error"}. Please try again.`),e.$set(o)},i(s){t||(E(e.$$.fragment,s),t=!0)},o(s){I(e.$$.fragment,s),t=!1},d(s){U(e,s)}}}function hi(n){let e,t;return e=new tt({props:{name:"Codex",avatar:"üìñ",message:n[3],avatarPosition:n[8]()}}),{c(){z(e.$$.fragment)},m(s,r){D(e,s,r),t=!0},p(s,r){const o={};r&8&&(o.message=s[3]),e.$set(o)},i(s){t||(E(e.$$.fragment,s),t=!0)},o(s){I(e.$$.fragment,s),t=!1},d(s){U(e,s)}}}function qn(n){let e,t,s,r,o;return t=new ai({}),r=new Se({props:{variant:"danger",size:"medium",fullWidth:!0,$$slots:{default:[vi]},$$scope:{ctx:n}}}),r.$on("click",n[10]),{c(){e=v("div"),z(t.$$.fragment),s=$(),z(r.$$.fragment),p(e,"class","conversion-actions svelte-et9v1e")},m(l,i){C(l,e,i),D(t,e,null),m(e,s),D(r,e,null),o=!0},p(l,i){const a={};i&33554432&&(a.$$scope={dirty:i,ctx:l}),r.$set(a)},i(l){o||(E(t.$$.fragment,l),E(r.$$.fragment,l),o=!0)},o(l){I(t.$$.fragment,l),I(r.$$.fragment,l),o=!1},d(l){l&&T(e),U(t),U(r)}}}function vi(n){let e,t;return{c(){e=v("span"),e.textContent="üõë",t=j(`\r
          Cancel`),p(e,"class","icon svelte-et9v1e")},m(s,r){C(s,e,r),C(s,t,r)},p:L,d(s){s&&(T(e),T(t))}}}function bi(n){let e,t,s=n[4]!==P.STATUS.IDLE&&n[4]!==P.STATUS.CANCELLED&&Vn(n);return{c(){s&&s.c(),e=pe()},m(r,o){s&&s.m(r,o),C(r,e,o),t=!0},p(r,[o]){r[4]!==P.STATUS.IDLE&&r[4]!==P.STATUS.CANCELLED?s?(s.p(r,o),o&16&&E(s,1)):(s=Vn(r),s.c(),E(s,1),s.m(e.parentNode,e)):s&&(G(),I(s,1,1,()=>{s=null}),H())},i(r){t||(E(s),t=!0)},o(r){I(s),t=!1},d(r){r&&T(e),s&&s.d(r)}}}const _i=40,wi=4e3,yi=800;function ki(n,e,t){let s;ae(n,K,N=>t(20,s=N));const r=_e();let o="left";function l(){return o=o==="left"?"right":"left",o}let i,a,c,u="",f="",d=!0,h=!1,g=!1,_="",k=0,b="",w=P.STATUS.IDLE,S=0,y=null;function A(){t(2,g=!0),k=S;const N=s.elapsedSeconds;b=K.formatElapsedTime(N),(b==="00:00:00"||N===0)&&(console.warn("Timer captured zero time, using fallback"),b="00:00:01"),t(3,_=`Successfully converted ${k>0?`all ${k} files`:"your content"}! üéâ<br>Time taken: ${b}`),F()}function R(){t(2,g=!1),t(3,_=""),k=0,b="",F(),w!==P.STATUS.IDLE&&w!==P.STATUS.COMPLETED&&w!==P.STATUS.ERROR&&w!==P.STATUS.CANCELLED&&O()}function O(){h||(h=!0,u=di(),t(0,f=""),t(1,d=!0),a=setTimeout(()=>{t(1,d=!1);let N=0,V=u;c=setInterval(()=>{N<V.length?(t(0,f=V.substring(0,N+1)),N++):(clearInterval(c),c=null,a=setTimeout(()=>{i=setTimeout(()=>{h=!1,O()},100)},wi))},_i)},yi))}function F(){h=!1,i&&(clearTimeout(i),i=null),a&&(clearTimeout(a),a=null),c&&(clearInterval(c),c=null)}const M=K.subscribe(N=>{const V=w;t(4,w=N.status),t(5,S=N.totalCount||0),t(6,y=N.error),w!==P.STATUS.IDLE&&w!==P.STATUS.COMPLETED&&w!==P.STATUS.ERROR&&w!==P.STATUS.CANCELLED&&(h||O()),w===P.STATUS.COMPLETED&&(g||A()),(w===P.STATUS.ERROR||w===P.STATUS.CANCELLED)&&V!==w&&F()});return Ie(()=>{w!==P.STATUS.IDLE&&w!==P.STATUS.COMPLETED&&w!==P.STATUS.ERROR&&w!==P.STATUS.CANCELLED&&!g&&(h||O())}),Wt(()=>{M(),F()}),[f,d,g,_,w,S,y,r,l,R,()=>r("cancel")]}class Ei extends J{constructor(e){super(),Z(this,e,ki,bi,X,{resetState:9})}get resetState(){return this.$$.ctx[9]}}function Si(n){return{c:L,m:L,p:L,i:L,o:L,d:L}}function Ti(n){let e,t,s,r,o,l,i,a={};t=new Ei({props:a}),n[11](t),t.$on("cancel",n[5]);const c=[Ai,Ci],u=[];function f(d,h){return d[3]?0:d[2]?1:-1}return~(r=f(n))&&(o=u[r]=c[r](n)),{c(){e=v("div"),z(t.$$.fragment),s=$(),o&&o.c(),l=pe(),p(e,"class","progress-section svelte-s4mf9a")},m(d,h){C(d,e,h),D(t,e,null),C(d,s,h),~r&&u[r].m(d,h),C(d,l,h),i=!0},p(d,h){const g={};t.$set(g);let _=r;r=f(d),r===_?~r&&u[r].p(d,h):(o&&(G(),I(u[_],1,1,()=>{u[_]=null}),H()),~r?(o=u[r],o?o.p(d,h):(o=u[r]=c[r](d),o.c()),E(o,1),o.m(l.parentNode,l)):o=null)},i(d){i||(E(t.$$.fragment,d),E(o),i=!0)},o(d){I(t.$$.fragment,d),I(o),i=!1},d(d){d&&(T(e),T(s),T(l)),n[11](null),U(t),~r&&u[r].d(d)}}}function Ci(n){let e,t,s,r;return s=new Se({props:{variant:"primary",size:"large",$$slots:{default:[Ii]},$$scope:{ctx:n}}}),s.$on("click",n[7]),{c(){e=v("div"),t=v("div"),z(s.$$.fragment),p(t,"class","button-container svelte-s4mf9a"),p(e,"class","action-section svelte-s4mf9a")},m(o,l){C(o,e,l),m(e,t),D(s,t,null),r=!0},p(o,l){const i={};l&16384&&(i.$$scope={dirty:l,ctx:o}),s.$set(i)},i(o){r||(E(s.$$.fragment,o),r=!0)},o(o){I(s.$$.fragment,o),r=!1},d(o){o&&T(e),U(s)}}}function Ai(n){let e,t,s,r,o,l=n[1]&&Wn(n);return r=new Se({props:{variant:"secondary",size:"large",$$slots:{default:[$i]},$$scope:{ctx:n}}}),r.$on("click",n[7]),{c(){e=v("div"),t=v("div"),l&&l.c(),s=$(),z(r.$$.fragment),p(t,"class","button-container svelte-s4mf9a"),p(e,"class","action-section svelte-s4mf9a")},m(i,a){C(i,e,a),m(e,t),l&&l.m(t,null),m(t,s),D(r,t,null),o=!0},p(i,a){i[1]?l?(l.p(i,a),a&2&&E(l,1)):(l=Wn(i),l.c(),E(l,1),l.m(t,s)):l&&(G(),I(l,1,1,()=>{l=null}),H());const c={};a&16384&&(c.$$scope={dirty:a,ctx:i}),r.$set(c)},i(i){o||(E(l),E(r.$$.fragment,i),o=!0)},o(i){I(l),I(r.$$.fragment,i),o=!1},d(i){i&&T(e),l&&l.d(),U(r)}}}function Ii(n){let e,t;return{c(){e=v("span"),e.textContent="üîÑ",t=j(" Try Again"),p(e,"class","button-icon svelte-s4mf9a")},m(s,r){C(s,e,r),C(s,t,r)},p:L,d(s){s&&(T(e),T(t))}}}function Wn(n){let e,t;return e=new Se({props:{variant:"secondary",size:"large",$$slots:{default:[Oi]},$$scope:{ctx:n}}}),e.$on("click",n[6]),{c(){z(e.$$.fragment)},m(s,r){D(e,s,r),t=!0},p(s,r){const o={};r&16384&&(o.$$scope={dirty:r,ctx:s}),e.$set(o)},i(s){t||(E(e.$$.fragment,s),t=!0)},o(s){I(e.$$.fragment,s),t=!1},d(s){U(e,s)}}}function Oi(n){let e,t;return{c(){e=v("span"),e.textContent="üìÇ",t=j(" Open Folder"),p(e,"class","button-icon svelte-s4mf9a")},m(s,r){C(s,e,r),C(s,t,r)},p:L,d(s){s&&(T(e),T(t))}}}function $i(n){let e,t;return{c(){e=v("span"),e.textContent="üîÑ",t=j(" Convert More"),p(e,"class","button-icon svelte-s4mf9a")},m(s,r){C(s,e,r),C(s,t,r)},p:L,d(s){s&&(T(e),T(t))}}}function Ri(n){let e,t,s,r,o;const l=[Ti,Si],i=[];function a(c,u){return c[4]||c[3]||c[2]?0:1}return t=a(n),s=i[t]=l[t](n),{c(){e=v("div"),s.c(),p(e,"class","conversion-status svelte-s4mf9a")},m(c,u){C(c,e,u),i[t].m(e,null),o=!0},p(c,u){let f=t;t=a(c),t===f?i[t].p(c,u):(G(),I(i[f],1,1,()=>{i[f]=null}),H(),s=i[t],s?s.p(c,u):(s=i[t]=l[t](c),s.c()),E(s,1),s.m(e,null))},i(c){o||(E(s),c&&W(()=>{o&&(r||(r=oe(e,te,{},!0)),r.run(1))}),o=!0)},o(c){I(s),c&&(r||(r=oe(e,te,{},!1)),r.run(0)),o=!1},d(c){c&&T(e),i[t].d(),c&&r&&r.end()}}}function Fi(n){let e,t;return e=new xe({props:{$$slots:{default:[Ri]},$$scope:{ctx:n}}}),{c(){z(e.$$.fragment)},m(s,r){D(e,s,r),t=!0},p(s,[r]){const o={};r&16415&&(o.$$scope={dirty:r,ctx:s}),e.$set(o)},i(s){t||(E(e.$$.fragment,s),t=!0)},o(s){I(e.$$.fragment,s),t=!1},d(s){U(e,s)}}}function Li(n,e,t){let s,r,o,l,i,a;ae(n,Fe,b=>t(9,i=b)),ae(n,K,b=>t(10,a=b));const c=_e();function u(){ee.cancelConversion()}let f,d=!1,h=!1;function g(){i!=null&&i.outputPath&&lt.showInFolder(i.outputPath)}function _(){try{f&&f.resetState(),t(8,d=!1),h=!1,ee.resetStores(),c("convertMore")}catch(b){console.error("Error resetting state:",b),c("convertMore")}}function k(b){Le[b?"unshift":"push"](()=>{f=b,t(0,f)})}return n.$$.update=()=>{if(n.$$.dirty&1536){const b=a.status===P.STATUS.COMPLETED||a.completionTime!==null,w=i&&i.success,S=(i==null?void 0:i.outputPath)!=null;(b||w||S)&&(t(8,d=!0),h=!0)}n.$$.dirty&1280&&t(4,s=!d&&[P.STATUS.PREPARING,P.STATUS.CONVERTING,"selecting_output",P.STATUS.INITIALIZING,"initializing_workers",P.STATUS.CLEANING_UP,"finding_sitemap","parsing_sitemap","crawling_pages","processing_pages","generating_index"].includes(a.status)),n.$$.dirty&256&&t(3,r=d),n.$$.dirty&1024&&t(2,o=a.error!==null),n.$$.dirty&512&&t(1,l=i&&i.isNative&&i.outputPath)},[f,l,o,r,s,u,g,_,d,i,a,k]}class Is extends J{constructor(e){super(),Z(this,e,Li,Fi,X,{})}}function Pi(n){let e,t;return e=new Is({}),e.$on("startConversion",n[2]),e.$on("convertMore",n[3]),{c(){z(e.$$.fragment)},m(s,r){D(e,s,r),t=!0},p:L,i(s){t||(E(e.$$.fragment,s),t=!0)},o(s){I(e.$$.fragment,s),t=!1},d(s){U(e,s)}}}function Mi(n){let e,t;return e=new Is({}),e.$on("startConversion",n[2]),e.$on("convertMore",n[3]),{c(){z(e.$$.fragment)},m(s,r){D(e,s,r),t=!0},p:L,i(s){t||(E(e.$$.fragment,s),t=!0)},o(s){I(e.$$.fragment,s),t=!1},d(s){U(e,s)}}}function ji(n){let e,t,s;return t=new Ko({props:{showConversionButton:n[1].length>0,onStartConversion:n[2]}}),{c(){e=v("div"),z(t.$$.fragment),p(e,"class","main-content svelte-1alb7fk")},m(r,o){C(r,e,o),D(t,e,null),s=!0},p(r,o){const l={};o&2&&(l.showConversionButton=r[1].length>0),t.$set(l)},i(r){s||(E(t.$$.fragment,r),s=!0)},o(r){I(t.$$.fragment,r),s=!1},d(r){r&&T(e),U(t)}}}function Ni(n){let e,t;return e=new Sr({props:{messageType:me.WELCOME}}),e.$on("closed",n[4]),e.$on("continue",n[5]),{c(){z(e.$$.fragment)},m(s,r){D(e,s,r),t=!0},p:L,i(s){t||(E(e.$$.fragment,s),t=!0)},o(s){I(e.$$.fragment,s),t=!1},d(s){U(e,s)}}}function Di(n){let e,t,s,r,o;const l=[Ni,ji,Mi,Pi],i=[];function a(c,u){return c[0]==="welcome"?0:c[0]==="upload"?1:c[0]==="converting"?2:c[0]==="converted"?3:-1}return~(s=a(n))&&(r=i[s]=l[s](n)),{c(){e=v("div"),t=v("div"),r&&r.c(),p(t,"class","converter-app svelte-1alb7fk"),p(e,"class","app-container svelte-1alb7fk")},m(c,u){C(c,e,u),m(e,t),~s&&i[s].m(t,null),o=!0},p(c,[u]){let f=s;s=a(c),s===f?~s&&i[s].p(c,u):(r&&(G(),I(i[f],1,1,()=>{i[f]=null}),H()),~s?(r=i[s],r?r.p(c,u):(r=i[s]=l[s](c),r.c()),E(r,1),r.m(t,null)):r=null)},i(c){o||(E(r),o=!0)},o(c){I(r),o=!1},d(c){c&&T(e),~s&&i[s].d()}}}function rt(){window.scrollTo({top:0,behavior:"smooth"})}function Ui(n,e,t){let s,r,o,l;ae(n,Fe,g=>t(8,r=g)),ae(n,K,g=>t(9,o=g)),ae(n,ue,g=>t(1,l=g));let i="welcome",a=!1,c=!1;function u(){t(0,i="converting"),rt(),Fe.clearResult(),oi()}function f(){rt(),ue.clearFiles(),K.reset(),Fe.clearResult(),t(6,c=!1),t(0,i="upload")}function d(){t(0,i="upload")}function h(){t(0,i="upload")}return Ie(()=>{a=Ve.shouldShowWelcome(),a||t(0,i="upload")}),n.$$.update=()=>{n.$$.dirty&512&&t(7,s=o.type===P.TYPE.WEBSITE),n.$$.dirty&640&&(o.status===P.STATUS.COMPLETED||o.completionTime?(t(0,i="converted"),t(6,c=!0),rt()):s&&t(0,i="converting")),n.$$.dirty&320&&r&&r.success&&(c||(t(0,i="converted"),t(6,c=!0),rt()))},[i,l,u,f,d,h,c,s,r,o]}class zi extends J{constructor(e){super(),Z(this,e,Ui,Di,X,{})}}function Bi(n){let e,t,s;return t=new zi({}),{c(){e=v("div"),z(t.$$.fragment),p(e,"class","home-container svelte-1h1sj82")},m(r,o){C(r,e,o),D(t,e,null),s=!0},p:L,i(r){s||(E(t.$$.fragment,r),s=!0)},o(r){I(t.$$.fragment,r),s=!1},d(r){r&&T(e),U(t)}}}class Kn extends J{constructor(e){super(),Z(this,e,null,Bi,X,{})}}function Vi(n){let e;return{c(){e=v("div"),e.innerHTML='<section class="about-section svelte-1wmjact"><h1 class="svelte-1wmjact">About <span class="codex-md-brand">codex.md</span></h1> <p class="svelte-1wmjact"><span class="codex-md-brand">codex.md</span> is an elegant, cross-platform desktop application developed by Synaptic Labs, and designed to convert various file formats into pristine Markdown for seamless integration with applications .md first applications like Obsidian. Built with Electron and Svelte, <span class="codex-md-brand">codex.md</span> bridges the gap between different content formats and your knowledge base.</p> <h2 class="svelte-1wmjact">Key Features</h2> <ul class="svelte-1wmjact"><li class="svelte-1wmjact"><strong class="svelte-1wmjact">Multi-format Support</strong>: Convert documents (PDF, DOCX, PPTX), data files (CSV, XLSX), web content (URLs, parent pages), and multimedia (audio, video) to structured Markdown.</li> <li class="svelte-1wmjact"><strong class="svelte-1wmjact">Local Processing</strong>: Process most files locally without internet dependency, ensuring privacy and data security (Audio, Video and advanced PDFs require APIs).</li> <li class="svelte-1wmjact"><strong class="svelte-1wmjact">Intelligent Formatting</strong>: Preserve document structure, headings, tables, and formatting during conversion for high-fidelity output.</li> <li class="svelte-1wmjact"><strong class="svelte-1wmjact">Batch Processing</strong>: Convert multiple files at once with organized output files and proper metadata.</li> <li class="svelte-1wmjact"><strong class="svelte-1wmjact">AI Integration</strong>: Transcribe audio and video content, and use more advanced PDf processing using state-of-the-art AI technology (requires API key).</li></ul> <h2 class="svelte-1wmjact">Development</h2> <p class="svelte-1wmjact"><span class="codex-md-brand">codex.md</span> is an open-source project developed by Synaptic Labs, leveraging modern web technologies to create powerful desktop software. The application combines Electron for native desktop capabilities, Svelte for a responsive user interface, and Node.js for processing.</p> <h3 class="svelte-1wmjact">Contribution</h3> <p class="svelte-1wmjact">We welcome contributions from the community! Visit our <a href="https://github.com/SynapticLabs/codex-md" target="_blank" rel="noopener noreferrer" class="svelte-1wmjact">GitHub repository</a> to get involved, submit issues, or create pull requests.</p> <h3 class="svelte-1wmjact">License</h3> <p class="svelte-1wmjact"><span class="codex-md-brand">codex.md</span> is released under the MIT License, allowing for free use, modification, and distribution.</p></section> <hr class="divider svelte-1wmjact"/> <div class="synaptic-banner svelte-1wmjact"><img src="/static/synaptic-labs-logo.png" alt="Synaptic Labs Logo" class="svelte-1wmjact"/></div> <section class="about-section svelte-1wmjact"><h2 class="svelte-1wmjact">Our Mission</h2> <p class="mission-statement svelte-1wmjact">&quot;Powering equitable access to emerging technologies through education and integration&quot;</p> <h2 class="svelte-1wmjact">What We Do</h2> <p class="svelte-1wmjact">Synaptic Labs delivers specialized AI solutions and knowledge management tools to help organizations leverage emerging technologies:</p> <div class="bento-grid services-grid svelte-1wmjact"><a href="https://www.synapticlabs.ai/agents" class="bento-card ai-card svelte-1wmjact" target="_blank" rel="noopener noreferrer"><div class="card-emoji svelte-1wmjact">ü§ñ</div> <h3 class="svelte-1wmjact">AI Agents</h3> <p class="svelte-1wmjact">Custom AI agents and automation solutions</p></a> <a href="https://www.synapticlabs.ai/flows" class="bento-card flow-card svelte-1wmjact" target="_blank" rel="noopener noreferrer"><div class="card-emoji svelte-1wmjact">üîÑ</div> <h3 class="svelte-1wmjact">Flow Products</h3> <p class="svelte-1wmjact">Guided knowledge workflows</p></a> <a href="https://www.synapticlabs.ai/bootcamps" class="bento-card bootcamp-card svelte-1wmjact" target="_blank" rel="noopener noreferrer"><div class="card-emoji svelte-1wmjact">üéì</div> <h3 class="svelte-1wmjact">Bootcamps</h3> <p class="svelte-1wmjact">Level up your skills with expert training</p></a> <a href="https://blog.synapticlabs.ai" class="bento-card blog-card svelte-1wmjact" target="_blank" rel="noopener noreferrer"><div class="card-emoji svelte-1wmjact">üìñ</div> <h3 class="svelte-1wmjact">Blog</h3> <p class="svelte-1wmjact">Latest insights and knowledge management tips</p></a></div> <h2 class="svelte-1wmjact">Connect With Us</h2> <div class="bento-container svelte-1wmjact"><div class="contact-grid svelte-1wmjact"><a href="https://www.synapticlabs.ai/about" class="contact-card website svelte-1wmjact" target="_blank" rel="noopener noreferrer"><span class="contact-emoji svelte-1wmjact">üåê</span> <span class="contact-name svelte-1wmjact">About Us</span></a> <a href="https://www.synapticlabs.ai/contact-us" class="contact-card contact svelte-1wmjact" target="_blank" rel="noopener noreferrer"><span class="contact-emoji svelte-1wmjact">üìß</span> <span class="contact-name svelte-1wmjact">Contact Us</span></a></div> <div class="social-grid svelte-1wmjact"><a href="https://discord.gg/z5DgD5ZHNJ" class="social-card discord svelte-1wmjact" target="_blank" rel="noopener noreferrer"><span class="social-emoji svelte-1wmjact">üí¨</span> <span class="social-name svelte-1wmjact">Discord</span></a> <a href="https://www.linkedin.com/company/synaptic-labs/" class="social-card linkedin svelte-1wmjact" target="_blank" rel="noopener noreferrer"><span class="social-emoji svelte-1wmjact">üíº</span> <span class="social-name svelte-1wmjact">LinkedIn</span></a> <a href="https://www.youtube.com/@SynapticLabs" class="social-card youtube svelte-1wmjact" target="_blank" rel="noopener noreferrer"><span class="social-emoji svelte-1wmjact">üé•</span> <span class="social-name svelte-1wmjact">YouTube</span></a> <a href="https://www.instagram.com/synapticlabs" class="social-card instagram svelte-1wmjact" target="_blank" rel="noopener noreferrer"><span class="social-emoji svelte-1wmjact">üì∏</span> <span class="social-name svelte-1wmjact">Instagram</span></a></div></div></section> <div class="copyright svelte-1wmjact">¬© 2025 Synaptic Labs. All rights reserved.</div>',p(e,"class","about-container svelte-1wmjact")},m(t,s){C(t,e,s)},p:L,i:L,o:L,d(t){t&&T(e)}}}class qi extends J{constructor(e){super(),Z(this,e,null,Vi,X,{})}}function Wi(n){let e;return{c(){e=v("div"),e.innerHTML=`<h1 class="svelte-1cb24g8">Help &amp; Instructions</h1> <section class="help-section svelte-1cb24g8"><h2 class="svelte-1cb24g8">üéØ Purpose</h2> <p class="svelte-1cb24g8"><span class="codex-md-brand">codex.md</span> helps you convert your digital content into Markdown files optimized for
          <a href="https://obsidian.md/" target="_blank" rel="noopener noreferrer" class="svelte-1cb24g8">Obsidian</a>,
          a powerful personal knowledge management system.</p> <p class="svelte-1cb24g8">By converting your content into Markdown, you&#39;re:</p> <ul class="svelte-1cb24g8"><li class="svelte-1cb24g8">Creating a portable, future-proof knowledge base</li> <li class="svelte-1cb24g8">Making your information more searchable and interconnected</li> <li class="svelte-1cb24g8">Preparing your data for local AI tools and Large Language Models</li> <li class="svelte-1cb24g8">Building a personal knowledge graph that you fully control</li></ul></section> <section class="help-section svelte-1cb24g8"><h2 class="svelte-1cb24g8">üîç Different Ways to Convert</h2> <ul class="svelte-1cb24g8"><li class="svelte-1cb24g8"><strong class="svelte-1cb24g8">Single Web Page</strong> - Just paste any website URL (like &quot;<em class="svelte-1cb24g8">www.example.com/article</em>&quot;). 
            This will convert just that one page into a note.</li> <li class="svelte-1cb24g8"><strong class="svelte-1cb24g8">Parent URL</strong> - If you want to convert multiple linked pages, use a parent URL. 
            For example, if you put in &quot;<em class="svelte-1cb24g8">www.example.com/guide</em>&quot;, it will convert that page <strong class="svelte-1cb24g8">AND</strong> all the pages it links to.</li> <li class="svelte-1cb24g8"><strong class="svelte-1cb24g8">Files from Your Computer</strong> - Click the upload box or drag files into it. You can add:
            <ul class="sub-list svelte-1cb24g8"><li class="svelte-1cb24g8">Regular documents (like Word files or PDFs)</li> <li class="svelte-1cb24g8">Audio files (these need an API key)</li> <li class="svelte-1cb24g8">Video files (these need an API key)</li></ul></li></ul></section> <section class="help-section svelte-1cb24g8"><h2 class="svelte-1cb24g8">üîë About API Keys</h2> <ul class="svelte-1cb24g8"><li class="svelte-1cb24g8">You need API keys for specific conversion features:
            <ul class="sub-list svelte-1cb24g8"><li class="svelte-1cb24g8"><strong class="svelte-1cb24g8">OpenAI API key</strong> - Required for audio/video transcription</li> <li class="svelte-1cb24g8"><strong class="svelte-1cb24g8">Mistral API key</strong> - Required for advanced OCR processing of PDF files</li></ul></li> <li class="svelte-1cb24g8">Get your API keys from:
            <ul class="sub-list svelte-1cb24g8"><li class="svelte-1cb24g8"><a href="https://platform.openai.com/api-keys" target="_blank" rel="noopener noreferrer" class="svelte-1cb24g8">OpenAI&#39;s platform</a> - For audio/video transcription</li> <li class="svelte-1cb24g8"><a href="https://console.mistral.ai/" target="_blank" rel="noopener noreferrer" class="svelte-1cb24g8">Mistral&#39;s platform</a> - For OCR processing</li></ul></li> <li class="svelte-1cb24g8">You&#39;ll need to set up billing with these services, but usage is typically affordable</li> <li class="svelte-1cb24g8">Your API keys are stored securely on your device and persist between sessions</li> <li class="svelte-1cb24g8">Don&#39;t worry if you don&#39;t have these keys - you can still convert most documents without them!</li></ul></section> <section class="help-section svelte-1cb24g8"><h2 class="svelte-1cb24g8">üìù Steps to Convert</h2> <ol class="svelte-1cb24g8"><li class="svelte-1cb24g8">Add your content (either paste a URL or upload files)</li> <li class="svelte-1cb24g8">If you&#39;re converting audio/video, add your API key when prompted</li> <li class="svelte-1cb24g8">Click the &quot;<strong class="svelte-1cb24g8">Start Conversion</strong>&quot; button</li> <li class="svelte-1cb24g8">Wait for processing (this might take a minute)</li> <li class="svelte-1cb24g8">Download your converted notes in an organized .zip file</li></ol></section> <section class="help-section resources-section svelte-1cb24g8"><h2 class="svelte-1cb24g8">üìö Resources</h2> <p class="svelte-1cb24g8"><strong class="svelte-1cb24g8">New to <span class="codex-md-brand">codex.md</span>?</strong> Check out these resources:</p> <ul class="svelte-1cb24g8"><li class="svelte-1cb24g8"><a href="https://obsidian.md/" target="_blank" rel="noopener noreferrer" class="svelte-1cb24g8">Download Obsidian</a> - Free personal knowledge base</li> <li class="svelte-1cb24g8"><a href="https://www.youtube.com/watch?v=vdD2FB-bmiE&amp;list=PLa9S_7NRneu-XYTNzCA8T_B3B37ZVrgxx" target="_blank" rel="noopener noreferrer" class="svelte-1cb24g8">Build your second brain</a> - Video Tutorials</li> <li class="svelte-1cb24g8"><a href="https://discord.gg/z5DgD5ZHNJ" target="_blank" rel="noopener noreferrer" class="svelte-1cb24g8">Discord</a> - Community support</li> <li class="svelte-1cb24g8"><a href="https://www.synapticlabs.ai" target="_blank" rel="noopener noreferrer" class="svelte-1cb24g8">Synaptic Labs</a> - Work with Us</li></ul></section> <section class="help-section faq-section svelte-1cb24g8"><h2 class="svelte-1cb24g8">‚ùì Frequently Asked Questions</h2> <div class="faq-item svelte-1cb24g8"><h3 class="svelte-1cb24g8">What file types can I convert?</h3> <p class="svelte-1cb24g8"><span class="codex-md-brand">codex.md</span> supports a wide range of file types:</p> <ul class="svelte-1cb24g8"><li class="svelte-1cb24g8"><strong class="svelte-1cb24g8">Documents:</strong> PDF, DOCX, PPTX</li> <li class="svelte-1cb24g8"><strong class="svelte-1cb24g8">Data:</strong> CSV, XLSX</li> <li class="svelte-1cb24g8"><strong class="svelte-1cb24g8">Audio:</strong> MP3, WAV, M4A (requires API key)</li> <li class="svelte-1cb24g8"><strong class="svelte-1cb24g8">Video:</strong> MP4, WEBM, AVI (requires API key)</li> <li class="svelte-1cb24g8"><strong class="svelte-1cb24g8">Web:</strong> Any URL</li></ul></div> <div class="faq-item svelte-1cb24g8"><h3 class="svelte-1cb24g8">Is my data secure?</h3> <p class="svelte-1cb24g8">Yes! <span class="codex-md-brand">codex.md</span> processes your files locally on your device. Your files never leave your computer unless you&#39;re using the API key for audio/video transcription, in which case only those specific files are sent to OpenAI&#39;s servers.</p></div> <div class="faq-item svelte-1cb24g8"><h3 class="svelte-1cb24g8">What happens to my API keys?</h3> <p class="svelte-1cb24g8">Your API keys are stored securely on your device using machine-specific encryption. They persist between sessions so you don&#39;t need to re-enter them each time. Your keys are never sent to our servers and are only used for the specific services they&#39;re intended for (OpenAI for transcription, Mistral for OCR).</p></div> <div class="faq-item svelte-1cb24g8"><h3 class="svelte-1cb24g8">Can I use this offline?</h3> <p class="svelte-1cb24g8">Yes! The desktop version of <span class="codex-md-brand">codex.md</span> works offline for document conversions. Only audio/video transcription and web page conversion require an internet connection.</p></div></section>`,p(e,"class","help-content svelte-1cb24g8")},m(t,s){C(t,e,s)},p:L,d(t){t&&T(e)}}}function Ki(n){let e,t,s;return t=new xe({props:{$$slots:{default:[Wi]},$$scope:{ctx:n}}}),{c(){e=v("div"),z(t.$$.fragment),p(e,"class","help-page svelte-1cb24g8")},m(r,o){C(r,e,o),D(t,e,null),s=!0},p(r,[o]){const l={};o&1&&(l.$$scope={dirty:o,ctx:r}),t.$set(l)},i(r){s||(E(t.$$.fragment,r),s=!0)},o(r){I(t.$$.fragment,r),s=!1},d(r){r&&T(e),U(t)}}}class Gi extends J{constructor(e){super(),Z(this,e,null,Ki,X,{})}}const Tt={ocr:{enabled:!1}},Hi=()=>{const{subscribe:n,set:e,update:t}=we(Tt);return{subscribe:n,set:e,update:t,setOcrEnabled:s=>{t(r=>(r.ocr||(r.ocr={}),r.ocr.enabled=s,window.electron.setSetting("ocr.enabled",s).catch(o=>console.error("Error saving OCR setting:",o)),r))},reset:()=>{e(Tt),Object.entries(Tt).forEach(([s,r])=>{window.electron.setSetting(s,r).catch(o=>console.error(`Error resetting setting ${s}:`,o))})}}},et=Hi(),Gn=et.setOcrEnabled;et.reset;function Hn(n){let e,t;return{c(){e=v("span"),t=j(n[1]),p(e,"class","toggle-label svelte-1sg1vx")},m(s,r){C(s,e,r),m(e,t)},p(s,r){r&2&&Y(t,s[1])},d(s){s&&T(e)}}}function Yi(n){let e,t,s,r,o,l,i,a=n[1]&&Hn(n);return{c(){e=v("label"),t=v("input"),s=$(),r=v("span"),r.innerHTML='<span class="toggle-thumb svelte-1sg1vx"></span>',o=$(),a&&a.c(),p(t,"type","checkbox"),t.disabled=n[2],p(t,"class","svelte-1sg1vx"),p(r,"class","toggle-track svelte-1sg1vx"),p(e,"class","toggle-container svelte-1sg1vx"),B(e,"disabled",n[2])},m(c,u){C(c,e,u),m(e,t),t.checked=n[0],m(e,s),m(e,r),m(e,o),a&&a.m(e,null),l||(i=[q(t,"change",n[5]),q(t,"change",n[3]),q(t,"keydown",n[4])],l=!0)},p(c,[u]){u&4&&(t.disabled=c[2]),u&1&&(t.checked=c[0]),c[1]?a?a.p(c,u):(a=Hn(c),a.c(),a.m(e,null)):a&&(a.d(1),a=null),u&4&&B(e,"disabled",c[2])},i:L,o:L,d(c){c&&T(e),a&&a.d(),l=!1,ie(i)}}}function Xi(n,e,t){let{checked:s=!1}=e,{label:r=""}=e,{disabled:o=!1}=e;const l=_e();function i(){o||(t(0,s=!s),l("change",{checked:s}))}function a(u){!o&&(u.key==="Enter"||u.key===" ")&&(u.preventDefault(),i())}function c(){s=this.checked,t(0,s)}return n.$$set=u=>{"checked"in u&&t(0,s=u.checked),"label"in u&&t(1,r=u.label),"disabled"in u&&t(2,o=u.disabled)},[s,r,o,i,a,c]}class Dt extends J{constructor(e){super(),Z(this,e,Xi,Yi,X,{checked:0,label:1,disabled:2})}}function Yn(n){let e,t;return{c(){e=v("span"),t=j(n[2]),p(e,"class","icon svelte-5nwem8")},m(s,r){C(s,e,r),m(e,t)},p(s,r){r&4&&Y(t,s[2])},d(s){s&&T(e)}}}function Xn(n){let e,t,s;const r=n[6].default,o=mt(r,n,n[5],null);return{c(){e=v("div"),o&&o.c(),p(e,"class","accordion-content svelte-5nwem8"),p(e,"id","accordion-content")},m(l,i){C(l,e,i),o&&o.m(e,null),s=!0},p(l,i){o&&o.p&&(!s||i&32)&&vt(o,r,l,l[5],s?ht(r,l[5],i,null):bt(l[5]),null)},i(l){s||(E(o,l),l&&W(()=>{s&&(t||(t=oe(e,Me,{duration:200},!0)),t.run(1))}),s=!0)},o(l){I(o,l),l&&(t||(t=oe(e,Me,{duration:200},!1)),t.run(0)),s=!1},d(l){l&&T(e),o&&o.d(l),l&&t&&t.end()}}}function Qi(n){let e,t,s,r,o,l,i,a,c,u,f,d=n[2]&&Yn(n),h=n[0]&&Xn(n);return{c(){e=v("div"),t=v("button"),d&&d.c(),s=$(),r=v("span"),o=j(n[1]),l=$(),i=v("span"),i.textContent="‚ñº",a=$(),h&&h.c(),p(r,"class","title svelte-5nwem8"),p(i,"class","chevron svelte-5nwem8"),B(i,"open",n[0]),p(t,"class","accordion-header svelte-5nwem8"),p(t,"aria-expanded",n[0]),p(t,"aria-controls","accordion-content"),p(e,"class","accordion svelte-5nwem8")},m(g,_){C(g,e,_),m(e,t),d&&d.m(t,null),m(t,s),m(t,r),m(r,o),m(t,l),m(t,i),m(e,a),h&&h.m(e,null),c=!0,u||(f=[q(t,"click",n[3]),q(t,"keydown",n[4])],u=!0)},p(g,[_]){g[2]?d?d.p(g,_):(d=Yn(g),d.c(),d.m(t,s)):d&&(d.d(1),d=null),(!c||_&2)&&Y(o,g[1]),(!c||_&1)&&B(i,"open",g[0]),(!c||_&1)&&p(t,"aria-expanded",g[0]),g[0]?h?(h.p(g,_),_&1&&E(h,1)):(h=Xn(g),h.c(),E(h,1),h.m(e,null)):h&&(G(),I(h,1,1,()=>{h=null}),H())},i(g){c||(E(h),c=!0)},o(g){I(h),c=!1},d(g){g&&T(e),d&&d.d(),h&&h.d(),u=!1,ie(f)}}}function Zi(n,e,t){let{$$slots:s={},$$scope:r}=e,{title:o=""}=e,{icon:l=""}=e,{open:i=!1}=e;const a=_e();function c(){t(0,i=!i),a("toggle",{open:i})}function u(f){(f.key==="Enter"||f.key===" ")&&(f.preventDefault(),c())}return n.$$set=f=>{"title"in f&&t(1,o=f.title),"icon"in f&&t(2,l=f.icon),"open"in f&&t(0,i=f.open),"$$scope"in f&&t(5,r=f.$$scope)},[i,o,l,c,u,r,s]}class Os extends J{constructor(e){super(),Z(this,e,Zi,Qi,X,{title:1,icon:2,open:0})}}function Qn(n){let e,t,s,r,o,l,i,a,c,u,f,d,h,g,_;return{c(){e=v("select"),t=v("option"),t.textContent="English",s=v("option"),s.textContent="Spanish",r=v("option"),r.textContent="French",o=v("option"),o.textContent="German",l=v("option"),l.textContent="Italian",i=v("option"),i.textContent="Portuguese",a=v("option"),a.textContent="Dutch",c=v("option"),c.textContent="Polish",u=v("option"),u.textContent="Russian",f=v("option"),f.textContent="Japanese",d=v("option"),d.textContent="Korean",h=v("option"),h.textContent="Chinese",t.__value="en",le(t,t.__value),s.__value="es",le(s,s.__value),r.__value="fr",le(r,r.__value),o.__value="de",le(o,o.__value),l.__value="it",le(l,l.__value),i.__value="pt",le(i,i.__value),a.__value="nl",le(a,a.__value),c.__value="pl",le(c,c.__value),u.__value="ru",le(u,u.__value),f.__value="ja",le(f,f.__value),d.__value="ko",le(d,d.__value),h.__value="zh",le(h,h.__value),p(e,"class","language-select svelte-cf9c32"),n[1]===void 0&&W(()=>n[5].call(e))},m(k,b){C(k,e,b),m(e,t),m(e,s),m(e,r),m(e,o),m(e,l),m(e,i),m(e,a),m(e,c),m(e,u),m(e,f),m(e,d),m(e,h),ln(e,n[1],!0),g||(_=[q(e,"change",n[5]),q(e,"change",n[3])],g=!0)},p(k,b){b&2&&ln(e,k[1])},d(k){k&&T(e),g=!1,ie(_)}}}function Ji(n){let e;return{c(){e=v("div"),e.innerHTML=`<p class="svelte-cf9c32">Auto-detect language uses AI to identify the spoken language in your audio/video.
        For best results with a known language, disable auto-detect and select the specific language.</p> <h4 class="svelte-cf9c32">Processing Times:</h4> <ul class="svelte-cf9c32"><li class="svelte-cf9c32">Standard Quality: ~1x content duration</li> <li class="svelte-cf9c32">High Quality: ~2-3x content duration</li></ul>`,p(e,"class","info-content svelte-cf9c32")},m(t,s){C(t,e,s)},p:L,d(t){t&&T(e)}}}function xi(n){let e,t,s,r,o,l,i,a,c,u,f,d,h,g;function _(y){n[4](y)}let k={label:"Auto-detect language"};n[0]!==void 0&&(k.checked=n[0]),s=new Dt({props:k}),Le.push(()=>Rt(s,"checked",_)),s.$on("change",n[3]);let b=!n[0]&&Qn(n);function w(y){n[6](y)}let S={label:"High-quality transcription"};return n[2]!==void 0&&(S.checked=n[2]),a=new Dt({props:S}),Le.push(()=>Rt(a,"checked",w)),a.$on("change",n[3]),h=new Os({props:{title:"About Language Settings",icon:"‚ÑπÔ∏è",$$slots:{default:[Ji]},$$scope:{ctx:n}}}),{c(){e=v("div"),t=v("div"),z(s.$$.fragment),o=$(),b&&b.c(),l=$(),i=v("div"),z(a.$$.fragment),u=$(),f=v("p"),f.textContent="Uses Whisper's large model for better accuracy but takes longer to process.",d=$(),z(h.$$.fragment),p(t,"class","setting-group svelte-cf9c32"),p(f,"class","description svelte-cf9c32"),p(i,"class","setting-group svelte-cf9c32"),p(e,"class","transcription-settings svelte-cf9c32")},m(y,A){C(y,e,A),m(e,t),D(s,t,null),m(t,o),b&&b.m(t,null),m(e,l),m(e,i),D(a,i,null),m(i,u),m(i,f),m(e,d),D(h,e,null),g=!0},p(y,[A]){const R={};!r&&A&1&&(r=!0,R.checked=y[0],$t(()=>r=!1)),s.$set(R),y[0]?b&&(b.d(1),b=null):b?b.p(y,A):(b=Qn(y),b.c(),b.m(t,null));const O={};!c&&A&4&&(c=!0,O.checked=y[2],$t(()=>c=!1)),a.$set(O);const F={};A&256&&(F.$$scope={dirty:A,ctx:y}),h.$set(F)},i(y){g||(E(s.$$.fragment,y),E(a.$$.fragment,y),E(h.$$.fragment,y),g=!0)},o(y){I(s.$$.fragment,y),I(a.$$.fragment,y),I(h.$$.fragment,y),g=!1},d(y){y&&T(e),U(s),b&&b.d(),U(a),U(h)}}}function el(n,e,t){let s=!0,r="en",o=!1;const l=et.subscribe(f=>{var d,h,g;t(0,s=((d=f.transcription)==null?void 0:d.autoDetectLanguage)??!0),t(1,r=((h=f.transcription)==null?void 0:h.language)??"en"),t(2,o=((g=f.transcription)==null?void 0:g.highQuality)??!1)});function i(){et.update(f=>({...f,transcription:{...f.transcription,autoDetectLanguage:s,language:r,highQuality:o}}))}Ie(()=>{var f;return(f=window==null?void 0:window.electron)!=null&&f.getSettings&&window.electron.getSettings("transcription").then(d=>{d&&(t(0,s=d.autoDetectLanguage??!0),t(1,r=d.language??"en"),t(2,o=d.highQuality??!1),i())}).catch(d=>console.error("Error loading transcription settings:",d)),()=>{l()}});function a(f){s=f,t(0,s)}function c(){r=Us(this),t(1,r)}function u(f){o=f,t(2,o)}return[s,r,o,i,a,c,u]}class tl extends J{constructor(e){super(),Z(this,e,el,xi,X,{})}}function nl(n){let e,t,s,r,o,l,i,a,c,u,f;return l=new jt({props:{provider:"openai"}}),u=new jt({props:{provider:"mistral"}}),{c(){e=v("div"),e.innerHTML='<h2 class="svelte-1jcchj8">API Keys</h2> <p class="subtitle svelte-1jcchj8">Configure API keys for external services used by codex.md.</p>',t=$(),s=v("div"),r=v("h3"),r.textContent="OpenAI API Key",o=$(),z(l.$$.fragment),i=$(),a=v("h3"),a.textContent="Mistral API Key",c=$(),z(u.$$.fragment),p(e,"class","container-header svelte-1jcchj8"),p(r,"class","svelte-1jcchj8"),p(a,"class","svelte-1jcchj8"),p(s,"class","api-keys-section svelte-1jcchj8")},m(d,h){C(d,e,h),C(d,t,h),C(d,s,h),m(s,r),m(s,o),D(l,s,null),m(s,i),m(s,a),m(s,c),D(u,s,null),f=!0},p:L,i(d){f||(E(l.$$.fragment,d),E(u.$$.fragment,d),f=!0)},o(d){I(l.$$.fragment,d),I(u.$$.fragment,d),f=!1},d(d){d&&(T(e),T(t),T(s)),U(l),U(u)}}}function sl(n){let e;return{c(){e=v("div"),e.innerHTML='<p class="svelte-1jcchj8">Mistral&#39;s OCR (Optical Character Recognition) technology provides enhanced PDF processing with:</p> <ul class="svelte-1jcchj8"><li class="svelte-1jcchj8">Better text extraction from complex layouts</li> <li class="svelte-1jcchj8">Preservation of document structure and formatting</li> <li class="svelte-1jcchj8">Support for tables, lists, and other complex elements</li> <li class="svelte-1jcchj8">Higher accuracy for difficult-to-read documents</li></ul>',p(e,"class","info-content svelte-1jcchj8")},m(t,s){C(t,e,s)},p:L,d(t){t&&T(e)}}}function rl(n){let e,t,s,r,o,l,i,a,c,u,f,d,h,g,_,k,b;l=new tl({});function w(y){n[2](y)}let S={label:"Enable advanced OCR for PDF documents"};return n[0]!==void 0&&(S.checked=n[0]),f=new Dt({props:S}),Le.push(()=>Rt(f,"checked",w)),f.$on("change",n[1]),k=new Os({props:{title:"About Mistral OCR",icon:"‚ÑπÔ∏è",$$slots:{default:[sl]},$$scope:{ctx:n}}}),{c(){e=v("div"),e.innerHTML='<h2 class="svelte-1jcchj8">Document Processing</h2> <p class="subtitle svelte-1jcchj8">Configure transcription and OCR settings for document conversions.</p>',t=$(),s=v("div"),r=v("h3"),r.textContent="Transcription",o=$(),z(l.$$.fragment),i=$(),a=v("h3"),a.textContent="Advanced PDF Processing",c=$(),u=v("div"),z(f.$$.fragment),h=$(),g=v("p"),g.textContent=`When enabled, Mistral's advanced OCR will be used to process PDF documents,\r
            providing better text extraction and document understanding capabilities.`,_=$(),z(k.$$.fragment),p(e,"class","container-header svelte-1jcchj8"),p(r,"class","svelte-1jcchj8"),p(a,"class","svelte-1jcchj8"),p(g,"class","description svelte-1jcchj8"),p(u,"class","ocr-toggle-section svelte-1jcchj8"),p(s,"class","processing-settings svelte-1jcchj8")},m(y,A){C(y,e,A),C(y,t,A),C(y,s,A),m(s,r),m(s,o),D(l,s,null),m(s,i),m(s,a),m(s,c),m(s,u),D(f,u,null),m(u,h),m(u,g),m(u,_),D(k,u,null),b=!0},p(y,A){const R={};!d&&A&1&&(d=!0,R.checked=y[0],$t(()=>d=!1)),f.$set(R);const O={};A&16&&(O.$$scope={dirty:A,ctx:y}),k.$set(O)},i(y){b||(E(l.$$.fragment,y),E(f.$$.fragment,y),E(k.$$.fragment,y),b=!0)},o(y){I(l.$$.fragment,y),I(f.$$.fragment,y),I(k.$$.fragment,y),b=!1},d(y){y&&(T(e),T(t),T(s)),U(l),U(f),U(k)}}}function ol(n){let e,t,s,r,o,l,i,a;return o=new xe({props:{$$slots:{default:[nl]},$$scope:{ctx:n}}}),i=new xe({props:{$$slots:{default:[rl]},$$scope:{ctx:n}}}),{c(){e=v("div"),t=v("h1"),t.textContent="Settings",s=$(),r=v("div"),z(o.$$.fragment),l=$(),z(i.$$.fragment),p(t,"class","svelte-1jcchj8"),p(r,"class","settings-grid svelte-1jcchj8"),p(e,"class","settings-container svelte-1jcchj8")},m(c,u){C(c,e,u),m(e,t),m(e,s),m(e,r),D(o,r,null),m(r,l),D(i,r,null),a=!0},p(c,[u]){const f={};u&16&&(f.$$scope={dirty:u,ctx:c}),o.$set(f);const d={};u&17&&(d.$$scope={dirty:u,ctx:c}),i.$set(d)},i(c){a||(E(o.$$.fragment,c),E(i.$$.fragment,c),a=!0)},o(c){I(o.$$.fragment,c),I(i.$$.fragment,c),a=!1},d(c){c&&T(e),U(o),U(i)}}}function il(n,e,t){let s=!1;const r=et.subscribe(i=>{var a;t(0,s=((a=i.ocr)==null?void 0:a.enabled)||!1)});function o(i){Gn(s)}Ie(()=>{var i;return(i=window==null?void 0:window.electron)!=null&&i.getSetting&&window.electron.getSetting("ocr.enabled").then(a=>{a!==void 0&&(t(0,s=a),Gn(a))}).catch(a=>console.error("Error loading OCR settings:",a)),()=>{r()}});function l(i){s=i,t(0,s)}return[s,o,l]}class ll extends J{constructor(e){super(),Z(this,e,il,ol,X,{})}}const al={"/":Kn,"/about":qi,"/help":Gi,"/settings":ll,"*":Kn},Ct=typeof window<"u";function cl(){const n={online:!0,apiStatus:{},lastSync:null,pendingOperations:[],isInitialized:!1,error:null},{subscribe:e,set:t,update:s}=we(n);let r;async function o(){if(!(!Ct||!(window!=null&&window.electron)))try{const i=await window.electron.getOfflineStatus();s(a=>({...a,online:i.online,apiStatus:i.apiStatus,error:null}))}catch(i){console.error("Failed to get offline status:",i),s(a=>({...a,error:i.message}))}}async function l(){if(Ct)try{if(!(window!=null&&window.electron)){s(i=>({...i,isInitialized:!0,error:"Electron API not available"}));return}window.electron.onReady(async()=>{try{await o(),r=setInterval(o,3e4),s(i=>({...i,isInitialized:!0,error:null}))}catch(i){console.error("Failed to initialize offline store:",i),s(a=>({...a,isInitialized:!0,error:i.message}))}})}catch(i){console.error("Failed to initialize offline store:",i),s(a=>({...a,isInitialized:!0,error:i.message}))}}return Ct&&(window.addEventListener("beforeunload",()=>{r&&clearInterval(r)}),l()),{subscribe:e,setOnlineStatus:i=>s(a=>({...a,online:i,error:null})),setApiStatus:i=>s(a=>({...a,apiStatus:i,error:null})),updateLastSync:()=>s(i=>({...i,lastSync:new Date,error:null})),addPendingOperation:i=>s(a=>({...a,pendingOperations:[...a.pendingOperations,{...i,timestamp:Date.now()}],error:null})),removePendingOperation:i=>s(a=>({...a,pendingOperations:a.pendingOperations.filter(c=>c.id!==i)})),setPendingOperations:i=>s(a=>({...a,pendingOperations:i})),reset:()=>{r&&clearInterval(r),t({...n,isInitialized:!1,error:null}),l()}}}const Qe=cl();ge(Qe,n=>Object.values(n.apiStatus).some(e=>e===!0));ge(Qe,n=>n.pendingOperations.length);function Zn(n,e,t){const s=n.slice();return s[11]=e[t],s}function Jn(n,e,t){const s=n.slice();return s[14]=e[t][0],s[15]=e[t][1],s}function xn(n){let e,t,s;const r=[fl,ul],o=[];function l(i,a){return i[4].isInitialized?0:1}return e=l(n),t=o[e]=r[e](n),{c(){t.c(),s=pe()},m(i,a){o[e].m(i,a),C(i,s,a)},p(i,a){let c=e;e=l(i),e===c?o[e].p(i,a):(G(),I(o[c],1,1,()=>{o[c]=null}),H(),t=o[e],t?t.p(i,a):(t=o[e]=r[e](i),t.c()),E(t,1),t.m(s.parentNode,s))},d(i){i&&T(s),o[e].d(i)}}}function ul(n){let e,t,s;return{c(){e=v("div"),e.innerHTML='<div class="status-text svelte-1qfexkv">Checking connection status...</div>',p(e,"class","offline-status-bar loading svelte-1qfexkv")},m(r,o){C(r,e,o),s=!0},p:L,i(r){s||(r&&W(()=>{s&&(t||(t=oe(e,te,{},!0)),t.run(1))}),s=!0)},o(r){r&&(t||(t=oe(e,te,{},!1)),t.run(0)),s=!1},d(r){r&&T(e),r&&t&&t.end()}}}function fl(n){let e,t,s;const r=[pl,dl],o=[];function l(i,a){return i[4].error?0:1}return e=l(n),t=o[e]=r[e](n),{c(){t.c(),s=pe()},m(i,a){o[e].m(i,a),C(i,s,a)},p(i,a){let c=e;e=l(i),e===c?o[e].p(i,a):(G(),I(o[c],1,1,()=>{o[c]=null}),H(),t=o[e],t?t.p(i,a):(t=o[e]=r[e](i),t.c()),E(t,1),t.m(s.parentNode,s))},i(i){E(t)},o(i){I(t)},d(i){i&&T(s),o[e].d(i)}}}function dl(n){let e,t,s,r,o,l=n[4].online?"Online":"Offline",i,a,c,u=n[0]?"‚ñ≤":"‚ñº",f,d,h,g;function _(S,y){return S[4].online?ml:gl}let k=_(n),b=k(n),w=n[0]&&es(n);return{c(){e=v("div"),t=v("button"),s=v("div"),b.c(),r=$(),o=v("div"),i=j(l),a=$(),c=v("div"),f=j(u),d=$(),w&&w.c(),p(s,"class","status-icon svelte-1qfexkv"),B(s,"online",n[4].online),p(o,"class","status-text svelte-1qfexkv"),p(c,"class","expand-icon svelte-1qfexkv"),p(t,"class","status-indicator svelte-1qfexkv"),p(t,"aria-expanded",n[0]),p(t,"aria-controls","offline-expanded-content"),p(t,"role","button"),p(t,"tabindex","0"),p(e,"class","offline-status-bar svelte-1qfexkv"),B(e,"expanded",n[0])},m(S,y){C(S,e,y),m(e,t),m(t,s),b.m(s,null),m(t,r),m(t,o),m(o,i),m(t,a),m(t,c),m(c,f),m(e,d),w&&w.m(e,null),h||(g=[q(t,"click",n[6]),q(t,"keydown",n[8])],h=!0)},p(S,y){k!==(k=_(S))&&(b.d(1),b=k(S),b&&(b.c(),b.m(s,null))),y&16&&B(s,"online",S[4].online),y&16&&l!==(l=S[4].online?"Online":"Offline")&&Y(i,l),y&1&&u!==(u=S[0]?"‚ñ≤":"‚ñº")&&Y(f,u),y&1&&p(t,"aria-expanded",S[0]),S[0]?w?(w.p(S,y),y&1&&E(w,1)):(w=es(S),w.c(),E(w,1),w.m(e,null)):w&&(G(),I(w,1,1,()=>{w=null}),H()),y&1&&B(e,"expanded",S[0])},i(S){E(w)},o(S){I(w)},d(S){S&&T(e),b.d(),w&&w.d(),h=!1,ie(g)}}}function pl(n){let e,t,s,r=n[4].error+"",o,l,i;return{c(){e=v("div"),t=v("div"),s=j("Error: "),o=j(r),p(t,"class","status-text svelte-1qfexkv"),p(e,"class","offline-status-bar error svelte-1qfexkv")},m(a,c){C(a,e,c),m(e,t),m(t,s),m(t,o),i=!0},p(a,c){(!i||c&16)&&r!==(r=a[4].error+"")&&Y(o,r)},i(a){i||(a&&W(()=>{i&&(l||(l=oe(e,te,{},!0)),l.run(1))}),i=!0)},o(a){a&&(l||(l=oe(e,te,{},!1)),l.run(0)),i=!1},d(a){a&&T(e),a&&l&&l.end()}}}function gl(n){let e;return{c(){e=v("span"),e.textContent="üî¥",p(e,"class","icon svelte-1qfexkv")},m(t,s){C(t,e,s)},d(t){t&&T(e)}}}function ml(n){let e;return{c(){e=v("span"),e.textContent="üü¢",p(e,"class","icon svelte-1qfexkv")},m(t,s){C(t,e,s)},d(t){t&&T(e)}}}function es(n){let e,t,s,r,o,l,i,a,c=n[2]?"Hide":"Show",u,f,d=n[1].length+"",h,g,_,k,b,w,S,y,A,R=ke(Object.entries(n[4].apiStatus)),O=[];for(let M=0;M<R.length;M+=1)O[M]=ts(Jn(n,R,M));let F=n[2]&&ns(n);return{c(){e=v("div"),t=v("div"),s=v("h4"),s.textContent="API Status",r=$(),o=v("ul");for(let M=0;M<O.length;M+=1)O[M].c();l=$(),i=v("div"),a=v("button"),u=j(c),f=j(" Queued Operations ("),h=j(d),g=j(")"),_=$(),k=v("button"),k.textContent="Clear Cache",b=$(),F&&F.c(),p(s,"class","svelte-1qfexkv"),p(o,"class","svelte-1qfexkv"),p(t,"class","api-status svelte-1qfexkv"),p(a,"class","control-button svelte-1qfexkv"),p(k,"class","control-button svelte-1qfexkv"),p(i,"class","offline-controls svelte-1qfexkv"),p(e,"id","offline-expanded-content"),p(e,"class","expanded-content svelte-1qfexkv")},m(M,re){C(M,e,re),m(e,t),m(t,s),m(t,r),m(t,o);for(let N=0;N<O.length;N+=1)O[N]&&O[N].m(o,null);m(e,l),m(e,i),m(i,a),m(a,u),m(a,f),m(a,h),m(a,g),m(i,_),m(i,k),m(e,b),F&&F.m(e,null),S=!0,y||(A=[q(a,"click",n[7]),q(k,"click",n[5])],y=!0)},p(M,re){if(re&16){R=ke(Object.entries(M[4].apiStatus));let N;for(N=0;N<R.length;N+=1){const V=Jn(M,R,N);O[N]?O[N].p(V,re):(O[N]=ts(V),O[N].c(),O[N].m(o,null))}for(;N<O.length;N+=1)O[N].d(1);O.length=R.length}(!S||re&4)&&c!==(c=M[2]?"Hide":"Show")&&Y(u,c),(!S||re&2)&&d!==(d=M[1].length+"")&&Y(h,d),M[2]?F?(F.p(M,re),re&4&&E(F,1)):(F=ns(M),F.c(),E(F,1),F.m(e,null)):F&&(G(),I(F,1,1,()=>{F=null}),H())},i(M){S||(E(F),M&&W(()=>{S&&(w||(w=oe(e,Me,{duration:300},!0)),w.run(1))}),S=!0)},o(M){I(F),M&&(w||(w=oe(e,Me,{duration:300},!1)),w.run(0)),S=!1},d(M){M&&T(e),qt(O,M),F&&F.d(),M&&w&&w.end(),y=!1,ie(A)}}}function ts(n){let e,t,s=n[14]+"",r,o,l,i,a=n[15]?"üü¢ Connected":"üî¥ Disconnected",c,u;return{c(){e=v("li"),t=v("span"),r=j(s),o=j(":"),l=$(),i=v("span"),c=j(a),u=$(),p(t,"class","api-name svelte-1qfexkv"),p(i,"class","api-status-indicator svelte-1qfexkv"),B(i,"online",n[15]),p(e,"class","svelte-1qfexkv")},m(f,d){C(f,e,d),m(e,t),m(t,r),m(t,o),m(e,l),m(e,i),m(i,c),m(e,u)},p(f,d){d&16&&s!==(s=f[14]+"")&&Y(r,s),d&16&&a!==(a=f[15]?"üü¢ Connected":"üî¥ Disconnected")&&Y(c,a),d&16&&B(i,"online",f[15])},d(f){f&&T(e)}}}function ns(n){let e,t,s,r,o;function l(c,u){return c[1].length===0?vl:hl}let i=l(n),a=i(n);return{c(){e=v("div"),t=v("h4"),t.textContent="Queued Operations",s=$(),a.c(),p(t,"class","svelte-1qfexkv"),p(e,"class","queued-operations svelte-1qfexkv")},m(c,u){C(c,e,u),m(e,t),m(e,s),a.m(e,null),o=!0},p(c,u){i===(i=l(c))&&a?a.p(c,u):(a.d(1),a=i(c),a&&(a.c(),a.m(e,null)))},i(c){o||(c&&W(()=>{o&&(r||(r=oe(e,te,{duration:200},!0)),r.run(1))}),o=!0)},o(c){c&&(r||(r=oe(e,te,{duration:200},!1)),r.run(0)),o=!1},d(c){c&&T(e),a.d(),c&&r&&r.end()}}}function hl(n){let e,t=ke(n[1]),s=[];for(let r=0;r<t.length;r+=1)s[r]=ss(Zn(n,t,r));return{c(){e=v("ul");for(let r=0;r<s.length;r+=1)s[r].c();p(e,"class","svelte-1qfexkv")},m(r,o){C(r,e,o);for(let l=0;l<s.length;l+=1)s[l]&&s[l].m(e,null)},p(r,o){if(o&2){t=ke(r[1]);let l;for(l=0;l<t.length;l+=1){const i=Zn(r,t,l);s[l]?s[l].p(i,o):(s[l]=ss(i),s[l].c(),s[l].m(e,null))}for(;l<s.length;l+=1)s[l].d(1);s.length=t.length}},d(r){r&&T(e),qt(s,r)}}}function vl(n){let e;return{c(){e=v("p"),e.textContent="No operations in queue",p(e,"class","empty-message svelte-1qfexkv")},m(t,s){C(t,e,s)},p:L,d(t){t&&T(e)}}}function ss(n){let e,t,s=n[11].type+"",r,o,l,i=rs(n[11].timestamp)+"",a,c;return{c(){e=v("li"),t=v("div"),r=j(s),o=$(),l=v("div"),a=j(i),c=$(),p(t,"class","operation-type svelte-1qfexkv"),p(l,"class","operation-time svelte-1qfexkv"),p(e,"class","svelte-1qfexkv")},m(u,f){C(u,e,f),m(e,t),m(t,r),m(e,o),m(e,l),m(l,a),m(e,c)},p(u,f){f&2&&s!==(s=u[11].type+"")&&Y(r,s),f&2&&i!==(i=rs(u[11].timestamp)+"")&&Y(a,i)},d(u){u&&T(e)}}}function bl(n){let e,t=n[3]&&xn(n);return{c(){t&&t.c(),e=pe()},m(s,r){t&&t.m(s,r),C(s,e,r)},p(s,[r]){s[3]?t?t.p(s,r):(t=xn(s),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:L,o:L,d(s){s&&T(e),t&&t.d(s)}}}function rs(n){return new Date(n).toLocaleTimeString()}function _l(n,e,t){let s;ae(n,Qe,g=>t(4,s=g));let r=!1,o=[],l=!1,i=!1;function a(g){console.log("[OfflineStatusBar] Received offline event:",g);try{if(!g||typeof g!="object"){console.error("[OfflineStatusBar] Invalid event received");return}switch(g.type){case"status-change":typeof g.online=="boolean"&&Qe.setOnlineStatus(g.online);break;case"api-status":g.status&&Qe.setApiStatus(g.status);break;case"operation-complete":case"operation-failed":c(),g.operation&&console.log(`[OfflineStatusBar] Operation ${g.type}:`,g.operation);break;default:console.warn("[OfflineStatusBar] Unknown offline event type:",g.type)}}catch(_){console.error("[OfflineStatusBar] Error handling offline event:",_)}}async function c(){try{const g=await Ce.getQueuedOperations();t(1,o=g)}catch(g){console.error("Failed to load queued operations:",g)}}async function u(){try{await Ce.clearCache(),alert("Cache cleared successfully")}catch(g){console.error("Failed to clear cache:",g),alert(`Failed to clear cache: ${g.message}`)}}function f(){t(0,r=!r),r&&c()}function d(){t(2,l=!l),l&&c()}return Ie(async()=>{t(3,i=!0);try{if(!s.isInitialized)return;const g=Ce.onOfflineEvent(_=>a(_));return()=>{t(3,i=!1),typeof g=="function"&&g()}}catch(g){console.error("Failed to setup offline status bar:",g)}}),[r,o,l,i,s,u,f,d,g=>g.key==="Enter"&&f()]}class wl extends J{constructor(e){super(),Z(this,e,_l,bl,X,{})}}function os(n){let e;return{c(){e=v("div"),e.innerHTML='<span class="codex-md-brand">codex.md</span>',p(e,"class","logo-text svelte-1plt8bc")},m(t,s){C(t,e,s)},d(t){t&&T(e)}}}function yl(n){let e,t,s,r,o=n[1]&&os();return{c(){e=v("div"),t=v("div"),t.innerHTML='<img src="./logo.png" alt="codex.md Logo" class="svelte-1plt8bc"/>',s=$(),o&&o.c(),p(t,"class","logo-icon svelte-1plt8bc"),p(e,"class",r="logo "+n[0]+" "+n[2]+" svelte-1plt8bc")},m(l,i){C(l,e,i),m(e,t),m(e,s),o&&o.m(e,null)},p(l,[i]){l[1]?o||(o=os(),o.c(),o.m(e,null)):o&&(o.d(1),o=null),i&5&&r!==(r="logo "+l[0]+" "+l[2]+" svelte-1plt8bc")&&p(e,"class",r)},i:L,o:L,d(l){l&&T(e),o&&o.d()}}}function kl(n,e,t){let{size:s="medium"}=e,{showText:r=!0}=e,{className:o=""}=e;return n.$$set=l=>{"size"in l&&t(0,s=l.size),"showText"in l&&t(1,r=l.showText),"className"in l&&t(2,o=l.className)},[s,r,o]}class El extends J{constructor(e){super(),Z(this,e,kl,yl,X,{size:0,showText:1,className:2})}}function Sl(n){let e,t,s,r,o,l,i,a,c,u,f,d,h,g,_,k;return r=new El({props:{size:"medium"}}),{c(){e=v("nav"),t=v("div"),s=v("a"),z(r.$$.fragment),o=$(),l=v("div"),i=v("a"),i.textContent="Convert",a=$(),c=v("a"),c.textContent="Help",u=$(),f=v("a"),f.textContent="About",d=$(),h=v("a"),h.textContent="Settings",p(s,"href","/"),p(s,"class","brand-link svelte-bpr83i"),p(t,"class","nav-brand svelte-bpr83i"),p(i,"href","/"),p(i,"class","nav-link svelte-bpr83i"),B(i,"active",n[0]==="/"),p(c,"href","/help"),p(c,"class","nav-link svelte-bpr83i"),B(c,"active",n[0]==="/help"),p(f,"href","/about"),p(f,"class","nav-link svelte-bpr83i"),B(f,"active",n[0]==="/about"),p(h,"href","/settings"),p(h,"class","nav-link svelte-bpr83i"),B(h,"active",n[0]==="/settings"),p(l,"class","nav-links svelte-bpr83i"),p(e,"class","navigation svelte-bpr83i")},m(b,w){C(b,e,w),m(e,t),m(t,s),D(r,s,null),m(e,o),m(e,l),m(l,i),m(l,a),m(l,c),m(l,u),m(l,f),m(l,d),m(l,h),g=!0,_||(k=[q(s,"click",n[2]),q(i,"click",n[3]),q(c,"click",n[4]),q(f,"click",n[5]),q(h,"click",n[6])],_=!0)},p(b,[w]){(!g||w&1)&&B(i,"active",b[0]==="/"),(!g||w&1)&&B(c,"active",b[0]==="/help"),(!g||w&1)&&B(f,"active",b[0]==="/about"),(!g||w&1)&&B(h,"active",b[0]==="/settings")},i(b){g||(E(r.$$.fragment,b),g=!0)},o(b){I(r.$$.fragment,b),g=!1},d(b){b&&T(e),U(r),_=!1,ie(k)}}}function Tl(n,e,t){let s;ae(n,xs,u=>t(0,s=u));function r(u,f){u.preventDefault(),Ft(f)}return[s,r,u=>r(u,"/"),u=>r(u,"/"),u=>r(u,"/help"),u=>r(u,"/about"),u=>r(u,"/settings")]}class Cl extends J{constructor(e){super(),Z(this,e,Tl,Sl,X,{})}}function Al(n){let e,t,s,r,o,l,i,a,c,u,f,d,h,g,_;return a=new wl({}),u=new Cl({}),g=new nr({props:{routes:al}}),{c(){e=v("meta"),t=v("meta"),s=v("meta"),r=v("meta"),o=v("link"),l=$(),i=v("div"),z(a.$$.fragment),c=$(),z(u.$$.fragment),f=$(),d=v("main"),h=v("div"),z(g.$$.fragment),document.title="codex.md | Markdown Converter for Obsidian",p(e,"name","description"),p(e,"content","Convert various file types and web content to Markdown format for Obsidian"),p(t,"name","viewport"),p(t,"content","width=device-width, initial-scale=1"),p(s,"name","theme-color"),p(s,"content","#13151a"),p(r,"charset","utf-8"),p(o,"rel","icon"),p(o,"href","/favicon.png"),p(h,"class","app-container svelte-1sfyb5l"),p(d,"class","svelte-1sfyb5l"),p(i,"class","app-layout svelte-1sfyb5l")},m(k,b){m(document.head,e),m(document.head,t),m(document.head,s),m(document.head,r),m(document.head,o),C(k,l,b),C(k,i,b),D(a,i,null),m(i,c),D(u,i,null),m(i,f),m(i,d),m(d,h),D(g,h,null),_=!0},p:L,i(k){_||(E(a.$$.fragment,k),E(u.$$.fragment,k),E(g.$$.fragment,k),_=!0)},o(k){I(a.$$.fragment,k),I(u.$$.fragment,k),I(g.$$.fragment,k),_=!1},d(k){k&&(T(l),T(i)),T(e),T(t),T(s),T(r),T(o),U(a),U(u),U(g)}}}function Il(n){const e=Ve.subscribe(t=>{t.hasSeenWelcome});return Ie(()=>()=>{e()}),[]}class Ol extends J{constructor(e){super(),Z(this,e,Il,Al,X,{})}}new Ol({target:document.getElementById("app")});
//# sourceMappingURL=index-Dm3GV1oG.js.map
