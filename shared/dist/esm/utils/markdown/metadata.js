function t(t){if(!t||"object"!=typeof t)return"";const e=["---"];return Object.entries(t).forEach((([t,n])=>{Array.isArray(n)?n.length>0&&(e.push(`${t}:`),n.forEach((t=>e.push(`  - ${r(t)}`)))):null!=n&&""!==n&&e.push(`${t}: ${r(n)}`)})),e.push("---",""),e.join("\n")}function r(t){return"string"==typeof t?/[:#\[\]{}",\n]/.test(r=t)||r.trim()!==r||["true","false","yes","no","null"].includes(r.toLowerCase())||!isNaN(r)?`"${function(t){return t.replace(/"/g,'\\"').replace(/\n/g,"\\n")}(t)}"`:t:"number"==typeof t||"boolean"==typeof t?String(t):t instanceof Date?t.toISOString():"object"==typeof t?JSON.stringify(t):String(t);var r}function e(t){const r={};return Object.entries(t).forEach((([t,n])=>{if(null!=n&&""!==n)if(Array.isArray(n))n.length>0&&(r[t]=n);else if("object"==typeof n){const a=e(n);Object.keys(a).length>0&&(r[t]=a)}else r[t]=n})),r}function n(...t){const r={};return t.forEach((t=>{t&&"object"==typeof t&&Object.entries(t).forEach((([t,e])=>{Array.isArray(r[t])&&Array.isArray(e)?r[t]=[...new Set([...r[t],...e])]:"object"!=typeof r[t]||"object"!=typeof e||Array.isArray(r[t])||Array.isArray(e)?r[t]=e:r[t]=n(r[t],e)}))})),r}function a(t){if("string"!=typeof t)return{metadata:{},content:String(t||"")};const r=t.match(/^---\n([\s\S]*?)\n---\n?([\s\S]*)$/);if(!r)return{metadata:{},content:t};try{return{metadata:r[1].split("\n").reduce(((t,r)=>{const[e,...n]=r.split(":").map((t=>t.trim()));return e&&n.length&&(t[e]=n.join(":")),t}),{}),content:r[2].trim()}}catch(r){return console.error("Error parsing frontmatter:",r),{metadata:{},content:t}}}var o={formatMetadata:t,cleanMetadata:e,mergeMetadata:n,extractFrontmatter:a};export{e as cleanMetadata,o as default,a as extractFrontmatter,t as formatMetadata,n as mergeMetadata};
