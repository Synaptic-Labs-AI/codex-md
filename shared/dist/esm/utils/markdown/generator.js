import{formatMetadata as e}from"./metadata.js";function t({title:t,content:r,metadata:a={},tableOfContents:o=!1}){const c=[];Object.keys(a).length>0&&c.push(e(a)),c.push(`# ${s(t)}`,""),o&&c.push(i(r),"");const u=Array.isArray(r)?n(r):s(r);return c.push(u),c.filter(Boolean).join("\n")}function n(e){return Array.isArray(e)?e.map((e=>r(e))).join("\n\n"):r(e)}function r(e){if("string"==typeof e)return e;if("object"==typeof e)switch(e.type){case"list":return a(e.items,e.ordered);case"code":return o(e.code,e.language);case"quote":return c(e.text);case"heading":return u(e.text,e.level);default:return""}return""}function a(e,t=!1){return e.map(((e,n)=>`${t?`${n+1}.`:"-"} ${s(e)}`)).join("\n")}function o(e,t=""){return`\`\`\`${t}\n${e}\n\`\`\``}function c(e){return e.split("\n").map((e=>`> ${e}`)).join("\n")}function u(e,t=1){return t=Math.max(1,Math.min(6,t)),`${"#".repeat(t)} ${s(e)}`}function i(e){let t="## Table of Contents\n\n";return((Array.isArray(e)?e.join("\n"):e).match(/^#{2,3} .+$/gm)||[]).forEach((e=>{const n=e.match(/^#{2,3}/)[0].length-2,r=e.replace(/^#{2,3} /,""),a=r.toLowerCase().replace(/[^\w]+/g,"-");t+=`${"  ".repeat(n)}* [${r}](#${a})\n`})),t}function s(e){return e&&"string"==typeof e?e.replace(/([*_`~#[\]()>])/g,"\\$1").replace(/\n/g,"  \n"):String(e||"")}function f(e){return e.toLowerCase().replace(/[^\w\s-]/g,"").replace(/\s+/g,"-").replace(/-+/g,"-").replace(/^-+|-+$/g,"")}var l={generateMarkdown:t,formatContent:n,formatContentItem:r,formatList:a,formatCodeBlock:o,formatBlockquote:c,formatHeading:u,generateTableOfContents:i,escapeMarkdown:s,generateSlug:f};export{l as default,s as escapeMarkdown,c as formatBlockquote,o as formatCodeBlock,n as formatContent,r as formatContentItem,u as formatHeading,a as formatList,t as generateMarkdown,f as generateSlug,i as generateTableOfContents};
