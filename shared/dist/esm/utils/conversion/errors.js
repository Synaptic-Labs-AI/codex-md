const e={FILE_NOT_FOUND:"FILE_NOT_FOUND",INVALID_FILE_TYPE:"INVALID_FILE_TYPE",API_ERROR:"API_ERROR",CONVERSION_ERROR:"CONVERSION_ERROR",NETWORK_ERROR:"NETWORK_ERROR",PERMISSION_ERROR:"PERMISSION_ERROR",TIMEOUT_ERROR:"TIMEOUT_ERROR"};class t extends Error{constructor(t,r=e.CONVERSION_ERROR,s={}){super(t),this.name="ConversionError",this.type=r,this.details=s,this.timestamp=(new Date).toISOString()}toJSON(){return{name:this.name,type:this.type,message:this.message,details:this.details,timestamp:this.timestamp,stack:this.stack}}}class r extends t{constructor(t,r={}){super(t,e.FILE_NOT_FOUND,{path:r.path,...r}),this.name="FileError"}}class s extends t{constructor(t,r={}){super(t,e.API_ERROR,{statusCode:r.statusCode,endpoint:r.endpoint,...r}),this.name="ApiError"}}function n(r,s={}){const n=r instanceof t;return{success:!1,error:{type:n?r.type:e.CONVERSION_ERROR,message:r.message||"An unknown error occurred",details:n?r.details:{},context:s,timestamp:(new Date).toISOString(),stack:"development"===process.env.NODE_ENV?r.stack:void 0}}}function o(e,t={}){return async(...r)=>{try{return await e(...r)}catch(e){return n(e,{arguments:"development"===process.env.NODE_ENV?r:void 0,...t})}}}function a(e){return e&&!1===e.success&&e.error&&"object"==typeof e.error}function R(e){if(!a(e))return null;const{type:t,message:r,details:s,context:n}=e.error;return{type:t,message:r,details:s,context:n}}function i(e){return e instanceof t?`${e.type}: ${e.message}`:a(e)?`${e.error.type}: ${e.error.message}`:e?.message||"An unknown error occurred"}var E={ERROR_TYPES:e,ConversionError:t,FileError:r,ApiError:s,createErrorResponse:n,withErrorHandling:o,isErrorResponse:a,getErrorDetails:R,formatError:i};export{s as ApiError,t as ConversionError,e as ERROR_TYPES,r as FileError,n as createErrorResponse,E as default,i as formatError,R as getErrorDetails,a as isErrorResponse,o as withErrorHandling};
