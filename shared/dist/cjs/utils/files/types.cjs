"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const e={documents:["pdf","docx","pptx","rtf","txt","md"],audio:["mp3","wav","ogg","m4a","aac","wma"],video:["mp4","mov","avi","mkv","webm"],data:["csv","xlsx","xls","json","yaml"],web:["url","parenturl"]},r={BINARY:"binary",TEXT:"text",URL:"url"},t={docx:{handling:r.BINARY,converter:"text",requiresOcr:!1},pptx:{handling:r.BINARY,converter:"text",requiresOcr:!1},pdf:{handling:r.BINARY,converter:"pdf",requiresOcr:!0},xlsx:{handling:r.BINARY,converter:"data",requiresOcr:!1},csv:{handling:r.TEXT,converter:"data",requiresOcr:!1},mp3:{handling:r.BINARY,converter:"audio",requiresOcr:!1},wav:{handling:r.BINARY,converter:"audio",requiresOcr:!1},mp4:{handling:r.BINARY,converter:"video",requiresOcr:!1}},n=["mp3","wav","ogg","m4a","mpga","mp4","webm","avi","mov","mpeg"];function i(i){const o="string"==typeof i?i:i.name||i.originalFileName||"unknown",a=o.split(".").pop().toLowerCase();if("object"==typeof i&&i.type&&["url","parenturl"].includes(i.type))return{fileName:o,fileType:i.type,category:"web",handling:r.URL,converter:i.type,requiresOcr:!1,isWeb:!0,isBinary:!1};let s="unknown";for(const[r,t]of Object.entries(e))if(t.includes(a)){s=r;break}const c=t[a]||{handling:r.TEXT,converter:"text",requiresOcr:!1};return{fileName:o,fileType:a,category:s,...c,isWeb:"web"===s,isBinary:c.handling===r.BINARY,requiresApiKey:n.includes(a)}}async function o(e){return i(e).isBinary?await e.arrayBuffer():await e.text()}function a(e){return i(e).category}function s(e){return i(e).requiresApiKey}var c={FILE_CATEGORIES:e,HANDLING_TYPES:r,CONVERTER_CONFIG:t,API_REQUIRED_TYPES:n,getFileHandlingInfo:i,getFileContent:o,getFileType:a,requiresApiKey:s};exports.API_REQUIRED_TYPES=n,exports.CONVERTER_CONFIG=t,exports.FILE_CATEGORIES=e,exports.HANDLING_TYPES=r,exports.default=c,exports.getFileContent=o,exports.getFileHandlingInfo=i,exports.getFileType=a,exports.requiresApiKey=s;
