"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("./types.js");const i={default:Number.MAX_SAFE_INTEGER,video:Number.MAX_SAFE_INTEGER,audio:Number.MAX_SAFE_INTEGER};function t(i){if(!i)return!1;const t=("string"==typeof i?i:i.name||"").toLowerCase().split(".").pop();return Object.values(e.FILE_CATEGORIES).flat().includes(t)}function r(e){if(!e)return"0 B";const i=["B","KB","MB","GB"];let t=e,r=0;for(;t>=1024&&r<i.length-1;)t/=1024,r++;return`${Math.round(100*t)/100} ${i[r]}`}function s(e,t="default"){if(!e||!e.size)return{valid:!1,message:"Invalid file",maxSize:i[t]||i.default};const s=i[t]||i.default,l=e.size<=s;return{valid:l,maxSize:s,message:l?"":`File exceeds size limit of ${r(s)}`}}function l(e,i={}){if(!e)return{valid:!1,errors:["No file provided"]};const l=[];t(e)||l.push("Unsupported file type");const a=s(e,i.category);return a.valid||l.push(a.message),{valid:0===l.length,errors:l,fileSize:e.size,formattedSize:r(e.size),...a}}var a={FILE_SIZE_LIMITS:i,isValidFileType:t,formatFileSize:r,validateFileSize:s,validateFile:l};exports.FILE_SIZE_LIMITS=i,exports.default=a,exports.formatFileSize=r,exports.isValidFileType=t,exports.validateFile=l,exports.validateFileSize=s;
