"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var t=require("path"),e=require("os");function r(t){return t&&"object"==typeof t&&"default"in t?t:{default:t}}var a=r(t),s=r(e);exports.PathUtils=class{static normalizePath(t){if(!t)return t;let e=a.default.normalize(t).replace(/\\/g,a.default.sep).replace(/\/$/g,"");if("win32"===process.platform&&!e.startsWith("\\\\?\\")){const t=e.startsWith("\\\\");e.length>260&&!t?e=`\\\\?\\${e}`:t&&e.length>255&&(e=`\\\\?\\UNC\\${e.slice(2)}`)}return e}static ensureValidPath(t){if(!t)throw new Error("Path cannot be empty");if(("win32"===process.platform?/[<>:"|?*]/g:/\0/g).test(t))throw new Error(`Path contains illegal characters: ${t}`);if("win32"===process.platform){if(a.default.resolve(t).length>32767)throw new Error("Path exceeds maximum length supported by Windows")}return!0}static resolvePath(t,...e){const r=a.default.join(t,...e);return this.normalizePath(a.default.resolve(r))}static toPlatformPath(t){return t.split(/[/\\]/).join(a.default.sep)}static resolveHomePath(t){return t?t.startsWith("~")?a.default.join(s.default.homedir(),t.slice(1)):t.replace(/\$HOME/g,s.default.homedir()):t}static getAbsolutePath(t){const e=a.default.resolve(t);return this.normalizePath(e)}static sanitizeFileName(t){if(!t)return t;const e="win32"===process.platform?/[<>:"/\\|?*\x00-\x1F]/g:/[/\x00-\x1F]/g;return t.replace(e,"-").replace(/\s+/g,"-").replace(/-+/g,"-").trim()}static async isAccessible(t){try{return await fs.access(t),!0}catch{return!1}}};
