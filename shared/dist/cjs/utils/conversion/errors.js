"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const r={FILE_NOT_FOUND:"FILE_NOT_FOUND",INVALID_FILE_TYPE:"INVALID_FILE_TYPE",API_ERROR:"API_ERROR",CONVERSION_ERROR:"CONVERSION_ERROR",NETWORK_ERROR:"NETWORK_ERROR",PERMISSION_ERROR:"PERMISSION_ERROR",TIMEOUT_ERROR:"TIMEOUT_ERROR"};class e extends Error{constructor(e,t=r.CONVERSION_ERROR,s={}){super(e),this.name="ConversionError",this.type=t,this.details=s,this.timestamp=(new Date).toISOString()}toJSON(){return{name:this.name,type:this.type,message:this.message,details:this.details,timestamp:this.timestamp,stack:this.stack}}}class t extends e{constructor(e,t={}){super(e,r.FILE_NOT_FOUND,{path:t.path,...t}),this.name="FileError"}}class s extends e{constructor(e,t={}){super(e,r.API_ERROR,{statusCode:t.statusCode,endpoint:t.endpoint,...t}),this.name="ApiError"}}function o(t,s={}){const o=t instanceof e;return{success:!1,error:{type:o?t.type:r.CONVERSION_ERROR,message:t.message||"An unknown error occurred",details:o?t.details:{},context:s,timestamp:(new Date).toISOString(),stack:"development"===process.env.NODE_ENV?t.stack:void 0}}}function n(r,e={}){return async(...t)=>{try{return await r(...t)}catch(r){return o(r,{arguments:"development"===process.env.NODE_ENV?t:void 0,...e})}}}function E(r){return r&&!1===r.success&&r.error&&"object"==typeof r.error}function i(r){if(!E(r))return null;const{type:e,message:t,details:s,context:o}=r.error;return{type:e,message:t,details:s,context:o}}function R(r){return r instanceof e?`${r.type}: ${r.message}`:E(r)?`${r.error.type}: ${r.error.message}`:r?.message||"An unknown error occurred"}var a={ERROR_TYPES:r,ConversionError:e,FileError:t,ApiError:s,createErrorResponse:o,withErrorHandling:n,isErrorResponse:E,getErrorDetails:i,formatError:R};exports.ApiError=s,exports.ConversionError=e,exports.ERROR_TYPES=r,exports.FileError=t,exports.createErrorResponse=o,exports.default=a,exports.formatError=R,exports.getErrorDetails=i,exports.isErrorResponse=E,exports.withErrorHandling=n;
