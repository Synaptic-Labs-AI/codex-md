"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("./metadata.js");function t({title:t,content:n,metadata:o={},tableOfContents:a=!1}){const s=[];Object.keys(o).length>0&&s.push(e.formatMetadata(o)),s.push(`# ${i(t)}`,""),a&&s.push(u(n),"");const c=Array.isArray(n)?r(n):i(n);return s.push(c),s.filter(Boolean).join("\n")}function r(e){return Array.isArray(e)?e.map((e=>n(e))).join("\n\n"):n(e)}function n(e){if("string"==typeof e)return e;if("object"==typeof e)switch(e.type){case"list":return o(e.items,e.ordered);case"code":return a(e.code,e.language);case"quote":return s(e.text);case"heading":return c(e.text,e.level);default:return""}return""}function o(e,t=!1){return e.map(((e,r)=>`${t?`${r+1}.`:"-"} ${i(e)}`)).join("\n")}function a(e,t=""){return`\`\`\`${t}\n${e}\n\`\`\``}function s(e){return e.split("\n").map((e=>`> ${e}`)).join("\n")}function c(e,t=1){return t=Math.max(1,Math.min(6,t)),`${"#".repeat(t)} ${i(e)}`}function u(e){let t="## Table of Contents\n\n";return((Array.isArray(e)?e.join("\n"):e).match(/^#{2,3} .+$/gm)||[]).forEach((e=>{const r=e.match(/^#{2,3}/)[0].length-2,n=e.replace(/^#{2,3} /,""),o=n.toLowerCase().replace(/[^\w]+/g,"-");t+=`${"  ".repeat(r)}* [${n}](#${o})\n`})),t}function i(e){return e&&"string"==typeof e?e.replace(/([*_`~#[\]()>])/g,"\\$1").replace(/\n/g,"  \n"):String(e||"")}function f(e){return e.toLowerCase().replace(/[^\w\s-]/g,"").replace(/\s+/g,"-").replace(/-+/g,"-").replace(/^-+|-+$/g,"")}var p={generateMarkdown:t,formatContent:r,formatContentItem:n,formatList:o,formatCodeBlock:a,formatBlockquote:s,formatHeading:c,generateTableOfContents:u,escapeMarkdown:i,generateSlug:f};exports.default=p,exports.escapeMarkdown=i,exports.formatBlockquote=s,exports.formatCodeBlock=a,exports.formatContent=r,exports.formatContentItem=n,exports.formatHeading=c,exports.formatList=o,exports.generateMarkdown=t,exports.generateSlug=f,exports.generateTableOfContents=u;
